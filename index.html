<!DOCTYPE html>
<html lang="ru">
<head>
  <meta name="yandex-verification" content="0f8a754dff5d6823" />
  <meta name="google-site-verification" content="fzfaHO9lVXDMgz6FsFgxfa0lo8SkCSC5BgW7S8RDfL4" />
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <meta name="description" content="UX Инженер и производительности или где пользовательский опыт берет начало в архитектуре">
  <meta name="keywords" content="UX-инженер, UX-инженерия, UX-systems-engineer, performance engineer, web-performance, web-optimization, legacy, legacy-modernization, OpenCart, CMS, PWA, SRE, e-commerce, UX-architecture, predictive-navigation">
  <title>Инженерия UX и производительности</title>
  <link rel="icon" href="https://raw.githubusercontent.com/kyrchenkov/kyrchenkov.github.io/refs/heads/main/favicon.png" type="image/png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="https://sre.uxengineer.ru/" rel="canonical" />
  <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js" defer></script>

  <script>
  (function () {
    'use strict';
  
    const BLOCK_TIMES = {
      'shock-btn': 4000,
      'ui-to-top': 2000,
      'ux-btn': 28000,
      'turn-off-btn': 12000
    };
  
    let isBlocked = false;
    let isTurnOffActive = false;
  
    function preventScroll(e) {
      e.preventDefault();
      e.stopPropagation();
    }
  
    function preventDefault(e) {
      e.preventDefault();
      e.stopPropagation();
    }
  
    function enableFullLock() {
      if (isTurnOffActive) return;
      isTurnOffActive = true;
  
      document.addEventListener('touchmove', preventScroll, { passive: false });
      document.addEventListener('wheel', preventScroll, { passive: false });
      document.addEventListener('contextmenu', preventDefault, { passive: false });
      document.addEventListener('selectstart', preventDefault, { passive: false });
      document.addEventListener('dragstart', preventDefault, { passive: false });
  
      const style = document.body.style;
      style.overflow = 'hidden';
      style.touchAction = 'none';
      style.userSelect = 'none';
      style.webkitUserSelect = 'none';
  
      const cursorStyle = document.createElement('style');
      cursorStyle.id = 'ux-cursor-lock';
      cursorStyle.textContent = ':root, body, html, * { cursor: none !important; }';
      document.head.appendChild(cursorStyle);
  
      document.documentElement.classList.add('ux-no-scroll');
  
      if (document.fullscreenEnabled && !document.fullscreenElement) {
        document.documentElement.requestFullscreen().catch(() => {});
      }
    }
  
    function disableFullLock() {
      if (!isTurnOffActive) return;
      isTurnOffActive = false;
  
      document.removeEventListener('touchmove', preventScroll, { passive: false });
      document.removeEventListener('wheel', preventScroll, { passive: false });
      document.removeEventListener('contextmenu', preventDefault, { passive: false });
      document.removeEventListener('selectstart', preventDefault, { passive: false });
      document.removeEventListener('dragstart', preventDefault, { passive: false });
  
      const style = document.body.style;
      style.overflow = '';
      style.touchAction = '';
      style.userSelect = '';
      style.webkitUserSelect = '';
  
      const lockStyle = document.getElementById('ux-cursor-lock');
      if (lockStyle) lockStyle.remove();
  
      document.documentElement.classList.remove('ux-no-scroll');
  
      if (document.fullscreenElement) {
        document.exitFullscreen().catch(() => {});
      }
    }
  
    function blockFor(duration, isTurnOff = false) {
      if (isBlocked) return;
      isBlocked = true;
  
      if (isTurnOff) {
        enableFullLock();
      }
  
      setTimeout(() => {
        isBlocked = false;
        if (isTurnOff) {
          disableFullLock();
        }
      }, duration);
    }
  
    function handleButtonClick(event) {
      const button = event.target.closest('button');
      if (!button) return;
  
      const match = Object.keys(BLOCK_TIMES).find(cls => button.classList.contains(cls));
      if (!match) return;
  
      requestAnimationFrame(() => {
        const duration = BLOCK_TIMES[match];
        const isTurnOff = match === 'turn-off-btn';
        blockFor(duration, isTurnOff);
      });
    }
  
    function handleGlobalClick(event) {
      if (isBlocked) {
        event.stopImmediatePropagation();
        event.preventDefault();
      }
    }
  
    function init() {
      document.addEventListener('click', handleButtonClick, true);
      document.addEventListener('click', handleGlobalClick, true);
  
      window.addEventListener('beforeunload', () => {
        isBlocked = false;
        if (isTurnOffActive) {
          disableFullLock();
        }
      });
    }
  
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', init);
    } else {
      init();
    }
  })();
  </script>
  
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap');
	
	@-webkit-keyframes breathe {
	  50% {
	    opacity: 0.80;
	    -webkit-transform: scale(0.995);
                transform: scale(0.995);
	  }
	}

	@-moz-keyframes breathe {
 	 50% {
	    opacity: 0.80;
	    -moz-transform: scale(0.995);
             transform: scale(0.995);
	  }
	}

	@-ms-keyframes breathe {
	  50% {
	    opacity: 0.80;
	    -ms-transform: scale(0.995);
	        transform: scale(0.995);
	  }
	}

	@-o-keyframes breathe {
	  50% {
	    opacity: 0.80;
	    -o-transform: scale(0.995);
           transform: scale(0.995);
	  }
	}

	@keyframes breathe {
	  50% {
	    opacity: 0.80;
	    transform: scale(0.995);
	  }
	}
	
	@-webkit-keyframes stun {
	  50% {
	    -webkit-filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	            filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	  }
	  95% {
	    -webkit-filter: drop-shadow(0px 0px 5px #0069c1) contrast(1);
	            filter: drop-shadow(0px 0px 5px #0069c1) contrast(1);
	  }
	  95.5% {
	    -webkit-filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	            filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	  }
 	 96% {
	    -webkit-filter: drop-shadow(0px 0px 5px #0069c1) contrast(1);
	            filter: drop-shadow(0px 0px 5px #0069c1) contrast(1);
	  }
	  96.5% {
	    -webkit-filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	            filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	  }
	  99% {
 	   -webkit-filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	            filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	  }
	}

	@-moz-keyframes stun {
	  50% {
	    -moz-filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	         filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	  }
	  95% {
	    -moz-filter: drop-shadow(0px 0px 5px #0069c1) contrast(1);
	         filter: drop-shadow(0px 0px 5px #0069c1) contrast(1);
	  }
	  95.5% {
	    -moz-filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	         filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	  }
	  96% {
	    -moz-filter: drop-shadow(0px 0px 5px #0069c1) contrast(1);
	         filter: drop-shadow(0px 0px 5px #0069c1) contrast(1);
	  }
	  96.5% {
	    -moz-filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	         filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	  }
 	 99% {
 	   -moz-filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	        filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
 	 }
	}

	@-ms-keyframes stun {
	  50% {
	    -ms-filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	        filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	  }
	  95% {
	    -ms-filter: drop-shadow(0px 0px 5px #0069c1) contrast(1);
	        filter: drop-shadow(0px 0px 5px #0069c1) contrast(1);
	  }
	  95.5% {
	    -ms-filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	        filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	  }
	  96% {
	    -ms-filter: drop-shadow(0px 0px 5px #0069c1) contrast(1);
	        filter: drop-shadow(0px 0px 5px #0069c1) contrast(1);
	  }
 	 96.5% {
	    -ms-filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	        filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	  }
	  99% {
 	   -ms-filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	        filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	  }
	}

	@-o-keyframes stun {
	  50% {
	    -o-filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	       filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	  }
	  95% {
	    -o-filter: drop-shadow(0px 0px 5px #0069c1) contrast(1);
	       filter: drop-shadow(0px 0px 5px #0069c1) contrast(1);
	  }
	  95.5% {
	    -o-filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	       filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	  }
	  96% {
	    -o-filter: drop-shadow(0px 0px 5px #0069c1) contrast(1);
	       filter: drop-shadow(0px 0px 5px #0069c1) contrast(1);
	  }
	  96.5% {
	    -o-filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	       filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	  }
	  99% {
	    -o-filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	       filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	  }
	}

	@keyframes stun {
	  50% {
	    filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	  }
	  95% {
	    filter: drop-shadow(0px 0px 5px #0069c1) contrast(1);
	  }
	  95.5% {
	    filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	  }
	  96% {
	    filter: drop-shadow(0px 0px 5px #0069c1) contrast(1);
	  }
	  96.5% {
	    filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	  }
	  99% {
	    filter: drop-shadow(0px 0px 5px #0069c1) contrast(1.3);
	  }
	}

	@-webkit-keyframes sigh-stun {
	  50% {
	    opacity: 1;
	    -webkit-filter: drop-shadow(0px 0px 3px #0069c1) contrast(1.05);
	            filter: drop-shadow(0px 0px 3px #0069c1) contrast(1.05);
	  }
	}

	@-moz-keyframes sigh-stun {
	  50% {
	    opacity: 1;
	    -moz-filter: drop-shadow(0px 0px 3px #0069c1) contrast(1.05);
	         filter: drop-shadow(0px 0px 3px #0069c1) contrast(1.05);
	  }
	}

	@-ms-keyframes sigh-stun {
	  50% {
 	   opacity: 1;
 	   -ms-filter: drop-shadow(0px 0px 3px #0069c1) contrast(1.05);
	       filter: drop-shadow(0px 0px 3px #0069c1) contrast(1.05);
	  }
	}

	@-o-keyframes sigh-stun {
	  50% {
	    opacity: 1;
	    -o-filter: drop-shadow(0px 0px 3px #0069c1) contrast(1.05);
	       filter: drop-shadow(0px 0px 3px #0069c1) contrast(1.05);
	  }
	}

	@keyframes sigh-stun {
 	 50% {
	    opacity: 1;
	    filter: drop-shadow(0px 0px 3px #0069c1) contrast(1.05);
	  }
	}

	@-webkit-keyframes ready {
	  25% {
	    color: #5695ff;
	  }
	  50% {
 	   color: transparent;
 	   background-image: -webkit-linear-gradient(270deg, #5695ff 25%, #785fff 90%);
	   background-image:         linear-gradient(270deg, #5695ff 25%, #785fff 90%);
	  }
	  75% {
	    color: #785fff;
	}
	}

	@-moz-keyframes ready {
	  25% {
	    color: #5695ff;
	  }
	  50% {
	    color: transparent;
	    background-image: -moz-linear-gradient(270deg, #5695ff 25%, #785fff 90%);
	    background-image:      linear-gradient(270deg, #5695ff 25%, #785fff 90%);
	  }
	  75% {
	    color: #785fff;
	  }
	}

	@-ms-keyframes ready {
	  25% {
	    color: #5695ff;
	  }
	  50% {
 	   color: transparent;
 	   background-image: -ms-linear-gradient(270deg, #5695ff 25%, #785fff 90%);
	   background-image:     linear-gradient(270deg, #5695ff 25%, #785fff 90%);
	  }
	  75% {
	    color: #785fff;
	  }
	}

	@-o-keyframes ready {
	  25% {
	    color: #5695ff;
	  }
	  50% {
 	   color: transparent;
	    background-image: -o-linear-gradient(270deg, #5695ff 25%, #785fff 90%);
	    background-image:    linear-gradient(270deg, #5695ff 25%, #785fff 90%);
	  }
	  75% {
	    color: #785fff;
	  }
	}

	@keyframes ready {
	  25% {
	    color: #5695ff;
	  }
	  50% {
	    color: transparent;
	    background-image: linear-gradient(270deg, #5695ff 25%, #785fff 90%);
	  }
	  75% {
	    color: #785fff;
	  }
	}
	
	@-webkit-keyframes ux-btn {
	  50% {
	    opacity: 0.85;
	    -webkit-transform: scale(.97);
	  }
	}
	
	@-moz-keyframes ux-btn {
	  50% {
	    opacity: 0.85;
	    -moz-transform: scale(.97);
	  }
	}

	@-ms-keyframes ux-btn {
	  50% {
	    opacity: 0.85;
	    -ms-transform: scale(.97);
	  }
	}

	@-o-keyframes ux-btn {
	  50% {
	    opacity: 0.85;
	    -o-transform: scale(.97);
	  }
	}

	@keyframes ux-btn {
	  50% {
	    opacity: 0.85;
	    transform: scale(.97);
	  }
	}
	
	@keyframes fade-in {
	  from { opacity: 0; visibility: hidden; }
	    to { opacity: 1; visibility: visible; }
	}
	
	@-webkit-keyframes chaoticGlow {
	  0%   { -webkit-box-shadow: 0 0 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  10%  { -webkit-box-shadow: 10px -10px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  20%  { -webkit-box-shadow: -10px 10px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  30%  { -webkit-box-shadow: 10px 10px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  40%  { -webkit-box-shadow: -10px -10px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  50%  { -webkit-box-shadow: 0 0 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  60%  { -webkit-box-shadow: 15px 0 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  70%  { -webkit-box-shadow: -15px 0 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  80%  { -webkit-box-shadow: 0 15px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  90%  { -webkit-box-shadow: 0 -15px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  100% { -webkit-box-shadow: 0 0 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	}

	@-moz-keyframes chaoticGlow {
	  0%   { -moz-box-shadow: 0 0 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  10%  { -moz-box-shadow: 10px -10px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  20%  { -moz-box-shadow: -10px 10px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  30%  { -moz-box-shadow: 10px 10px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  40%  { -moz-box-shadow: -10px -10px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  50%  { -moz-box-shadow: 0 0 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  60%  { -moz-box-shadow: 15px 0 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  70%  { -moz-box-shadow: -15px 0 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  80%  { -moz-box-shadow: 0 15px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  90%  { -moz-box-shadow: 0 -15px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  100% { -moz-box-shadow: 0 0 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	}

	@-ms-keyframes chaoticGlow {
	  0%   { -ms-box-shadow: 0 0 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  10%  { -ms-box-shadow: 10px -10px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  20%  { -ms-box-shadow: -10px 10px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  30%  { -ms-box-shadow: 10px 10px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  40%  { -ms-box-shadow: -10px -10px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  50%  { -ms-box-shadow: 0 0 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  60%  { -ms-box-shadow: 15px 0 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  70%  { -ms-box-shadow: -15px 0 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  80%  { -ms-box-shadow: 0 15px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  90%  { -ms-box-shadow: 0 -15px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  100% { -ms-box-shadow: 0 0 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	}

	@-o-keyframes chaoticGlow {
	  0%   { -o-box-shadow: 0 0 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  10%  { -o-box-shadow: 10px -10px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  20%  { -o-box-shadow: -10px 10px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  30%  { -o-box-shadow: 10px 10px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  40%  { -o-box-shadow: -10px -10px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  50%  { -o-box-shadow: 0 0 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  60%  { -o-box-shadow: 15px 0 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  70%  { -o-box-shadow: -15px 0 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  80%  { -o-box-shadow: 0 15px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  90%  { -o-box-shadow: 0 -15px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  100% { -o-box-shadow: 0 0 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	}

	@keyframes chaoticGlow {
	  0%   { box-shadow: 0 0 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  10%  { box-shadow: 10px -10px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  20%  { box-shadow: -10px 10px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  30%  { box-shadow: 10px 10px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  40%  { box-shadow: -10px -10px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  50%  { box-shadow: 0 0 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  60%  { box-shadow: 15px 0 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  70%  { box-shadow: -15px 0 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  80%  { box-shadow: 0 15px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  90%  { box-shadow: 0 -15px 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  100% { box-shadow: 0 0 15px #a55fff7f inset, 0 0 20px #9646ff7f, 0 0 30px #a55fff3f; }
	  }
	  
	@keyframes fadeIn {
	  to {
	    opacity: 0.9;
	  }
	}
	
	@keyframes glowPulse {
	  0% {
	    top: 50%;
	    left: 50%;
	    box-shadow: 0 0 20px rgba(255, 255, 255, 0.4),
                    0 0 40px rgba(255, 255, 255, 0.3);
	  }

	  8% {
	    top: 47%;
	    left: 46%;
	  }

	  16% {
	    top: 45%;
	    left: 52%;
	  }

	  24% {
	    top: 51%;
	    left: 45%;
	  }

	  32% {
	    top: 49%;
	    left: 54%;
	  }

	  40% {
	    top: 46%;
	    left: 48%;
	  }

	  48% {
	    top: 53%;
	    left: 50%;
	  }

	  50% {
	    top: 53%;
	    left: 50%;
	    box-shadow: 0 0 30px rgba(255, 255, 255, 0.6),
                    0 0 60px rgba(255, 255, 255, 0.5),
                    0 0 90px rgba(255, 255, 255, 0.3);
	  }

	  58% {
	    top: 48%;
	    left: 55%;
	  }

	  66% {
	    top: 54%;
	    left: 47%;
	  }

	  74% {
	    top: 46%;
	    left: 46%;
	  }

	  82% {
	    top: 52%;
	    left: 53%;
	  }

	  90% {
	    top: 45%;
	    left: 49%;
	  }

	  100% {
	    top: 50%;
	    left: 50%;
	    box-shadow: 0 0 20px rgba(255, 255, 255, 0.4),
                    0 0 40px rgba(255, 255, 255, 0.3);
	  }
	}

	@keyframes breatheRing {
	  0%, 100% { opacity: 0; transform: translate(-50%, -50%) scale(0.9); }
	       50% { opacity: 0.4; transform: translate(-50%, -50%) scale(1.1); }
	}
	
	@keyframes flash {
	  0% { transform: scale(1); opacity: 0; }
	  50% { opacity: 1; transform: scale(1.5); }
	  100% { opacity: 0; transform: scale(3); }
	}

	@keyframes revive {
	  35% { transform: scale(1.01, 1); }
	  75% { transform: scale(1, 1.01); }
	}

	@keyframes btn-vortex {
	  50% { transform: scaleX(0.95) scaleY(1.05); }
	}
	
	@keyframes vortex {
	  25% { transform: rotateZ(90deg); }
	  50% { font-size: 26px;
	        transform: rotateX(20deg)
	                   rotateX(20deg)
					   rotateZ(180deg); }
	  75% { transform: rotateZ(270deg); }
	}
	
	@keyframes enlarge {
	  50% { transform: scale(1.2); }
	}

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
	
    html {
      scroll-behavior: smooth;
	  caret-color: transparent;
    }

    body {
      font-family: 'Roboto', sans-serif;
      line-height: 1.6;
      color: #2c3e50eb;
	  background: #001334ad;
      padding: 40px;
      max-width: 1200px;
      margin: 0 auto;
    }
	
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
      word-wrap: normal;
    }
	
    .btn-to-top {
      z-index: 3;
      position: fixed;
      right: 35px;
      bottom: 25px;
      width: 50px;
      height: 50px;
      background-color: transparent;
      -webkit-border-radius: 50%;
         -moz-border-radius: 50%;
          -ms-border-radius: 50%;
           -o-border-radius: 50%;
              border-radius: 50%;
      --btn-bg-1: #2c3e5000;
      --btn-bg-2: #2c3e508a;
      background-size: 280% auto;
      background-image: -webkit-linear-gradient(325deg, var(--btn-bg-2) 0%,
	                                                    var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      background-image:    -moz-linear-gradient(325deg, var(--btn-bg-2) 0%,
	                                                    var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      background-image:     -ms-linear-gradient(325deg, var(--btn-bg-2) 0%,
	                                                    var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      background-image:      -o-linear-gradient(325deg, var(--btn-bg-2) 0%,
	                                                    var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      background-image:         linear-gradient(325deg, var(--btn-bg-2) 0%,
	                                                    var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      -webkit-box-shadow: 0px 0px 20px #2c3e509e,
			              0px 5px 5px -1px #2c3e50a8;
         -moz-box-shadow: 0px 0px 20px #2c3e509e,
			              0px 5px 5px -1px #2c3e50a8;
          -ms-box-shadow: 0px 0px 20px #2c3e509e,
			              0px 5px 5px -1px #2c3e50a8;
           -o-box-shadow: 0px 0px 20px #2c3e509e,
			              0px 5px 5px -1px #2c3e50a8;
              box-shadow: 0px 0px 20px #2c3e509e,
			              0px 5px 5px -1px #2c3e50a8;
      -webkit-transition: 1.1s all cubic-bezier(0, 1.03, 0.11, 1.35);
		 -moz-transition: 1.1s all cubic-bezier(0, 1.03, 0.11, 1.35);
		  -ms-transition: 1.1s all cubic-bezier(0, 1.03, 0.11, 1.35);
		   -o-transition: 1.1s all cubic-bezier(0, 1.03, 0.11, 1.35);
		      transition: 1.1s all cubic-bezier(0, 1.03, 0.11, 1.35);
      animation: fade-in linear forwards;
      animation-timeline: scroll();
      animation-range: 0 300px;
    }
	
    .btn-to-top:active {
      -webkit-border-radius: 45%;
         -moz-border-radius: 45%;
          -ms-border-radius: 45%;
           -o-border-radius: 45%;
		      border-radius: 45%;
      -webkit-transform: scaleX(0.9) scaleY(1.2) translateY(20px);
         -moz-transform: scaleX(0.9) scaleY(1.2) translateY(20px);
          -ms-transform: scaleX(0.9) scaleY(1.2) translateY(20px);
           -o-transform: scaleX(0.9) scaleY(1.2) translateY(20px);
		      transform: scaleX(0.9) scaleY(1.2) translateY(20px);
    filter: blur(1px) contrast(0.9);
    }
	
    .btn-to-top i {
      width: 50px;
      height: 50px;
      text-align: center;
      align-content: center;
      font-size: 28px;
      color: #ffffff3b;
      text-shadow: 0px 0px 18px #ffffffdb;
      filter: drop-shadow(0px 0px 2px #2c3e50eb);
    }
	
    .home-page {
      text-shadow: 0px 0px 20px #cee9ff;
    }

    .home-page h1 {
      color: #d3e3ff;
      font-size: 28px;
      text-align: center;
      padding-bottom: 15px;
      margin-bottom: 10px;
      border-bottom: 4px solid transparent;
      border-image-slice: 1 !important;
      border-image: -webkit-linear-gradient(to right, transparent, #d3e3ff, transparent);
	  border-image:    -moz-linear-gradient(to right, transparent, #d3e3ff, transparent);
	  border-image:     -ms-linear-gradient(to right, transparent, #d3e3ff, transparent);
	  border-image:      -o-linear-gradient(to right, transparent, #d3e3ff, transparent);
	  border-image:         linear-gradient(to right, transparent, #d3e3ff, transparent);
      filter: drop-shadow(0px 0px 3px #2c3e50eb) contrast(1);
      -webkit-animation: stun 8s linear infinite;
         -moz-animation: stun 8s linear infinite;
          -ms-animation: stun 8s linear infinite;
           -o-animation: stun 8s linear infinite;
              animation: stun 8s linear infinite;
    }

    .home-page h2 {
      color: #d3e3ff;
      font-size: 20px;
      padding-bottom: 8px;
      margin-top: 30px;
      opacity: 0.99;
      border-bottom: 2px solid transparent;
      border-image-slice: 1 !important;
      border-image: -webkit-linear-gradient(to right, transparent 0%, #d3e3ff 5%, transparent 100%);
	  border-image:    -moz-linear-gradient(to right, transparent 0%, #d3e3ff 5%, transparent 100%);
	  border-image:     -ms-linear-gradient(to right, transparent 0%, #d3e3ff 5%, transparent 100%);
	  border-image:      -o-linear-gradient(to right, transparent 0%, #d3e3ff 5%, transparent 100%);
	  border-image:         linear-gradient(to right, transparent 0%, #d3e3ff 5%, transparent 100%);
      filter: drop-shadow(0px 0px 2px #2c3e50eb) contrast(1.2);
      -webkit-animation: sigh-stun 8s linear infinite;
         -moz-animation: sigh-stun 8s linear infinite;
          -ms-animation: sigh-stun 8s linear infinite;
           -o-animation: sigh-stun 8s linear infinite;
              animation: sigh-stun 8s linear infinite;
    }

    .home-page h3 {
      font-size: 18px;
      margin-top: 20px;
      padding: 8px 12px 3px 15px;
      user-select: none;
      color: #2c3e50;
      opacity: .7;
    }

    .home-page p {
      margin: 8px 0;
      text-align: justify;
    }

    .home-page ul, .home-page ol {
      margin: 10px 0 10px 30px;
    }

    .home-page li {
      margin: 5px 0;
    }
	
	.home-page h1, .home-page h2, .home-page h3, .home-page p, .home-page a, .home-page div,
    a:-webkit-any-link {
      cursor: default;
    }

    .home-page code {
      color: #002653b3;
      background: #ffffff24;
      padding: 2px 6px;
      -webkit-border-radius: 6px;
         -moz-border-radius: 6px;
          -ms-border-radius: 6px;
           -o-border-radius: 6px;
              border-radius: 6px;
      font-family: 'Courier New', monospace;
      font-size: 14px;
	  user-select: none;
	  border: 1px solid #ffffff0f;
      filter: drop-shadow(2px 4px 5px #ffffff24);
      text-shadow: 0px 0px 2px #ffffff24;
      -webkit-transition: 0.8s all ease;
         -moz-transition: 0.8s all ease;
          -ms-transition: 0.8s all ease;
           -o-transition: 0.8s all ease;
              transition: 0.8s all ease;
    }
	
    .home-page code:hover {
      color: #1f4778c9;
      text-shadow: 0px 0px 20px #ffffff,
	               0px 0px 20px #ffffff,
	               0px 0px 5px #cfe5fffc;
    }
	
    .home-page code:active {
      text-shadow: 0px 0px 20px #ffffff,
	               0px 0px 20px #ffffff,
				   0px 0px 5px #ffffff;
      filter: drop-shadow(2px 4px 6px #ffffff);
    }

    .home-page pre {
      color: #2c3e50eb;
      max-height: 492px;
      width: 600px;
      max-width: 80vw;
      padding: 35px;
	  user-select: all;
	  margin: 0 -330px 0 125px;
      -webkit-border-radius: 35px;
	     -moz-border-radius: 35px;
	      -ms-border-radius: 35px;
	       -o-border-radius: 35px;
	          border-radius: 35px;
      overflow: auto;
      font-size: 13px;
      line-height: 1.5;
      break-inside: avoid;
      page-break-inside: avoid;
      -webkit-box-shadow: inset 0px 8px 16px #00133438;
	     -moz-box-shadow: inset 0px 8px 16px #00133438;
	      -ms-box-shadow: inset 0px 8px 16px #00133438;
	       -o-box-shadow: inset 0px 8px 16px #00133438;
	          box-shadow: inset 0px 8px 16px #00133438;
    }
	
    .home-page pre::-webkit-scrollbar {
      display: none;
    }
	
    .home-page pre {
      scrollbar-width: none;
      scrollbar-color: transparent transparent;
    }
	
    .home-page pre {
      -ms-overflow-style: none;
    }

    .home-page table {
      width: 100%;
      border-collapse: collapse;
      margin: 15px 0;
      font-size: 14px;
      break-inside: avoid;
      page-break-inside: avoid;
    }

    .home-page table, .home-page th, .home-page td {
      border: 1px solid #ddd;
    }

    .home-page th, .home-page td {
      padding: 10px;
      text-align: left;
    }

    .home-page th {
      background: #f8f5ef;
      color: #3b87f3;
    }

    .home-page tr:nth-child(even) {
      background: #f9fafa;
    }
	
    .home-page blockquote {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 12px 20px;
      font-style: italic;
      line-height: 1.2;
      color: transparent;
	  text-decoration: none;
	  text-shadow: 0px 0px 3px #2c3e50eb;
      -webkit-background-clip: text;
         -moz-background-clip: text;
          -ms-background-clip: text;
           -o-background-clip: text;
              background-clip: text;
      background-image: -webkit-linear-gradient(90deg, #5695ff 25%, #785fff 90%);
      background-image:    -moz-linear-gradient(90deg, #5695ff 25%, #785fff 90%);
      background-image:     -ms-linear-gradient(90deg, #5695ff 25%, #785fff 90%);
      background-image:      -o-linear-gradient(90deg, #5695ff 25%, #785fff 90%);
      background-image:         linear-gradient(90deg, #5695ff 25%, #785fff 90%);
      -webkit-animation: ready 16s linear infinite;
         -moz-animation: ready 16s linear infinite;
          -ms-animation: ready 16s linear infinite;
           -o-animation: ready 16s linear infinite;
              animation: ready 16s linear infinite;
    }
	
    .home-page button,
    .home-page button:focus-visible {
      border: none;
      outline: none;
    }
	
    .home-page img {
      z-index: 1;
      display: block;
      width: 600px;
      max-width: 80vw;
      margin: 20px auto 20px auto;
      -webkit-border-radius: 35px;
         -moz-border-radius: 35px;
          -ms-border-radius: 35px;
           -o-border-radius: 35px;
              border-radius: 35px;
      -webkit-box-shadow: 0 5px 10px 0 #586def;
         -moz-box-shadow: 0 5px 10px 0 #586def;
          -ms-box-shadow: 0 5px 10px 0 #586def;
           -o-box-shadow: 0 5px 10px 0 #586def;
              box-shadow: 0 5px 10px 0 #586def;
    }
	
    .home-page .main-poster-container,
    .home-page .main-system-container {
      position: relative;
      width: 100%;
      height: 0;
      padding-bottom: 57.56%;
      overflow: hidden;
    }
	
    .home-page .main-poster-container {
      filter: drop-shadow(0px 8px 12px #ffffff) contrast(1.5);
    }

    .home-page .main-system-container {
      margin-top: 13px;
      margin-bottom: -50px;
      box-shadow: inset 0px 0px 60px 60px #525f75;
    }
	
    .home-page .poster-container,
    .home-page .system-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
	
    .home-page .system-container {
      box-shadow: inset 0px 0px 30px 30px #525f75;
    }
	
    .home-page .poster-space,
    .home-page .system-space {
      width: 100%;
      margin: 0;
      padding: 0 5px;
	  opacity: 0;
      max-width: 100%;
      -webkit-border-radius: 0;
	     -moz-border-radius: 0;
	      -ms-border-radius: 0;
	       -o-border-radius: 0;
              border-radius: 0;
      -webkit-box-shadow: none;
	     -moz-box-shadow: none;
	      -ms-box-shadow: none;
	       -o-box-shadow: none;
              box-shadow: none;
    }
	
    .home-page .poster-space {
      animation: fadeIn 1.2s ease-in-out 0.2s forwards,
	             revive .05s ease-in-out 0.2s infinite;
      filter: drop-shadow(0px 0px 10px #ffffff);
	  transform: scale(1,1);
	  transition: filter 0.4s ease, transform 0.6s ease;
    }
	
    .home-page .system-space {
	  z-index: -1;
	  position: relative;
	  pointer-events: none;
	  transform: scale(1);
	  filter: drop-shadow(0px 0px 10px #465164);
	  animation: fadeIn 1.2s ease-in-out 0.2s forwards,
	             enlarge 180s linear 0.2s infinite;
    }
	
    .poster-container:hover .poster-space {
      filter: drop-shadow(0 0 16px rgba(255, 255, 255, 0.9));
    }

    .glow-core {
      opacity:0;
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      width: 60px; height: 60px;
      background: radial-gradient(circle, rgba(255,255,255,0.4) 0%,
	                                      rgba(255,255,255,0.1) 70%,
										  transparent 100%);
      border-radius: 50%;
      filter: blur(1px);;
      animation-timing-function: cubic-bezier(0.65, 0, 0.35, 1);
      animation: fadeIn 2.5s ease-in-out .5s forwards,
	             glowPulse 1s ease-in-out .5s infinite;
    }

    .pulse-ring {
      opacity:0;
	  position: absolute;
      top: 42%; left: 50%;
      transform: translate(-50%, -50%);
      width: 160px; height: 160px;
      border: 1px solid rgba(255,255,255,0.3);
      border-radius: 50%;
      border-radius: 50%;
      filter: drop-shadow(0px 0px 7px #ffffff);
	  box-shadow: 0px 0px 40px 1px #ffffff,
	        inset 0px 0px 40px 1px #ffffff;
      animation: fadeIn 2s ease-in-out .5s forwards,
	             breatheRing 3s ease-in-out .5s infinite;
    }
	
    .spark-layer {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      pointer-events: none;
      z-index: 2;
    }

    .spark {
      --size: 2px;
      --duration: 0.8s;
      position: absolute;
      width: var(--size);
      height: var(--size);
      background: #fff;
      border-radius: 50%;
      opacity: 0;
      filter: blur(1px);
      box-shadow: 0 0 8px rgba(255,255,255,0.8);
      animation: flash var(--duration) ease-out forwards;
    }

    .home-page .poster-txt {
      color: #d3e3ffba;
      opacity: 1;
      margin-top: 0;
      text-shadow: 0px 0px 15px #ffffff8c;
      filter: drop-shadow(0px 20px 35px #ffffff)
	          contrast(1.3);
    }
	
    .home-page .h2 {
      font-size: 22px;
      text-align: center;
      margin-top: 40px;
      margin-bottom: 10px;
      border-bottom: 3px solid transparent;
      border-image-slice: 1 !important;
      border-image: -webkit-linear-gradient(to right, transparent 12%, #d3e3ff 50%, transparent 88%);
      border-image:    -moz-linear-gradient(to right, transparent 12%, #d3e3ff 50%, transparent 88%);
      border-image:     -ms-linear-gradient(to right, transparent 12%, #d3e3ff 50%, transparent 88%);
      border-image:      -o-linear-gradient(to right, transparent 12%, #d3e3ff 50%, transparent 88%);
      border-image:         linear-gradient(to right, transparent 12%, #d3e3ff 50%, transparent 88%);
    }
	
    .home-page .h3 {
      display: flex;
      height: 75px;
      width: 485px;
      color: #2c3e50d6;
	  font-size: 20px;
      line-height: 1.2;
	  white-space: pre-wrap;
	  align-items: center;
	  text-align: start;
      justify-content: flex-start;
      text-shadow: 0 0 8px #e5eeff7d;
      border-top: 2px solid transparent;
      border-image-slice: 1 !important;
      border-image: -webkit-linear-gradient(to right, transparent 0%, #ffffff1c 35%, transparent 100%);
      border-image:    -moz-linear-gradient(to right, transparent 0%, #ffffff1c 35%, transparent 100%);
      border-image:     -ms-linear-gradient(to right, transparent 0%, #ffffff1c 35%, transparent 100%);
	  border-image:      -o-linear-gradient(to right, transparent 0%, #ffffff1c 35%, transparent 100%);
      border-image:         linear-gradient(to right, transparent 0%, #ffffff1c 35%, transparent 100%);
    }

    .footer {
      margin-top: 10px;
      text-align: center;
      font-size: 12px;
      color: #0000003d;
      padding-top: 20px;
	  opacity: .5;
	  border-top: 2px solid transparent;
      border-image-slice: 1 !important;
      border-image: linear-gradient(to right, transparent,
	                                          #0000001c,
	                                          transparent);
      filter: drop-shadow(0px 0px 3px #ffffff) contrast(2);
    }

    .home-page .accent {
      font-size: 14px;
      font-style: italic;
	  font-weight: bold;
      break-inside: avoid;
      color: #0013348a;
      background: linear-gradient(90deg, #ffffff1a, #ffffff1a);
      padding: 10px;
      -webkit-border-radius: 6px;
         -moz-border-radius: 6px;
          -ms-border-radius: 6px;
           -o-border-radius: 6px;
              border-radius: 6px;
      text-shadow: 0px 0px 1px #ffffff52;
      filter: drop-shadow(0px 0px 1px #ffffff24);
      -webkit-transition: 0.8s all cubic-bezier(0.68, -0.55, 0.27, 1.55);
         -moz-transition: 0.8s all cubic-bezier(0.68, -0.55, 0.27, 1.55);
          -ms-transition: 0.8s all cubic-bezier(0.68, -0.55, 0.27, 1.55);
           -o-transition: 0.8s all cubic-bezier(0.68, -0.55, 0.27, 1.55);
              transition: 0.8s all cubic-bezier(0.68, -0.55, 0.27, 1.55);
    }
	  
    .home-page .accent:hover,
    .home-page .accent:active {
      color: #1f47788a;
      box-shadow: -5px 0px 30px 0px #ffffff8c;
      background: linear-gradient(90deg, #ffffff85, #ffffff1a);
      text-shadow: 0px 0px 10px #ffffff65, 0px 0px 50px #ffffff, 0px 0px 2px #ffffff99;
    }
	  
    .ready-contact i {
      color: #00000026;
      margin: 26px;
      font-size: 32px;
	  text-decoration: none;
      opacity: .5;
      transition: .3s all linear;
	  filter: drop-shadow(0px 0px 3px #ffffff) contrast(2);
    }
	
    .ready-contact i:active {
      transform: scale(1.05, 0.8);
      filter: drop-shadow(0px 0px 3px #ffffff) contrast(1.5);
    }
	
    .home-page .container {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      position: absolute;
      width: 100%;
	  gap: 0;
      max-width: 800px;
      margin-top: -400px;
      margin-left: 500px;
      margin-bottom: -75px;
      -webkit-transition: 0.5s all ease;
         -moz-transition: 0.5s all ease;
          -ms-transition: 0.5s all ease;
           -o-transition: 0.5s all ease;
              transition: 0.5s all ease;
      filter: contrast(3) grayscale(100%) opacity(20%);
    }
	
    .home-page .container:hover,
    .home-page .container:active {
      z-index: 1;
      gap: 35px;
	  margin-top: -497px;
      -webkit-transform: matrix3d(1.05, 0, 0, 0.0001, 0, 1.1, 0,
	                              0.00001, 0, 0, 1, 0, 0, 0, 0, 1);
         -moz-transform: matrix3d(1.05, 0, 0, 0.0001, 0, 1.1, 0,
	                              0.00001, 0, 0, 1, 0, 0, 0, 0, 1);
          -ms-transform: matrix3d(1.05, 0, 0, 0.0001, 0, 1.1, 0,
	                              0.00001,0, 0, 1, 0, 0, 0, 0, 1);
           -o-transform: matrix3d(1.05, 0, 0, 0.0001, 0, 1.1, 0,
	                              0.00001, 0, 0, 1, 0, 0, 0, 0, 1);
	          transform: matrix3d(1.05, 0, 0, 0.0001, 0, 1.1, 0,
	                              0.00001, 0, 0, 1, 0, 0, 0, 0, 1);
      filter: drop-shadow(0px 0px 50px #ffffffff) contrast(1.2 );
	}
	
    .home-page .container-js {
      display: flex;
      flex-direction: row-reverse;
      align-items: center;
      max-height: 492px;
	  margin-bottom: 25px;
    }
	
    .home-page .container-js img {
	  position: relative;
	  top: 0px;
	  left: -60px;
      -webkit-transition: .5s all cubic-bezier(0.6, -0.28, 0.74, 0.05);
         -moz-transition: .5s all cubic-bezier(0.6, -0.28, 0.74, 0.05);
          -ms-transition: .5s all cubic-bezier(0.6, -0.28, 0.74, 0.05);
           -o-transition: .5s all cubic-bezier(0.6, -0.28, 0.74, 0.05);
              transition: .5s all cubic-bezier(0.6, -0.28, 0.74, 0.05);
    }
	
    .home-page .container-js img:hover,
    .home-page .container-js img:active {
	  left: 150px;
      -webkit-box-shadow: -20px 3px 25px 0 #586def8f;
		 -moz-box-shadow: -20px 3px 25px 0 #586def8f;
		  -ms-box-shadow: -20px 3px 25px 0 #586def8f;
		   -o-box-shadow: -20px 3px 25px 0 #586def8f;
		      box-shadow: -20px 3px 25px 0 #586def8f;
    }
	
    .home-page .container-btn {
	  position: relative;
	  height: 46px;
      margin: 15px 75px;
	  padding: 15px;
    }
	
    .home-page .ux-no-scroll {
      overflow: hidden !important;
      height: 100vh !important;
      touch-action: none;
    }
	
    .home-page .ux-btn {
      position: absolute;
      top: -15px;
      left: 130px;
      height: 76px;
      width: 76px;
      opacity: 0.8;
	  background: transparent;
      -webkit-border-radius: 22px 50px 15px 42px;
         -moz-border-radius: 22px 50px 15px 42px;
          -ms-border-radius: 22px 50px 15px 42px;
           -o-border-radius: 22px 50px 15px 42px;
              border-radius: 22px 50px 15px 42px;
      --btn-bg-1: #ffddabba;
      --btn-bg-2: #ff2f99;
      background-size: 280% auto;
      background-image: -webkit-linear-gradient(325deg, var(--btn-bg-2) 0%,
	                                                    var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      background-image:    -moz-linear-gradient(325deg, var(--btn-bg-2) 0%,
	                                                    var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      background-image:     -ms-linear-gradient(325deg, var(--btn-bg-2) 0%,
	                                                    var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      background-image:      -o-linear-gradient(325deg, var(--btn-bg-2) 0%,
	                                                    var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      background-image:         linear-gradient(325deg, var(--btn-bg-2) 0%,
	                                                    var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      -webkit-box-shadow: 0px 0px 10px #ff3a9e87,
	                      0px 5px 5px -1px #e9338f38,
	                      inset 4px 4px 8px #ffbbdd80,
	                      inset -4px -4px 8px #d3117359,
	                      inset 0px 0px 20px 0px #ffffff4a,
	                      inset 0px 0px 20px 0px transparent;
         -moz-box-shadow: 0px 0px 10px #ff3a9e87,
	                      0px 5px 5px -1px #e9338f38,
	                      inset 4px 4px 8px #ffbbdd80,
	                      inset -4px -4px 8px #d3117359,
	                      inset 0px 0px 20px 0px #ffffff4a,
	                      inset 0px 0px 20px 0px transparent;
          -ms-box-shadow: 0px 0px 10px #ff3a9e87,
	                      0px 5px 5px -1px #e9338f38,
	                      inset 4px 4px 8px #ffbbdd80,
	                      inset -4px -4px 8px #d3117359,
	                      inset 0px 0px 20px 0px #ffffff4a,
	                      inset 0px 0px 20px 0px transparent;
           -o-box-shadow: 0px 0px 10px #ff3a9e87,
	                      0px 5px 5px -1px #e9338f38,
	                      inset 4px 4px 8px #ffbbdd80,
	                      inset -4px -4px 8px #d3117359,
	                      inset 0px 0px 20px 0px #ffffff4a,
	                      inset 0px 0px 20px 0px transparent;
              box-shadow: 0px 0px 10px #ff3a9e87,
	                      0px 5px 5px -1px #e9338f38,
	                      inset 4px 4px 8px #ffbbdd80,
	                      inset -4px -4px 8px #d3117359,
	                      inset 0px 0px 20px 0px #ffffff4a,
	                      inset 0px 0px 20px 0px transparent;
      -webkit-transition: 0.18s all ease;
         -moz-transition: 0.18s all ease;
          -ms-transition: 0.18s all ease;
           -o-transition: 0.18s all ease;
              transition: 0.18s all ease;
      -webkit-animation: ux-btn 1s cubic-bezier(0.55, 0.06, 0.68, 0.19) infinite;
         -moz-animation: ux-btn 1s cubic-bezier(0.55, 0.06, 0.68, 0.19) infinite;
          -ms-animation: ux-btn 1s cubic-bezier(0.55, 0.06, 0.68, 0.19) infinite;
           -o-animation: ux-btn 1s cubic-bezier(0.55, 0.06, 0.68, 0.19) infinite;
              animation: ux-btn 1s cubic-bezier(0.55, 0.06, 0.68, 0.19) infinite;
      filter: contrast(0.95);
    }
	
    .home-page .ux-btn:hover {
      -webkit-box-shadow: 0px 0px 10px #ff3a9e87,
	                      0px 5px 5px -1px #e9338f38,
	                      inset 4px 4px 8px #ffbbdd80,
	                      inset -4px -4px 8px #d3117359,
	                      inset 0px 0px 20px 0px #fff,
	                      inset 0px 0px 20px 0px #ffffff75;
         -moz-box-shadow: 0px 0px 10px #ff3a9e87,
	                      0px 5px 5px -1px #e9338f38,
	                      inset 4px 4px 8px #ffbbdd80,
	                      inset -4px -4px 8px #d3117359,
	                      inset 0px 0px 20px 0px #fff,
	                      inset 0px 0px 20px 0px #ffffff75;
          -ms-box-shadow: 0px 0px 10px #ff3a9e87,
	                      0px 5px 5px -1px #e9338f38,
	                      inset 4px 4px 8px #ffbbdd80,
	                      inset -4px -4px 8px #d3117359,
	                      inset 0px 0px 20px 0px #fff,
	                      inset 0px 0px 20px 0px #ffffff75;
           -o-box-shadow: 0px 0px 10px #ff3a9e87,
	                      0px 5px 5px -1px #e9338f38,
	                      inset 4px 4px 8px #ffbbdd80,
	                      inset -4px -4px 8px #d3117359,
	                      inset 0px 0px 20px 0px #fff,
	                      inset 0px 0px 20px 0px #ffffff75;
              box-shadow: 0px 0px 10px #ff3a9e87,
	                      0px 5px 5px -1px #e9338f38,
	                      inset 4px 4px 8px #ffbbdd80,
	                      inset -4px -4px 8px #d3117359,
	                      inset 0px 0px 20px 0px #fff,
	                      inset 0px 0px 20px 0px #ffffff75;
    }
	
    .home-page .ux-btn:active {
      top: -22px;
      left: 134px;
      height: 86px;
      width: 66px;
      -webkit-border-radius: 46px 22px 36px 38px;
         -moz-border-radius: 46px 22px 36px 38px;
          -ms-border-radius: 46px 22px 36px 38px;
           -o-border-radius: 46px 22px 36px 38px;
              border-radius: 46px 22px 36px 38px;
      --btn-bg-1: #ffddab;
      --btn-bg-2: #e50075;
      background-image: -webkit-linear-gradient(325deg, var(--btn-bg-2) 0%,
	                                                    var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      background-image:    -moz-linear-gradient(325deg, var(--btn-bg-2) 0%,
	                                                    var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      background-image:     -ms-linear-gradient(325deg, var(--btn-bg-2) 0%,
	                                                    var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      background-image:      -o-linear-gradient(325deg, var(--btn-bg-2) 0%,
	                                                    var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      background-image:         linear-gradient(325deg, var(--btn-bg-2) 0%,
	                                                    var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      -webkit-box-shadow: 0px 0px 10px #ff3a9e87,
	                      0px 5px 5px -1px #e9338f38,
	                      inset 4px 4px 8px #ffbbdd80,
	                      inset -4px -4px 8px #d3117359,
	                      inset 0px 0px 20px 0px #ffffffab,
	                      inset 0px 0px 20px 0px #ffffff75;
         -moz-box-shadow: 0px 0px 10px #ff3a9e87,
	                      0px 5px 5px -1px #e9338f38,
	                      inset 4px 4px 8px #ffbbdd80,
	                      inset -4px -4px 8px #d3117359,
	                      inset 0px 0px 20px 0px #ffffffab,
	                      inset 0px 0px 20px 0px #ffffff75;
          -ms-box-shadow: 0px 0px 10px #ff3a9e87,
	                      0px 5px 5px -1px #e9338f38,
	                      inset 4px 4px 8px #ffbbdd80,
	                      inset -4px -4px 8px #d3117359,
	                      inset 0px 0px 20px 0px #ffffffab,
	                      inset 0px 0px 20px 0px #ffffff75;
           -o-box-shadow: 0px 0px 10px #ff3a9e87,
	                      0px 5px 5px -1px #e9338f38,
	                      inset 4px 4px 8px #ffbbdd80,
	                      inset -4px -4px 8px #d3117359,
	                      inset 0px 0px 20px 0px #ffffffab,
	                      inset 0px 0px 20px 0px #ffffff75;
              box-shadow: 0px 0px 10px #ff3a9e87,
	                      0px 5px 5px -1px #e9338f38,
	                      inset 4px 4px 8px #ffbbdd80,
	                      inset -4px -4px 8px #d3117359,
	                      inset 0px 0px 20px 0px #ffffffab,
	                      inset 0px 0px 20px 0px #ffffff75;
      filter: none;
      -webkit-transform: scaleX(.7) scaleY(1.3) !important;
         -moz-transform: scaleX(.7) scaleY(1.3) !important;
          -ms-transform: scaleX(.7) scaleY(1.3) !important;
           -o-transform: scaleX(.7) scaleY(1.3) !important;
              transform: scaleX(.7) scaleY(1.3) !important;
    }
	
    .home-page .ux-btn i {
      font-size: 46px;
      font-weight: 700;
      height: 76px;
      width: 76px;
      color: #ffc4e2;
      align-content: center;
      -webkit-transition: 0.2s all ease;
         -moz-transition: 0.2s all ease;
          -ms-transition: 0.2s all ease;
           -o-transition: 0.2s all ease;
              transition: 0.2s all ease;
      filter: drop-shadow(0px 0px 3px #ff2f99);
    }

    .home-page .ux-btn i:active {
      -webkit-transform: scaleX(.7) scaleY(1.3);
         -moz-transform: scaleX(.7) scaleY(1.3);
          -ms-transform: scaleX(.7) scaleY(1.3);
           -o-transform: scaleX(.7) scaleY(1.3);
              transform: scaleX(.7) scaleY(1.3);
    }
	
    .home-page .ui-to-top {
      position: absolute;
      top: 0;
      left: 0;
      height: 46px;
      width: 46px;
      opacity: 0.9;
	  background: transparent;
      -webkit-border-radius: 14px;
         -moz-border-radius: 14px;
          -ms-border-radius: 14px;
           -o-border-radius: 14px;
              border-radius: 14px;
      --btn-bg-1: #ffc2e1;
      --btn-bg-2: #ff2a96db;
      background-size: 280% auto;
      background-image: -webkit-linear-gradient(325deg, var(--btn-bg-2) 0%,
	                                                    var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      background-image:    -moz-linear-gradient(325deg, var(--btn-bg-2) 0%,
	                                                    var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      background-image:     -ms-linear-gradient(325deg, var(--btn-bg-2) 0%,
	                                                    var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      background-image:      -o-linear-gradient(325deg, var(--btn-bg-2) 0%,
	                                                    var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      background-image:         linear-gradient(325deg, var(--btn-bg-2) 0%,
	                                                    var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      -webkit-box-shadow: 0px 0px 20px #ff47a5a1,
			              0px 5px 5px -1px #e938922b,
						  inset 4px 4px 8px #ffdfefc9,
						  inset -4px -4px 8px #ec65a9f5;
         -moz-box-shadow: 0px 0px 20px #ff47a5a1,
			              0px 5px 5px -1px #e938922b,
						  inset 4px 4px 8px #ffdfefc9,
						  inset -4px -4px 8px #ec65a9f5;
          -ms-box-shadow: 0px 0px 20px #ff47a5a1,
			              0px 5px 5px -1px #e938922b,
						  inset 4px 4px 8px #ffdfefc9,
						  inset -4px -4px 8px #ec65a9f5;
           -o-box-shadow: 0px 0px 20px #ff47a5a1,
			              0px 5px 5px -1px #e938922b,
						  inset 4px 4px 8px #ffdfefc9,
						  inset -4px -4px 8px #ec65a9f5;
              box-shadow: 0px 0px 20px #ff47a5a1,
			              0px 5px 5px -1px #e938922b,
						  inset 4px 4px 8px #ffdfefc9,
						  inset -4px -4px 8px #ec65a9f5;
      -webkit-transition: 0.2s all cubic-bezier(0.25, 0.1, 0, 0.66);
         -moz-transition: 0.2s all cubic-bezier(0.25, 0.1, 0, 0.66);
          -ms-transition: 0.2s all cubic-bezier(0.25, 0.1, 0, 0.66);
           -o-transition: 0.2s all cubic-bezier(0.25, 0.1, 0, 0.66);
              transition: 0.2s all cubic-bezier(0.25, 0.1, 0, 0.66);
    }

    .home-page .ui-to-top:active {
      top: -160px;
      height: 200px;
      opacity: 0.85;
      -webkit-border-top-left-radius: 40px 70px;
         -moz-border-top-left-radius: 40px 70px;
          -ms-border-top-left-radius: 40px 70px;
           -o-border-top-left-radius: 40px 70px;
              border-top-left-radius: 40px 70px;
      -webkit-border-top-right-radius: 60px 70px;
         -moz-border-top-right-radius: 60px 70px;
          -ms-border-top-right-radius: 60px 70px;
           -o-border-top-right-radius: 60px 70px;
              border-top-right-radius: 60px 70px;
      -webkit-border-bottom-left-radius: 35px 70px;
         -moz-border-bottom-left-radius: 35px 70px;
          -ms-border-bottom-left-radius: 35px 70px;
           -o-border-bottom-left-radius: 35px 70px;
              border-bottom-left-radius: 35px 70px;
      -webkit-border-bottom-right-radius: 50px 70px;
         -moz-border-bottom-right-radius: 50px 70px;
          -ms-border-bottom-right-radius: 50px 70px;
           -o-border-bottom-right-radius: 50px 70px;
              border-bottom-right-radius: 50px 70px;
      -webkit-box-shadow: 0px 0px 20px #ff47a57d,
                          0px 5px 5px -1px #e938922b,
                          0px 5px 3px #ffffff80,
                          inset 4px 4px 8px #ffb2d975,
                          inset 0px 0px 15px #ffffff,
                          inset 0px 5px 3px #ffffff80;
         -moz-box-shadow: 0px 0px 20px #ff47a57d,
                          0px 5px 5px -1px #e938922b,
                          0px 5px 3px #ffffff80,
                          inset 4px 4px 8px #ffb2d975,
                          inset 0px 0px 15px #ffffff,
                          inset 0px 5px 3px #ffffff80;
          -ms-box-shadow: 0px 0px 20px #ff47a57d,
                          0px 5px 5px -1px #e938922b,
                          0px 5px 3px #ffffff80,
                          inset 4px 4px 8px #ffb2d975,
                          inset 0px 0px 15px #ffffff,
                          inset 0px 5px 3px #ffffff80;
           -o-box-shadow: 0px 0px 20px #ff47a57d,
                          0px 5px 5px -1px #e938922b,
                          0px 5px 3px #ffffff80,
                          inset 4px 4px 8px #ffb2d975,
                          inset 0px 0px 15px #ffffff,
                          inset 0px 5px 3px #ffffff80;
              box-shadow: 0px 0px 20px #ff47a57d,
                          0px 5px 5px -1px #e938922b,
                          0px 5px 3px #ffffff80,
                          inset 4px 4px 8px #ffb2d975,
                          inset 0px 0px 15px #ffffff,
                          inset 0px 5px 3px #ffffff80;
      filter: contrast(1.15);
    }
	
    .home-page .ui-to-top i {
      font-size: 26px;
      font-weight: 700;
      height: 46px;
      width: 46px;
      color: #ffc4e2;
      align-content: center;
      -webkit-transition: 0.2s all ease;
         -moz-transition: 0.2s all ease;
          -ms-transition: 0.2s all ease;
           -o-transition: 0.2s all ease;
              transition: 0.2s all ease;
      filter: drop-shadow(0px 0px 3px #ff2f99);
    }
	
    .home-page .ui-to-top i:active {
      -webkit-transform: scaleX(.7) scaleY(3);
         -moz-transform: scaleX(.7) scaleY(3);
          -ms-transform: scaleX(.7) scaleY(3);
           -o-transform: scaleX(.7) scaleY(3);
              transform: scaleX(.7) scaleY(3);
    }
	
    .home-page .turn-off-btn {
      position: absolute;
      top: 0;
      left: 280px;
      height: 46px;
      width: 46px;
      color: #ffc1e1;
      opacity: 0.6;
      -webkit-border-radius: 50%;
         -moz-border-radius: 50%;
          -ms-border-radius: 50%;
           -o-border-radius: 50%;
              border-radius: 50%;
      --btn-bg-1: #ffb2b2;
      --btn-bg-2: #ff5656;
      background-size: 280% auto;
      background-image: -webkit-linear-gradient(325deg, var(--btn-bg-2) 0%,
	                                                    var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      background-image:    -moz-linear-gradient(325deg, var(--btn-bg-2) 0%,
														var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      background-image:     -ms-linear-gradient(325deg, var(--btn-bg-2) 0%,
														var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      background-image:      -o-linear-gradient(325deg, var(--btn-bg-2) 0%,
														var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      background-image:         linear-gradient(325deg, var(--btn-bg-2) 0%,
														var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      -webkit-box-shadow: 0px 0px 20px #ff47477d,
				          0px 5px 5px -1px #e938382b,
				          inset 4px 4px 8px #ffb2b275,
				          inset -4px -4px 8px #d77c1061;
         -moz-box-shadow: 0px 0px 20px #ff47477d,
				          0px 5px 5px -1px #e938382b,
				          inset 4px 4px 8px #ffb2b275,
				          inset -4px -4px 8px #d77c1061;
          -ms-box-shadow: 0px 0px 20px #ff47477d,
				          0px 5px 5px -1px #e938382b,
				          inset 4px 4px 8px #ffb2b275,
				          inset -4px -4px 8px #d77c1061;
           -o-box-shadow: 0px 0px 20px #ff47477d,
				          0px 5px 5px -1px #e938382b,
				          inset 4px 4px 8px #ffb2b275,
				          inset -4px -4px 8px #d77c1061;
              box-shadow: 0px 0px 20px #ff47477d,
				          0px 5px 5px -1px #e938382b,
				          inset 4px 4px 8px #ffb2b275,
				          inset -4px -4px 8px #d77c1061;
      -webkit-transition: 0.2s all ease;
         -moz-transition: 0.2s all ease;
          -ms-transition: 0.2s all ease;
           -o-transition: 0.2s all ease;
              transition: 0.2s all ease;
    }
	
    .home-page .turn-off-btn:active {
      --btn-bg-1: #ffffff;
      --btn-bg-2: #ff0000;
      -webkit-transform: scale3d(1.2, 1.2, 1) rotate3d(1, 1, 2, 10deg);
         -moz-transform: scale3d(1.2, 1.2, 1) rotate3d(1, 1, 2, 10deg);
          -ms-transform: scale3d(1.2, 1.2, 1) rotate3d(1, 1, 2, 10deg);
           -o-transform: scale3d(1.2, 1.2, 1) rotate3d(1, 1, 2, 10deg);
              transform: scale3d(1.2, 1.2, 1) rotate3d(1, 1, 2, 10deg);
      -webkit-box-shadow: 0px 0px 20px #ff4747,
				          0px 0px 5px 3px #e9383800,
				          inset 4px 4px 8px #ff3b3b75,
				          inset -4px -4px 8px #ff3636;
         -moz-box-shadow: 0px 0px 20px #ff4747,
				          0px 0px 5px 3px #e9383800,
				          inset 4px 4px 8px #ff3b3b75,
				          inset -4px -4px 8px #ff3636;
          -ms-box-shadow: 0px 0px 20px #ff4747,
				          0px 0px 5px 3px #e9383800,
				          inset 4px 4px 8px #ff3b3b75,
				          inset -4px -4px 8px #ff3636;
           -o-box-shadow: 0px 0px 20px #ff4747,
				          0px 0px 5px 3px #e9383800,
				          inset 4px 4px 8px #ff3b3b75,
				          inset -4px -4px 8px #ff3636;
              box-shadow: 0px 0px 20px #ff4747,
				          0px 0px 5px 3px #e9383800,
				          inset 4px 4px 8px #ff3b3b75,
				          inset -4px -4px 8px #ff3636;
    }
	
    .home-page .turn-off-btn i {
      font-size: 26px;
      font-weight: 700;
      height: 46px;
      width: 46px;
      color: #ffc4e2;
      align-content: center;
      -webkit-transition: 0.2s all ease;
         -moz-transition: 0.2s all ease;
          -ms-transition: 0.2s all ease;
           -o-transition: 0.2s all ease;
              transition: 0.2s all ease;
      filter: drop-shadow(0px 0px 3px #ff2f99);
    }
	
    .home-page .turn-off-btn i:active {
      font-weight: 100;
      color: #ffd0e8;
      -webkit-transform: scaleX(1.2) scaleY(1.2);
         -moz-transform: scaleX(1.2) scaleY(1.2);
          -ms-transform: scaleX(1.2) scaleY(1.2);
           -o-transform: scaleX(1.2) scaleY(1.2);
              transform: scaleX(1.2) scaleY(1.2);
	}
	
    .home-page .shock-btn {
      z-index: 3;
      position: absolute;
      top: 0;
      right: 0;
      width: 60px;
      height: 42px;
      background-color: transparent;
      -webkit-border-radius: 0 0 0 60%;
         -moz-border-radius: 0 0 0 60%;
          -ms-border-radius: 0 0 0 60%;
           -o-border-radius: 0 0 0 60%;
              border-radius: 0 0 0 60%;
      --btn-bg-1: #ffffff3b;
      --btn-bg-2: transparent;
      background-size: 280% auto;
      background-image: -webkit-linear-gradient(325deg, var(--btn-bg-2) 0%,
	                                                    var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      background-image:    -moz-linear-gradient(325deg, var(--btn-bg-2) 0%,
	                                                    var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      background-image:     -ms-linear-gradient(325deg, var(--btn-bg-2) 0%,
	                                                    var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      background-image:      -o-linear-gradient(325deg, var(--btn-bg-2) 0%,
	                                                    var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      background-image:         linear-gradient(325deg, var(--btn-bg-2) 0%,
	                                                    var(--btn-bg-1) 55%,
														var(--btn-bg-2) 90%);
      -webkit-box-shadow: 0px 0px 20px #ffffff8c,
                          0px 5px 5px -1px #ffffff4d,
                          inset 4px 4px 8px #ffffff99,
                          inset -4px -4px 8px #ffffff69;
         -moz-box-shadow: 0px 0px 20px #ffffff8c,
                          0px 5px 5px -1px #ffffff4d,
                          inset 4px 4px 8px #ffffff99,
                          inset -4px -4px 8px #ffffff69;
          -ms-box-shadow: 0px 0px 20px #ffffff8c,
                          0px 5px 5px -1px #ffffff4d,
                          inset 4px 4px 8px #ffffff99,
                          inset -4px -4px 8px #ffffff69;
           -o-box-shadow: 0px 0px 20px #ffffff8c,
                          0px 5px 5px -1px #ffffff4d,
                          inset 4px 4px 8px #ffffff99,
                          inset -4px -4px 8px #ffffff69;
              box-shadow: 0px 0px 20px #ffffff8c,
                          0px 5px 5px -1px #ffffff4d,
                          inset 4px 4px 8px #ffffff99,
                          inset -4px -4px 8px #ffffff69;
      animation: btn-vortex 0.1s infinite;
      -webkit-transition: 0.1s all ease-in-out;
		 -moz-transition: 0.1s all ease-in-out;
		  -ms-transition: 0.1s all ease-in-out;
		   -o-transition: 0.1s all ease-in-out;
		      transition: 0.1s all ease-in-out;
    }
	
    .home-page .shock-btn:active {
      top: 25px;
      right: 2px;
	  animation: none;
      -webkit-border-radius: 25px;
         -moz-border-radius: 25px;
          -ms-border-radius: 25px;
           -o-border-radius: 25px;
		      border-radius: 25px;
      -webkit-transform: scaleX(0.8) scaleY(3);
         -moz-transform: scaleX(0.8) scaleY(3);
          -ms-transform: scaleX(0.8) scaleY(3);
           -o-transform: scaleX(0.8) scaleY(3);
		      transform: scaleX(0.8) scaleY(3);
      box-shadow: 0px 0px 5px #ffffff8c,
	              0px 5px 5px -1px #ffffff4d,
                  inset 4px 4px 8px #ffffff99,
                  inset -4px -4px 8px #ffffff69;
    }
	
    .home-page .shock-btn i {
      font-size: 28px;
      color: #ffffffe6;
      pointer-events: none;
      text-shadow: 3px 3px 5px #5d5d5dcf;
      box-shadow: 1px 0px 5px 10px #ffffffe3;
      filter: drop-shadow(0px 0px 5px #ffffffe6);
      animation: vortex 0.1s infinite;
      transform: rotateX(20deg) rotateX(20deg) rotateZ(140deg);
    }
	
    .home-page .image {
	  width: 300px;
	  margin: 20px 0 0 0;
	  opacity: 0.9;
	  -webkit-border-radius: 16px;
         -moz-border-radius: 16px;
          -ms-border-radius: 16px;
           -o-border-radius: 16px;
              border-radius: 16px;
    }
	
    .home-page .image-cache {
	  filter: contrast(1.5) invert(85%) !important;
	  -webkit-box-shadow: 0 5px 10px 0 #60773ceb;
         -moz-box-shadow: 0 5px 10px 0 #60773ceb;
          -ms-box-shadow: 0 5px 10px 0 #60773ceb;
           -o-box-shadow: 0 5px 10px 0 #60773ceb;
	          box-shadow: 0 5px 10px 0 #60773ceb;
    }
	
    .home-page .image-navigation {
	  -webkit-box-shadow: 0 5px 10px 0 #ff7070;
         -moz-box-shadow: 0 5px 10px 0 #ff7070;
          -ms-box-shadow: 0 5px 10px 0 #ff7070;
           -o-box-shadow: 0 5px 10px 0 #ff7070;
	          box-shadow: 0 5px 10px 0 #ff7070;
    }
	
    .home-page .image-pwa {
	  -webkit-box-shadow: 0 5px 10px 0 #1c97ffdb;
         -moz-box-shadow: 0 5px 10px 0 #1c97ffdb;
          -ms-box-shadow: 0 5px 10px 0 #1c97ffdb;
           -o-box-shadow: 0 5px 10px 0 #1c97ffdb;
	          box-shadow: 0 5px 10px 0 #1c97ffdb;
    }
	
    .home-page .image-extension {
	  filter: invert(85%) hue-rotate(230deg) !important;
	  -webkit-box-shadow: 0 5px 10px 0 #3b1515;
         -moz-box-shadow: 0 5px 10px 0 #3b1515;
          -ms-box-shadow: 0 5px 10px 0 #3b1515;
           -o-box-shadow: 0 5px 10px 0 #3b1515;
	          box-shadow: 0 5px 10px 0 #3b1515;
    }
	
    .home-page .image-dialog {
	  -webkit-box-shadow: 0 5px 10px 0 #5edd78;
         -moz-box-shadow: 0 5px 10px 0 #5edd78;
          -ms-box-shadow: 0 5px 10px 0 #5edd78;
           -o-box-shadow: 0 5px 10px 0 #5edd78;
	          box-shadow: 0 5px 10px 0 #5edd78;
    }
	
    .home-page .image-ux {
	  height: 230px;
	  width: 230px;
	  z-index: -1;
	  position: relative;
	  margin: -35px 0 -65px 0;
	  -webkit-box-shadow: none;
         -moz-box-shadow: none;
          -ms-box-shadow: none;
           -o-box-shadow: none;
	          box-shadow: none;
    }
	
    .home-page .image-ui {
	  width: 480px;
	  margin: -20px 0 0 0;
	  filter: contrast(0.95);
	  -webkit-box-shadow: none;
         -moz-box-shadow: none;
          -ms-box-shadow: none;
           -o-box-shadow: none;
	          box-shadow: none;
    }
	
    .home-page .image-cache,
    .home-page .image-navigation,
    .home-page .image-pwa,
    .home-page .image-extension,
    .home-page .image-dialog {
	  filter: contrast(0.95);
	  -webkit-transition: 0.2s all ease-in-out;
         -moz-transition: 0.2s all ease-in-out;
          -ms-transition: 0.2s all ease-in-out;
           -o-transition: 0.2s all ease-in-out;
              transition: 0.2s all ease-in-out;
	}
	
	.home-page .image-cache:hover,
    .home-page .image-navigation:hover,
    .home-page .image-pwa:hover,
    .home-page .image-extension:hover,
    .home-page .image-dialog:hover {
	  scale: 1.01;
	  filter: contrast(1);
	}
	
    .home-page .image-cache:hover {
	  -webkit-box-shadow: 0 6px 15px 0 #60773ceb;
         -moz-box-shadow: 0 6px 15px 0 #60773ceb;
          -ms-box-shadow: 0 6px 15px 0 #60773ceb;
           -o-box-shadow: 0 6px 15px 0 #60773ceb;
	          box-shadow: 0 6px 15px 0 #60773ceb;
    }
	
    .home-page .image-navigation:hover {
	  -webkit-box-shadow: 0 6px 15px 0 #ff7070;
         -moz-box-shadow: 0 6px 15px 0 #ff7070;
          -ms-box-shadow: 0 6px 15px 0 #ff7070;
           -o-box-shadow: 0 6px 15px 0 #ff7070;
	          box-shadow: 0 6px 15px 0 #ff7070;
    }
	
    .home-page .image-pwa:hover {
	  -webkit-box-shadow: 0 6px 15px 0 #1c97ffdb;
         -moz-box-shadow: 0 6px 15px 0 #1c97ffdb;
          -ms-box-shadow: 0 6px 15px 0 #1c97ffdb;
           -o-box-shadow: 0 6px 15px 0 #1c97ffdb;
	          box-shadow: 0 6px 15px 0 #1c97ffdb;
    }
	
    .home-page .image-extension:hover {
	  -webkit-box-shadow: 0 6px 15px 0 #3b1515;
         -moz-box-shadow: 0 6px 15px 0 #3b1515;
          -ms-box-shadow: 0 6px 15px 0 #3b1515;
           -o-box-shadow: 0 6px 15px 0 #3b1515;
	          box-shadow: 0 6px 15px 0 #3b1515;
    }
	
    .home-page .image-dialog:hover {
	  -webkit-box-shadow: 0 6px 15px 0 #5edd78;
         -moz-box-shadow: 0 6px 15px 0 #5edd78;
          -ms-box-shadow: 0 6px 15px 0 #5edd78;
           -o-box-shadow: 0 6px 15px 0 #5edd78;
	          box-shadow: 0 6px 15px 0 #5edd78;
    }
	
    .home-page .p-down {
	  text-align: center;
	  font-weight: 500;
	  font-size: 18px;
	  color: transparent;
	  -webkit-background-clip: text;
	     -moz-background-clip: text;
	      -ms-background-clip: text;
	       -o-background-clip: text;
	          background-clip: text;
	  background-image: -webkit-linear-gradient(0deg, #2c3e50 0%, #ccdfff 35%);
	  background-image:    -moz-linear-gradient(0deg, #2c3e50 0%, #ccdfff 35%);
	  background-image:     -ms-linear-gradient(0deg, #2c3e50 0%, #ccdfff 35%);
	  background-image:      -o-linear-gradient(0deg, #2c3e50 0%, #ccdfff 35%);
	  background-image:         linear-gradient(0deg, #2c3e50 0%, #ccdfff 35%);
    }
	
    .home-page .p-cms {
	  color: transparent;
	  -webkit-background-clip: text;
	     -moz-background-clip: text;
	      -ms-background-clip: text;
	       -o-background-clip: text;
	          background-clip: text;
	  background-image: -webkit-linear-gradient(359deg, #79bcff, #586def);
	  background-image:    -moz-linear-gradient(359deg, #79bcff, #586def);
	  background-image:     -ms-linear-gradient(359deg, #79bcff, #586def);
	  background-image:      -o-linear-gradient(359deg, #79bcff, #586def);
	  background-image:         linear-gradient(359deg, #79bcff, #586def);
    }
	
    .home-page .p-cache {
	  color: transparent;
	  -webkit-background-clip: text;
	     -moz-background-clip: text;
	      -ms-background-clip: text;
	       -o-background-clip: text;
	          background-clip: text;
	  background-image: -webkit-linear-gradient(359deg, #97abbe, #8979ff);
	  background-image:    -moz-linear-gradient(359deg, #97abbe, #8979ff);
	  background-image:     -ms-linear-gradient(359deg, #97abbe, #8979ff);
	  background-image:      -o-linear-gradient(359deg, #97abbe, #8979ff);
	  background-image:         linear-gradient(359deg, #97abbe, #8979ff);
    }
	
    .home-page .p-navigation {
	  color: transparent;
	  -webkit-background-clip: text;
	     -moz-background-clip: text;
	      -ms-background-clip: text;
	       -o-background-clip: text;
	          background-clip: text;
	  background-image: -webkit-linear-gradient(359deg, #97abbe, #ff7070);
	  background-image:    -moz-linear-gradient(359deg, #97abbe, #ff7070);
	  background-image:     -ms-linear-gradient(359deg, #97abbe, #ff7070);
	  background-image:      -o-linear-gradient(359deg, #97abbe, #ff7070);
	  background-image:         linear-gradient(359deg, #97abbe, #ff7070);
    }
	
    .home-page .p-pwa {
	  color: transparent;
	  -webkit-background-clip: text;
	     -moz-background-clip: text;
	      -ms-background-clip: text;
	       -o-background-clip: text;
	          background-clip: text;
	  background-image: -webkit-linear-gradient(359deg, #97abbe, #1c97ffdb);
	  background-image:    -moz-linear-gradient(359deg, #97abbe, #1c97ffdb);
	  background-image:     -ms-linear-gradient(359deg, #97abbe, #1c97ffdb);
	  background-image:      -o-linear-gradient(359deg, #97abbe, #1c97ffdb);
	  background-image:         linear-gradient(359deg, #97abbe, #1c97ffdb);
    }
	
    .home-page .p-extension {
	  color: transparent;
	  -webkit-background-clip: text;
	     -moz-background-clip: text;
	      -ms-background-clip: text;
	       -o-background-clip: text;
	          background-clip: text;
	  background-image: -webkit-linear-gradient(359deg, #97abbe, #deccae);
	  background-image:    -moz-linear-gradient(359deg, #97abbe, #deccae);
	  background-image:     -ms-linear-gradient(359deg, #97abbe, #deccae);
	  background-image:      -o-linear-gradient(359deg, #97abbe, #deccae);
	  background-image:         linear-gradient(359deg, #97abbe, #deccae);
    }
	
    .home-page .p-dialog {
	  color: transparent;
	  -webkit-background-clip: text;
	     -moz-background-clip: text;
	      -ms-background-clip: text;
	       -o-background-clip: text;
	          background-clip: text;
	  background-image: -webkit-linear-gradient(359deg, #97abbe, #5edd78);
	  background-image:    -moz-linear-gradient(359deg, #97abbe, #5edd78);
	  background-image:     -ms-linear-gradient(359deg, #97abbe, #5edd78);
	  background-image:      -o-linear-gradient(359deg, #97abbe, #5edd78);
	  background-image:         linear-gradient(359deg, #97abbe, #5edd78);
    }
	
    .home-page .p-ux {
	  color: transparent;
	  -webkit-background-clip: text;
	     -moz-background-clip: text;
	      -ms-background-clip: text;
	       -o-background-clip: text;
	          background-clip: text;
	  background-image: -webkit-linear-gradient(359deg, #97abbe, #ff3b7d);
	  background-image:    -moz-linear-gradient(359deg, #97abbe, #ff3b7d);
	  background-image:     -ms-linear-gradient(359deg, #97abbe, #ff3b7d);
	  background-image:      -o-linear-gradient(359deg, #97abbe, #ff3b7d);
	  background-image:         linear-gradient(359deg, #97abbe, #ff3b7d);
    }

    .home-page .node {
      min-height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 8px 12px;
      background: #ffffff;
      border: 1.5px solid #2c3e50;
      border-radius: 18px;
      font-size: 22px;
      font-weight: 500;
      text-align: center;
      line-height: 1.5;
	  margin: -8px;
	  user-select: none;
	  word-break: break-word;
	  -webkit-box-shadow: 0 2px 8px rgb(255 254 254),
			              0 5px 5px -1px #ffffff85,
						  0 0 20px #ffffff8a;
	     -moz-box-shadow: 0 2px 8px rgb(255 254 254),
			              0 5px 5px -1px #ffffff85,
						  0 0 20px #ffffff8a;
	      -ms-box-shadow: 0 2px 8px rgb(255 254 254),
			              0 5px 5px -1px #ffffff85,
						  0 0 20px #ffffff8a;
	       -o-box-shadow: 0 2px 8px rgb(255 254 254),
			              0 5px 5px -1px #ffffff85,
						  0 0 20px #ffffff8a;
	          box-shadow: 0 2px 8px rgb(255 254 254),
			              0 5px 5px -1px #ffffff85,
						  0 0 20px #ffffff8a;
      -webkit-transition: 0.2s all ease;
         -moz-transition: 0.2s all ease;
          -ms-transition: 0.2s all ease;
           -o-transition: 0.2s all ease;
              transition: 0.2s all ease;
    }
	
    .home-page .node:hover {
      scale: 1.1;
    }
	
    .home-page .node:active {
      -webkit-box-shadow: 0 2px 8px rgb(0 0 0 / 0%),
	                      0 5px 5px -1px #e9383800,
	                      0 0 20px #ff000000;
	     -moz-box-shadow: 0 2px 8px rgb(0 0 0 / 0%),
	                      0 5px 5px -1px #e9383800,
	                      0 0 20px #ff000000;
	      -ms-box-shadow: 0 2px 8px rgb(0 0 0 / 0%),
	                      0 5px 5px -1px #e9383800,
	                      0 0 20px #ff000000;
	       -o-box-shadow: 0 2px 8px rgb(0 0 0 / 0%),
	                      0 5px 5px -1px #e9383800,
	                      0 0 20px #ff000000;
	          box-shadow: 0 2px 8px rgb(0 0 0 / 0%),
	                      0 5px 5px -1px #e9383800,
	                      0 0 20px #ff000000;
      -webkit-transform: rotate3d(1, 1, 1, 360deg);
         -moz-transform: rotate3d(1, 1, 1, 360deg);
          -ms-transform: rotate3d(1, 1, 1, 360deg);
           -o-transform: rotate3d(1, 1, 1, 360deg);
              transform: rotate3d(1, 1, 1, 360deg);
    }

    .home-page .node-legacy {
      font-size: 25px;
      width: 400px;
      background: #939292;
      color: #d6d6d6;
      opacity: .7;
      border: 5px solid #bababa;
      text-shadow: 0 0 5px #000;
    }
	
    .home-page .node-cache {
      font-size: 24px;
      width: 500px;
      background: #785fffeb;
      color: #dad3ffeb;
      opacity: .7;
	  margin-left: 1%;
      border: 5px solid #bbafffeb;
      text-shadow: 0 0 5px #2000ceeb;
    }
	
    .home-page .node-navigation {
      font-size: 23px;
      width: 600px;
      background: #ff8787;
      color: #ffd2d2;
      opacity: .7;
	  margin-left: 2%;
	  padding-left: 30px;
      border: 5px solid #ffb7b7;
      text-shadow: 0 0 5px #d40000;
    }
	
    .home-page .node-pwa {
      font-size: 22px;
      width: 675px;
      background: #1c97ffdb;
      color: #b1dcff;
      opacity: .7;
	  margin-left: 3%;
      border: 5px solid #88c9ffdb;
      text-shadow: 0 0 5px #052c4d;
    }
	
    .home-page .node-extension {
      font-size: 21px;
      width: 600px;
      background: #ffb986;
      color: #ffe7d7;
      opacity: .7;
	  margin-left: 2%;
      border: 5px solid #ffd6b7;
      text-shadow: 0 0 5px #b44c00;
    }
	
    .home-page .node-dialog {
      font-size: 20px;
      width: 500px;
      background: #58d171ed;
      color: #b3f8c1ed;
      opacity: .7;
	  margin-left: 1%;
      border: 5px solid #afeabbed;
      text-shadow: 0 0 5px #00791aed;
    }
	
    .home-page .node-ux {
      font-size: 19px;
      width: 400px;
      background: linear-gradient(90deg, #ff56ace0 25%, #a059fee3 90%);
      color: #f3eaffe3;
      opacity: .7;
      border: 5px solid #caa8f6e3;
      text-shadow: 0 0 5px #8d38ffe3;
    }
	
    .home-page .node-ui {
      font-size: 18px;
      width: 300px;
      background: linear-gradient(300deg, #ff990061 25%, #ff56acc2 90%);
      color: #ffe2f1;
      opacity: .7;
	  margin-left: -3%;
      border: 5px solid #ffd5eac2;
      text-shadow: 0 0 5px #ff00828c;
      filter: drop-shadow(0px 0px 0px #ff56ac);
    }
	
    .home-page .node-attention {
      font-size: 26px;
      padding: 20px 24px;
      width: 280px;
      background: #a8c8ffe8;
      color: #e6f0ff;
      opacity: .7;
      border: 5px solid #d0e1ff;
      text-shadow: 0 0 8px #438cff;
	  margin-left: 30%;
      -webkit-transform: rotateZ(0.5deg);
         -moz-transform: rotateZ(0.5deg);
          -ms-transform: rotateZ(0.5deg);
           -o-transform: rotateZ(0.5deg);
              transform: rotateZ(0.5deg);
    }

    .page-part {
      height: 20px;
      margin: 30px auto !important;
      border-radius: 6px;
      box-shadow: inset 0px 0px 12px #00133426;
      filter: drop-shadow(0px 0px 3px #ffffff);
    }
	
	.github, .hubr {
      display: flex;
      flex-direction: column;
      text-decoration: none;
      max-width: 350px;
      color: #00000026;
      margin: auto;
	  font-weight: bold;
	  opacity: .5;
	  transition: .3s all linear;
	  filter: drop-shadow(0px 0px 3px #ffffff) contrast(2);
	}
	
	.github:active, .hubr:active {
	  transform: scale(1.05, 0.8);
      filter: drop-shadow(0px 0px 3px #ffffff) contrast(1.5);
	}
	
	.github i, .hubr i {
      font-size: 32px;
	}
	
    #widget {
      display: block;
      position: relative;
      cursor: pointer;
      width: 110px;
      height: 110px;
      background-size: cover;
      transition: all 0.2s ease;
      margin: 20px 0px 10px 90px;
      background-color: #ff7171cf;
      background-image: linear-gradient(#ff7171, #bcfaff38, #ff717173),
	                    url(https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/widget.webp?raw=true);
      -webkit-border-radius: 50%;
         -moz-border-radius: 50%;
          -ms-border-radius: 50%;
           -o-border-radius: 50%;
              border-radius: 50%;
      -webkit-transition: all 0.2s ease;
         -moz-transition: all 0.2s ease;
          -ms-transition: all 0.2s ease;
           -o-transition: all 0.2s ease;
              transition: all 0.2s ease;
      -webkit-animation: chaoticGlow 20s infinite linear alternate,
	                     chaoticGlow 18s infinite linear alternate-reverse;
         -moz-animation: chaoticGlow 20s infinite linear alternate,
	                     chaoticGlow 18s infinite linear alternate-reverse;
          -ms-animation: chaoticGlow 20s infinite linear alternate,
	                     chaoticGlow 18s infinite linear alternate-reverse;
           -o-animation: chaoticGlow 20s infinite linear alternate,
	                     chaoticGlow 18s infinite linear alternate-reverse;
              animation: chaoticGlow 20s infinite linear alternate,
	                     chaoticGlow 18s infinite linear alternate-reverse;
      filter: drop-shadow(0px 0px 1px #ffffff) hue-rotate(20deg);
    }
	
	#widget::selection {
      background: transparent;
	}

	#widget::before,
	#widget::after {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      -webkit-border-radius: 50%;
	     -moz-border-radius: 50%;
    	  -ms-border-radius: 50%;
           -o-border-radius: 50%;
	          border-radius: 50%;
      -webkit-box-shadow: 0 0 15px #a55fff54;
	     -moz-box-shadow: 0 0 15px #a55fff54;
       	  -ms-box-shadow: 0 0 15px #a55fff54;
           -o-box-shadow: 0 0 15px #a55fff54;
	          box-shadow: 0 0 15px #a55fff54;
      -webkit-animation: chaoticGlow 16s infinite linear alternate-reverse;
	     -moz-animation: chaoticGlow 16s infinite linear alternate-reverse;
    	  -ms-animation: chaoticGlow 16s infinite linear alternate-reverse;
           -o-animation: chaoticGlow 16s infinite linear alternate-reverse;
	          animation: chaoticGlow 16s infinite linear alternate-reverse;
      filter: invert(85%) hue-rotate(230deg);
	}

	#widget:hover {
      -webkit-transform: scale(1.1);
	     -moz-transform: scale(1.1);
    	  -ms-transform: scale(1.1);
           -o-transform: scale(1.1);
	          transform: scale(1.1);
	}

	#widget:active {
      -webkit-transform: scale(0.9);
	     -moz-transform: scale(0.9);
    	  -ms-transform: scale(0.9);
           -o-transform: scale(0.9);
	          transform: scale(0.9);
	}
	
	@media (max-width: 767px) {
      body {
        padding: 20px;
        font-size: 14px;
        line-height: 1.6;
      }

      .home-page h1 {
        font-size: 24px;
        padding-bottom: 12px;
        margin-top: 10px;
        margin-bottom: 20px;
      }

      .home-page h2 {
        font-size: 18px;
        padding-bottom: 6px;
      }

      .home-page h3 {
        font-size: 16px;
        margin-top: 16px;
		text-align: center;
      }

      .home-page p {
        font-size: 14px;
		text-align: start;
      }

      .home-page ul, .home-page ol {
        margin-left: 20px;
        padding-left: 10px;
      }

      .home-page li {
        margin: 4px 0;
      }

      .home-page code {
        font-size: 13px;
        padding: 2px 5px;
      }

      .home-page pre {
        font-size: 12px;
        padding: 12px;
        max-height: 265px;
		margin: -245px 0 0 0;
      }

      .home-page table {
        font-size: 12px;
        display: block;
        overflow-x: auto;
        white-space: nowrap;
      }

      .home-page th, .home-page td {
        padding: 6px 8px;
      }
	  
      .home-page .mb {
        font-size: 16px;
        margin: auto 45px;
      }

      .home-page .accent {
        padding: 12px;
        margin: 12px 0;
        font-size: 14px;
        -webkit-border-radius: 10px;
		   -moz-border-radius: 10px;
		    -ms-border-radius: 10px;
		     -o-border-radius: 10px;
		        border-radius: 10px;
      }
	  
      .home-page .p-down {
        background-image: -webkit-linear-gradient(0deg, #2c3e50 0%, #ccdfff 15%);
        background-image:    -moz-linear-gradient(0deg, #2c3e50 0%, #ccdfff 15%);
        background-image:     -ms-linear-gradient(0deg, #2c3e50 0%, #ccdfff 15%);
        background-image:      -o-linear-gradient(0deg, #2c3e50 0%, #ccdfff 15%);
        background-image:         linear-gradient(0deg, #2c3e50 0%, #ccdfff 15%);
      }

      .ready-contact {
        font-size: 15px;
        display: block;
        text-align: center;
        margin-top: 30px;
      }

      .footer {
        font-size: 11px;
        padding-top: 15px;
      }

      .home-page h1 {
        text-align: center;
        border-image: -webkit-linear-gradient(to right, transparent, #d3e3ff, transparent);
        border-image:    -moz-linear-gradient(to right, transparent, #d3e3ff, transparent);
        border-image:     -ms-linear-gradient(to right, transparent, #d3e3ff, transparent);
        border-image:      -o-linear-gradient(to right, transparent, #d3e3ff, transparent);
        border-image:         linear-gradient(to right, transparent, #d3e3ff, transparent);
      }
	  
      .home-page h2 {
        border-image: -webkit-linear-gradient(to right, transparent 0%, #d3e3ff 10%, transparent 100%);
        border-image:    -moz-linear-gradient(to right, transparent 0%, #d3e3ff 10%, transparent 100%);
        border-image:     -ms-linear-gradient(to right, transparent 0%, #d3e3ff 10%, transparent 100%);
        border-image:      -o-linear-gradient(to right, transparent 0%, #d3e3ff 10%, transparent 100%);
        border-image:         linear-gradient(to right, transparent 0%, #d3e3ff 10%, transparent 100%);
      }

      .home-page p[style*="text-align: center"] {
        font-size: 14px;
        line-height: 1.4;
      }

      .home-page .container {
        zoom: 50%;
		position: static;
        padding: 60px 30px;
        max-width: 800px;
        margin: 0 auto;
	  }
	  
	  .home-page .h2 {
        font-size: 20px;
	  }
	  
      .home-page .h3 {
        width: 340px;
        font-size: 18px;
      }
	  
      .home-page .container:hover,
      .home-page .container:active {
        margin-top: -95px;
        margin-bottom: -185px;
      }
	  
      .home-page .container-js {
        flex-direction: column;
	  }
	  
	  .home-page .container-js img {
        top: 0px;
        left: 0px;
	  }
	  
      .home-page .container-js img:hover,
	  .home-page .container-js img:active {
        top: -160px;
        left: 0px;
        -webkit-box-shadow: 0px 25px 35px 0 #586def8f;
		   -moz-box-shadow: 0px 25px 35px 0 #586def8f;
		    -ms-box-shadow: 0px 25px 35px 0 #586def8f;
		     -o-box-shadow: 0px 25px 35px 0 #586def8f;
		        box-shadow: 0px 25px 35px 0 #586def8f;
	  }
	  
      .home-page .image {
        margin: 20px auto 20px auto;
      }
	  
      .home-page .image-ui {
        margin: -10px auto 10px auto;
      }
	  
      .main-poster-container {
        padding-bottom: 58.5%;
      }
	  
      .home-page .image-ux {
        margin: -35px auto -65px auto;
      }
	  
	  .home-page .turn-off-btn {
        top: -65px;
        left: 230px;
	  }
	  
	  .home-page .poster-space {			   
        animation: fadeIn 1.2s ease-in-out 0.2s forwards,
	                revive .1s ease-in-out 0.2s infinite;
	  }
	  
	  .github, .hubr {
        font-size: 14px;
	  }
	
	  .github i, .hubr i,
	  .ready-contact i {
        font-size: 30px;
	  }

	  .glow-core {
        width: 30px;
        height: 30px;
	  }

	  .pulse-ring {
        width: 60px; 
        height: 60px;
        box-shadow: 0px 0px 12px 1px #ffffff,
		      inset 0px 0px 12px 1px #ffffff;
	  }
	}
  </style>
  
  <style>
    .docs {
      position: relative;
      color: #2c3e50;
      background: #f9fafa3b;
      margin-top: 50px;
      padding: 50px;
      border: 3px solid #f9fafa26;
      border-radius: 6px;
      filter: drop-shadow(0px 0px 15px #ffffff);
	  -webkit-backdrop-filter: blur(16px)
	                           saturate(0.85)
							   brightness(1.1);
	          backdrop-filter: blur(16px)
	                           saturate(0.85)
							   brightness(1.1);
    }
	
    .docs::after {
      content: "";
      position: absolute;
      inset: 0;
      background: 
        url("data:image/svg+xml,%3Csvg viewBox='0 0 10 10' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.6'/%3E%3CfeColorMatrix values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0'/%3E%3C/filter%3E%3Crect width='10' height='10' filter='url(%23n)'/%3E%3C/svg%3E");
      opacity: 0.2;
      mix-blend-mode: soft-light;
      pointer-events: none;
    }
	
    .project {
      margin: auto 20px;
    }
	
    .stamp {
      margin: 50px;
    }
	
    .project h1,
    .stamp h1 {
      color: #f9fafa5c;
      font-size: 28px;
      text-align: center;
      padding-bottom: 15px;
	  margin-top: 35px;
      margin-bottom: 10px;
      border-bottom: 3px solid #f9fafa5c;
      filter: drop-shadow(0px 0px 10px #2c3e50eb);
    }
	
    .project h2,
    .stamp h2 {
      color: #f9fafa5c;
      font-size: 20px;
      padding-bottom: 8px;
      margin-top: 30px;
      opacity: 0.99;
      border-bottom: 2px solid #f9fafa5c;
      filter: drop-shadow(0px 0px 8px #2c3e50eb);
    }
	
    .project p,
    .stamp p {
      color: #f9fafa5c;
      margin: 8px 0;
      text-align: justify;
      filter: drop-shadow(0px 0px 6px #2c3e50eb);
    }
	
    .stamp p {
      font-size: 20px;
    }

    .project .container {
      display: flex;
      flex-direction: column;
      flex-wrap: nowrap;
      align-items: center;
      margin: 60px;
    }
	
    .project .container p {
      width: 400px;
      text-align: center;
      margin: -5px;
      padding: 12px;
      border: 2px solid #f9fafa5c;
    }
	
    .project .container span {
      text-align: center;
      color: #f9fafa5c;
      margin-top: -2px;
    }
	
    .navigation {
      display: flex;
      flex-direction: row;
      justify-content: center;
      font-size: 22px;
      text-align: center;
      padding: 30px;
    }
	
    .navigation h2 {
      color: #f9fafa5c;
      font-size: 22px;
      margin-left: -25px;
      padding-right: 25px;
	  cursor: default;
	  user-select: none;
	  text-shadow: 10px 12px 25px #f9fafa5c;
      border-image-slice: 1 !important;
      border-bottom: 3px solid transparent;
      border-image: -webkit-linear-gradient(to right, transparent 0%, #f9fafa5c 20%);
      border-image:    -moz-linear-gradient(to right, transparent 0%, #f9fafa5c 20%);
      border-image:     -ms-linear-gradient(to right, transparent 0%, #f9fafa5c 20%);
      border-image:      -o-linear-gradient(to right, transparent 0%, #f9fafa5c 20%);
      border-image:         linear-gradient(to right, transparent 0%, #f9fafa5c 20%);
    }
	
    .navigation a {
      text-decoration: none;
      -webkit-transition: 0.1s all ease-in-out;
         -moz-transition: 0.1s all ease-in-out;
          -ms-transition: 0.1s all ease-in-out;
           -o-transition: 0.1s all ease-in-out;
              transition: 0.1s all ease-in-out;
    }
	
    .navigation a:hover {
      text-shadow: 0 0 1px #ff000069;
    }
	
    .navigation a:active {
      -webkit-transform: scale(1, 0.9);
         -moz-transform: scale(1, 0.9);
          -ms-transform: scale(1, 0.9);
           -o-transform: scale(1, 0.9);
              transform: scale(1, 0.9);
      filter: drop-shadow(0 0 transparent) contrast(1.05);
    }
	
    .navigation p {
      width: 60px;
      color: #f9fafa5c;
      cursor: default;
      user-select: none;
      border-image-slice: 1 !important;
      border-bottom: 3px solid transparent;
      border-image: -webkit-linear-gradient(to right, #f9fafa5c 14%, transparent 60%);
      border-image:    -moz-linear-gradient(to right, #f9fafa5c 14%, transparent 60%);
      border-image:     -ms-linear-gradient(to right, #f9fafa5c 14%, transparent 60%);
      border-image:      -o-linear-gradient(to right, #f9fafa5c 14%, transparent 60%);
      border-image:         linear-gradient(to right, #f9fafa5c 14%, transparent 60%);
    }

    .vibe {
      color: #815db1;
      background: #f2f2fff5;
      border: none;
	  padding: 25px;
      filter: none;
      opacity: 0.95;
      border-radius: 16px;
      box-shadow: 0px 0px 20px 20px #ffffff82;
    }
	
    .vibe-layer {
      background: #ffffff;
      border-radius: 16px;
    }
	
    .ux-vibe {
      padding: 25px;
	  border-radius: 16px;
      background: #e7e7ff94;
	  filter: drop-shadow(0px 0px 3px #ffffff);
    }

    .docs h1 {
      font-size: 28px;
      text-align: center;
      padding-bottom: 15px;
      margin-bottom: 10px;
	  margin: 1.2em 0 0.6em;
	  scroll-margin-top: 200px;
    }
	
	.ml-сache h1,
	.nav-ml-сache {
      color: #785fffeb;
      border-bottom: 3px solid #785fffeb;
	  filter: drop-shadow(2px 4px 5px #785fffeb);
	}
	
    .ispn h1,
	.nav-ispn {
      color: #ea6f6fe8;
      border-bottom: 3px solid #ea6f6fe8;
	  filter: drop-shadow(2px 4px 5px #ff7070);
    }
	
    .pwa-layer h1,
	.nav-pwa-layer {
      color: #1493ffdb;
      border-bottom: 3px solid #1493ffdb;
      filter: drop-shadow(2px 4px 5px #1c97ffdb);
    }
	
    .ops-ux h1 {
      color: #8d8d8df2;
      border-bottom: 3px solid #8d8d8df2;
      filter: drop-shadow(2px 4px 5px #deccae);
    }
	
	.nav-ops-ux {
      color: #deccaec7;
      border-bottom: 3px solid #deccaed6;
      filter: drop-shadow(2px 4px 5px #deccae80);
    }
	
    .dialogcore h1,
	.nav-dialogcore {
      color: #3bbf57ed;
      border-bottom: 3px solid #3bbf57ed;
      filter: drop-shadow(2px 4px 5px #5edd78);
    }
	
    .aioperator h1,
	.nav-ioperator {
      color: transparent;
      background-clip: text;
      background-image: linear-gradient(90deg, #ff56ace0 25%, #a059fee3 90%);
      border-bottom: 3px solid transparent;
      border-image-slice: 1 !important;
      border-image: linear-gradient(to right, transparent, #ff56acc2, transparent);
      filter: drop-shadow(2px 4px 5px #ff7070);
    }
	
    .nav-ioperator {
      border-bottom: 3px solid #ff56acc2;
      border-image: none;
    }
	
    .ux-vibe h1,
	.nav-ux-vibe {
      filter: drop-shadow(2px 4px 5px #ff56ac);
      background-image: linear-gradient(300deg, #ff9900 25%, #ff56ac 90%);
      color: transparent;
      background-clip: text;
      border-bottom: 3px solid transparent;
      border-image: linear-gradient(to right, transparent, #ff990094, #ff56aca8, #ff990094, transparent);
      border-image-slice: 1;
      opacity: 0.97;
    }
	
    .nav-ux-vibe {
      border-bottom: 3px solid #ff990094;
      border-image: none;
    }

    .docs h2 {
      font-size: 20px;
      border-bottom: 1px solid #dddddd1a;
      padding-bottom: 8px;
      margin-top: 30px;
	  margin: 1.2em 0 0.6em;
    }

    .ml-сache h2 {
      color: #785fffeb;
	  filter: drop-shadow(2px 4px 5px #785fffeb);
    }

    .ispn h2 {
      color: #ea6f6fe8;
	  filter: drop-shadow(2px 4px 5px #ff7070);
    }
	
    .pwa-layer h2 {
      color: #1493ffdb;
	  filter: drop-shadow(2px 4px 5px #1c97ffdb);
    }
	
    .ops-ux h2 {
      color: #8d8d8df2;
      filter: drop-shadow(2px 4px 5px #deccae);
    }
	
    .dialogcore h2 {
      color: #3bbf57ed;
      filter: drop-shadow(2px 4px 5px #5edd78);
    }
	
    .aioperator h2 {
      color: #ff56acf7;
      filter: drop-shadow(2px 4px 5px #ff7070);
    }
	
    .ux-vibe h2 {
      border-bottom: 1px solid #ddd;
      filter: drop-shadow(2px 4px 5px #ff56ac);
      background-image: linear-gradient(300deg, #ff9900 35%, #ff56ac 100%);
      color: transparent;
      background-clip: text;
      opacity: 0.97;
    }
	
    .aioperator h2 i {
      margin-right: 8px;
      width: 18px;
      text-align: center;
    }

    .docs h3 {
      font-size: 18px;
      color: #2c3e50;
      margin-top: 20px;
    }
	
    .ops-ux h3 {
      color: #ad8e5dc7;
    }
	
    .aioperator h3 {
      color: #2c3e50c7;
      filter: drop-shadow(5px 5px 5px rgba(0, 0, 0, .3));
    }
	
    .ux-vibe h3 {
      color: #815db1;
      filter: drop-shadow(5px 5px 5px rgba(0, 0, 0, .3));
    }

    .aioperator h3 i {
      margin-right: 6px;
      width: 16px;
      text-align: center;
    }

    .docs p {
      margin: 8px 0;
      text-align: justify;
    }

    .docs ul, .docs ol {
      margin: 10px 0 10px 30px;
    }

    .docs li {
      margin: 5px 0;
    }

    .docs code {
      font-size: 14px;
      font-weight: bold;
      color: #2c3e508f;
      background: transparent;
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'Courier New', monospace;
      filter: drop-shadow(0px 0px 1px #ffffff);
    }

    .docs pre {
      background: #f8f9fa1a;
      padding: 15px;
      border-radius: 8px;
      overflow-x: auto;
      border: 1px solid #e0e0e01f;
      font-size: 13px;
      line-height: 1.5;
      white-space: pre-wrap;
      word-wrap: break-word;
      break-inside: auto;
	  box-shadow: inset 0px 0px 5px 5px #ffe9c517;
	  filter: drop-shadow(0px 0px 5px #ffffff);
    }
	
    .docs pre::-webkit-scrollbar,
    .docs table::-webkit-scrollbar,
    .docs .mermaid::-webkit-scrollbar {
      height:8px;
    }

    .docs pre::-webkit-scrollbar-track,
    .docs table::-webkit-scrollbar-track,
    .docs .mermaid::-webkit-scrollbar-track {
      background: #d3d3d3d9;
      border-radius: 1px 1px 8px 8px;
    }

    .docs pre::-webkit-scrollbar-thumb,
    .docs .mermaid::-webkit-scrollbar-thumb {
      background: #f9fafa9e;
      border-radius: 1px;
      transition: background 0.3s ease;
    }
	
    .docs table::-webkit-scrollbar-thumb {
      background: #f9fafa42;
      border-radius: 1px;
      transition: background 0.3s ease;
    }

    .docs pre::-webkit-scrollbar-thumb:hover,
    .docs table::-webkit-scrollbar-thumb:hover,
    .docs .mermaid::-webkit-scrollbar-thumb:hover {
      background: #856a3e21;
    }
	
    .ux-vibe pre {
      border: none;
      background: none;
    }

    .docs table {
      width: 100%;
      border-collapse: collapse;
      margin: 15px 0;
      font-size: 14px;
      break-inside: avoid;
    }
	
    .docs tbody {
	  box-shadow: inset 0px 0px 5px 5px #ffe9c517;
    }

    .docs table, .docs th, .docs td {
      border: 1px solid #e0e0e036;
    }

    .docs th, .docs td {
      padding: 10px;
      text-align: left;
    }
	
    .ml-сache th {
      background: #dcd7ff82;
      color: #7e6ed466;
    }

    .ispn th {
      background: #ffbfbf59;
      color: #bd696978;
    }
	
    .pwa-layer th {
      background: #78c3ff54;
      color: #2f80c480;
    }

    .ops-ux th {
      background: #ffeecd45;
      color: #856a3e6e;
    }
	
    .dialogcore th {
      background: #caffd252;
      color: #4e9f5e8f;
    }
	
    .aioperator th {
      background: #ffe3f252;
      color: #bf709891;
    }
	
    .ml-сache th,
	.ispn th,
	.pwa-layer th,
	.ops-ux th,
	.dialogcore th,
	.aioperator th {
      text-shadow: 0px 0px 3px #ffffff7a,
	               0px 0px 5px #ffffff7a,
				   0px 0px 8px #ffffff7a;
	}
	
    .ux-vibe th {
      background: #f8f5ef;
      color: #5d40a0;
    }

    .docs tr:nth-child(even) {
      background: #f9fafa1a;
    }

    .docs .highlight {
      background: #fffde740;
      padding: 15px;
      border-left: 4px solid #ffd6001c;
      margin: 15px 0;
      font-style: italic;
      break-inside: avoid;
	  filter: drop-shadow(0px 0px 1px #ffffff78);
    }
	
    .docs .mermaid {
      box-shadow: inset 1px 1px 15px 5px #fff9f0;
    }
	
    .aioperator .highlight {
      background: #fff4e659;
      border-left: 4px solid #ffab003b;
      color: #d896148a;
      padding: 16px;
      font-style: italic;
      break-inside: avoid;
      border-radius: 0 4px 4px 0;
	  animation: breathe 8s linear infinite;
	  transform: translate(0.5px, 0.5px);
	  transition: 1s all ease;
    }

    .ml-сache .mermaid,
    .ispn .mermaid,
    .pwa-layer .mermaid {
      display: flex;
      justify-content: center;
      background: #ffe9c51a;
      padding: 15px;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      margin: 15px 0;
	  opacity: 0.9;
      text-align: left;
      break-inside: avoid;
	  filter: drop-shadow(0px 0px 5px #ffffff);
    }
	
    .ml-сache .mermaid svg,
    .ispn .mermaid svg,
    .pwa-layer .mermaid svg {
      transition: 1s all ease;
      filter: drop-shadow(0px 0px 5px #ffffff);
    }
	
    .dialogcore .mermaid {
      padding: 40px;
      border-radius: 8px;
	  box-shadow: inset 1px 1px 20px 10px #fff9f0;
    }
	
    .dialogcore .mermaid svg {
      transition: 1s all ease;
    }

    .diagram {
      display: block;
      background: transparent;
      padding: 20px;
      border-radius: 8px;
      margin: 20px 0;
      overflow-x: auto;
    }
	
	.dialogcore .image {
      display: flex;
      position: relative;
      justify-content: center;
	  margin-bottom: 50px;
	}

    .dialogcore .image-center,
    .dialogcore .image-center-a	{
      display: block;
      margin: 20px auto;
      max-width: 100%;
	  filter: contrast(0.8);
    }

    .dialogcore .image-center {
	  border: solid 5px #565656;
	  border-radius: 50px;
	  box-shadow: 0px 5px 10px 0px #414141;
    }
	
    .aioperator .image-center {
	  z-index: 1;
      display: block;
	  position: relative;
      margin: 30px auto;
      max-width: 35%;
      height: auto;
      opacity: 0.95;
      border-radius: 18px;
      border: 5px solid #dfdfdf54;
    }
	
    .dialogcore .image-center-a	{
	  z-index: 1;
	  border: solid 6px #565656;
	  border-bottom: solid 28px #565656;
	  border-radius: 16px;
	  box-shadow: 0px 5px 10px 0px #414141;
    }
	
    .dialogcore .image::before	{
	  display: block;
	  position: absolute;
	  content: " ";
	  border-radius: 50px;
	  box-shadow: 0px 5px 10px 0px #414141;
	  bottom: -12px;
	  height: 80px;
	  width: 500px;
	  background: #484848;
    }
	
    .dialogcore .box {
	  z-index: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      height: 1350px;
    }
	
    .dialogcore .box-image {
      height: 1350px;
      box-shadow: 0 0 35px 5px rgb(0 0 0 / 30%);
      transform: rotate(-0.3deg);
      filter: drop-shadow(0px 0px 0px);
      transition: 0.8s all cubic-bezier(0, 0, 0, 0.75);
    }
	
    .dialogcore .box-image:hover,
    .dialogcore .box-image:active {
      height: 1390px;
      margin-top: -15px;
      transform: rotate(0deg);
      filter: drop-shadow(0px 0px 0px) contrast(1.5);
    }
	
    .dialogcore .two-column {
      display: flex;
      gap: 20px;
      margin: 20px 0;
      flex-wrap: wrap;
      max-height: 70vh;
      overflow: clip;
    }

    .dialogcore .column {
      flex: 1;
      min-width: 300px;
    }

    .dialogcore .code-block {
      background: #f4f4f400;
      border-radius: 6px;
      padding: 12px;
      overflow-x: auto;
      font-family: 'Courier New', monospace;
      font-size: 13px;
      line-height: 1.4;
    }

    .dialogcore .code-block pre {
      margin: 0;
      padding: 0;
      overflow-x: visible;
    }
	
    .aioperator .arrow {
      color: #ff56acbb;
      margin-right: 8px;
      font-weight: bold;
    }

    .aioperator .check {
      font-size: 18px;
      color: #51da8b;
      margin-right: 6px;
      font-weight: bold;
    }
	
    .ux-vibe code {
      color: #ff7ebe;
      background: #ffd7eb36;
      padding: 2px 6px;
      border-radius: 6px;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      filter: drop-shadow(2px 4px 5px #ff56ac);
      text-shadow: 0px 0px 0px #ff0080a8;
    }
	
    .ux-vibe .accent {
      padding: 15px;
      opacity: 0.97;
      color: #815db1;
      border-left: 4px solid #ff56ac85;
      border-right: 4px solid #ff99004f;
      margin: 15px 0;
      max-width: 835px;
      font-style: italic;
      break-inside: avoid;
      border-radius: 8px;
      background-image: linear-gradient(300deg, #ff99003b 25%, #ff56ac3d 90%);
      filter: drop-shadow(2px 4px 5px #ff56ac);
    }

    .ux-vibe .vibe-core {
      border-radius: 12px;
      padding: 18px;
      margin: 20px 0;
      opacity: 0.97;
      font-size: 16px;
      line-height: 1.7;
      color: #815db1;
      background-image: linear-gradient(300deg, #ff99003b 25%, #ff56ac3d 90%);
      filter: drop-shadow(2px 4px 5px #ff56ac);
    }

    .ux-vibe .quote {
      font-size: 20px;
      font-style: italic;
      color: #815db1;
      text-align: center;
      margin: 20px 0;
      line-height: 1.6;
      filter: drop-shadow(5px 5px 5px rgba(0, 0, 0, .3));
    }

    .ux-vibe .visual-example {
      text-align: center;
      margin: 20px 0;
      opacity: 0.8;
    }

    .ux-vibe .visual-example img {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
    }
	
    .ux-vibe .mind {
      color: #815db1;
      padding: 40px;
      border-radius: 9px;
      box-shadow: inset 0px 8px 16px #815db121;
    }
	
    .transcript {
      margin-top: 30px;
      text-align: center;
      font-size: 12px;
      color: #ffffff42;
      padding-top: 20px;
      opacity: .5;
      filter: drop-shadow(0px 0px 0px #ffffff);
    }

    .llm {
      font-family: 'Roboto', sans-serif;
      font-size: 15px;
      line-height: 1.5;
      color: #424242;
	  opacity: 0.8;
	  margin: 50px 10px;
      break-inside: avoid;
      background: #ffffff36;
      border: 1px solid #d0d0d026;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.12);
	  filter: drop-shadow(0px 8px 16px #58d17136);
      overflow: hidden;
    }
	
	@media (max-width: 767px) { 
      .navigation {
        flex-direction: column;
        font-size: 20px;
		max-width: 260px;
        gap: 12px;
		margin-bottom: -20px;
      }
	  
      .navigation p {
        margin-top: 15px;
        width: 260px;
        border-image: -webkit-linear-gradient(to right, #f9fafa5c 60%, transparent 90%);
        border-image:    -moz-linear-gradient(to right, #f9fafa5c 60%, transparent 90%);
        border-image:     -ms-linear-gradient(to right, #f9fafa5c 60%, transparent 90%);
        border-image:      -o-linear-gradient(to right, #f9fafa5c 60%, transparent 90%);
        border-image:         linear-gradient(to right, #f9fafa5c 60%, transparent 90%);
      }
	  
      .docs {
        user-select: none;
        padding: 18px;
      }
	  
      .project {
        margin: auto 20px;
      }
	  
      .stamp {
        margin: 35px;
      }

      .docs h1 {
        font-size: 20px;
        padding-bottom: 12px;
        margin-top: 10px;
        margin-bottom: 20px;
      }
	  
      .project h1,
      .stamp h1 {
        font-size: 24px;
        padding-bottom: 12px;
        margin-top: 10px;
        margin-bottom: 20px;
      }

      .project h2,
      .stamp h2 {
        font-size: 18px;
        padding-bottom: 6px;
      }

      .project p,
      .stamp p {
        font-size: 14px;
        text-align: start;
      }
	  
      .stamp p {
        font-size: 16px;
      }
	  
      .project .container p {
        width: 310px;
        font-size: 12px;
      }
	  
      .nav-ml-сache {
        filter: drop-shadow(12px 6px 6px #785fffeb);
      }
	
      .nav-ispn {
        filter: drop-shadow(12px 6px 6px #ff7070);
      }
	
      .nav-pwa-layer {
        filter: drop-shadow(12px 6px 6px #1c97ffdb);
      }
	
      .nav-ops-ux {
        filter: drop-shadow(12px 6px 6px #deccae);
      }
	
      .nav-dialogcore {
        filter: drop-shadow(12px 6px 6px #5edd78);
      }
	
      .nav-ioperator {
        filter: drop-shadow(12px 6px 6px #ff7070);
      }
	
      .nav-ux-vibe {
        filter: drop-shadow(12px 6px 6px #ff56ac);
      }

      .docs h2 {
        font-size: 18px;
        padding-bottom: 6px;
      }

      .docs h3 {
        font-size: 16px;
        margin-top: 16px;
      }

      .docs p {
        font-size: 14px;
		text-align: start;
      }

      .docs ul, .docs ol {
        margin-left: 20px;
        padding-left: 10px;
      }

      .docs li {
        margin: 4px 0;
      }

      .docs code {
        font-size: 13.5px;
        padding: 2px 5px;
      }

      .docs table {
        font-size: 12px;
        display: block;
        overflow-x: auto;
        white-space: nowrap;
      }

      .docs th, .docs td {
        padding: 6px 8px;
      }
	  
      .docs table, .docs th, .docs td {
        border: none;
      }
	  
      .docs pre {
        font-size: 12px;
		white-space: pre;
      }
	  
      .docs .mermaid svg {
        max-height: 600px;
        min-width: 150vw;
      }
	  
      .transcript {
        margin-top: 16px;
        font-size: 10px;
        padding-top: 14px;
      }
	  
      .ml-сache .mermaid,
      .ispn .mermaid,
      .pwa-layer .mermaid {
        display: block;
		margin: 22px;
        overflow-x: scroll;
      }
	  
      .dialogcore .box {
		height: 470px;
      }
	  
      .dialogcore .box-image {
		height: 470px;
      }
	  
      .dialogcore .box-image:hover,
      .dialogcore .box-image:active {
		height: 720px;
		margin-top: -140px;
		transform: rotate(0deg);
		filter: drop-shadow(0px 0px 0px) contrast(1.5);
      }
	  
      .dialogcore .diagram {
        display: block;
      }
	  
      .dialogcore .mermaid {
        overflow-x: scroll;
      }
	  
      .dialogcore .image-center {
        width: 240px;
        border: solid 6px #565656;
        border-radius: 35px;
      }
	  
      .dialogcore .image-center-a {
        border: solid 3px #565656;
        border-bottom: solid 12px #565656;
        border-radius: 8px;
      }
		
      .dialogcore .image::before {
        width: 320px;
		bottom: -10px;
        scale: 0.6;
      }
	  
      .aioperator .image-center {
        max-width: 70%;
      }
	  
      .ux-vibe {
        padding: 0px;
      }
	  
      .ux-vibe .quote {
        font-size: 16px;
      }
		
      .ux-vibe .accent,
      .ux-vibe .vibe-core {
        font-size: 14px;
      }
	  
      .ux-vibe .mind {
        padding: 20px;
        border-radius: 12px;
      }	  
	}
  </style>
  
  <script>
  document.addEventListener('DOMContentLoaded', function() {
    (function() {
      const heading = document.querySelector('h1');
      if (!heading) return;

      const ANIMATION_DURATION = 8000;
      const rect = heading.getBoundingClientRect();
      const canvas = document.createElement('canvas');
      const ctx = canvas.getContext('2d', { willReadFrequently: true });

      canvas.width = rect.width;
      canvas.height = rect.height;
      canvas.style.cssText = 
        'position:absolute;' +
        'top:' + (rect.top + window.scrollY) + 'px;' +
        'left:' + (rect.left + window.scrollX) + 'px;' +
        'pointer-events:none;' +
        'z-index:1;';
      document.body.appendChild(canvas);

      function triggerShake() {
        heading.style.transform = 'translateX(1px)';
        setTimeout(() => heading.style.transform = 'translateX(-1px)', 20);
        setTimeout(() => heading.style.transform = 'translateX(0.5px)', 40);
        setTimeout(() => heading.style.transform = 'translateX(-0.5px)', 60);
        setTimeout(() => heading.style.transform = 'translateX(0)', 80);
      }

      let fadeStepId = null;
      function fadeStep() {
        const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
        const data = imageData.data;
        let hasPixels = false;
        for (let i = 3; i < data.length; i += 4) {
          if (data[i] > 6) {
            data[i] = Math.max(0, data[i] - 10);
            hasPixels = true;
          }
        }
        ctx.putImageData(imageData, 0, 0);
        if (hasPixels) fadeStepId = requestAnimationFrame(fadeStep);
      }

      function drawSpark(x, y, length, angle, depth) {
        if (depth > 2) return;

        const steps = 2 + Math.floor(Math.random() * 3);
        ctx.beginPath();
        let cx = x, cy = y;
        ctx.moveTo(cx, cy);

        for (let i = 0; i < steps; i++) {
          const dx = Math.cos(angle + (Math.random() - 0.5) * 0.6) * (length / steps);
          const dy = Math.sin(angle + (Math.random() - 0.5) * 0.6) * (length / steps);
          cx += dx; cy += dy;
          cx = Math.max(2, Math.min(canvas.width - 2, cx));
          cy = Math.max(2, Math.min(canvas.height - 2, cy));
          ctx.lineTo(cx, cy);
        }

        ctx.lineWidth = 0.5 + Math.random() * 0.4;
        ctx.lineCap = 'round'; ctx.lineJoin = 'round';
        ctx.strokeStyle = 'hsla(270,100%,95%,0.8)';
        ctx.shadowColor = 'white'; ctx.shadowBlur = 3;
        ctx.stroke();

        ctx.lineWidth = 0.8 + Math.random() * 0.6;
        ctx.strokeStyle = 'hsla(275,85%,80%,0.6)';
        ctx.shadowColor = `hsl(${270 + Math.random() * 20},100%,70%)`;
        ctx.shadowBlur = 10 + Math.random() * 8;
        ctx.stroke();

        ctx.lineWidth = 0.5 + Math.random() * 0.3;
        ctx.shadowColor = 'hsl(280,100%,60%)';
        ctx.shadowBlur = 14 + Math.random() * 6;
        ctx.strokeStyle = 'hsla(280,100%,65%,0.3)';
        ctx.stroke();

        if (depth < 2 && Math.random() < 0.4) {
          const branchAngle1 = angle + 0.8 + Math.random() * 0.5;
          const branchAngle2 = angle - 0.8 - Math.random() * 0.5;
          const branchLength = length * (0.5 + Math.random() * 0.3);
          setTimeout(() => drawSpark(cx, cy, branchLength, branchAngle1, depth + 1), 10 + Math.random() * 20);
          setTimeout(() => drawSpark(cx, cy, branchLength, branchAngle2, depth + 1), 15 + Math.random() * 25);
        }
      }

      function triggerDischarge() {
        const x = 20 + Math.random() * (canvas.width - 40);
        const y = 20 + Math.random() * (canvas.height - 40);
        const length = 15 + Math.random() * 35;
        const angle = Math.random() * Math.PI * 2;

        drawSpark(x, y, length, angle, 0);
        triggerShake();

        if (fadeStepId) cancelAnimationFrame(fadeStepId);
        fadeStepId = requestAnimationFrame(fadeStep);
      }

     let intervalId = null;

      function scheduleDischarges() {
        intervalId = setInterval(() => {
          setTimeout(triggerDischarge, 4000);
          setTimeout(triggerDischarge, 7600);
          setTimeout(triggerDischarge, 7640);
          setTimeout(triggerDischarge, 7680);
          setTimeout(triggerDischarge, 7720);
        }, ANIMATION_DURATION);
      }

      let ticking = false;
      function updatePosition() {
        if (!ticking) {
          requestAnimationFrame(() => {
            const rect = heading.getBoundingClientRect();
            canvas.width = rect.width;
            canvas.height = rect.height;
            canvas.style.top = (rect.top + window.scrollY) + 'px';
            canvas.style.left = (rect.left + window.scrollX) + 'px';
            ticking = false;
          });
          ticking = true;
        }
      }

      const domObserver = new MutationObserver(updatePosition);
      domObserver.observe(document.body, {
        childList: true,
        subtree: true
      });

      window.addEventListener('resize', updatePosition);
      window.addEventListener('scroll', updatePosition, { passive: true });

      window.__dischargeEffect = {
        stop: () => {
          if (intervalId) clearInterval(intervalId);
          window.removeEventListener('resize', updatePosition);
          window.removeEventListener('scroll', updatePosition);
          domObserver.disconnect();
          if (fadeStepId) cancelAnimationFrame(fadeStepId);
          if (canvas.parentNode) canvas.parentNode.removeChild(canvas);
        }
      };

      scheduleDischarges();
    })();
  });

  document.addEventListener('DOMContentLoaded', function() {
    (function() {
      const MIN_DELAY = 30000;
      const MAX_DELAY = 60000;
      let dischargeTimeoutId = null;

      const canvas = document.createElement('canvas');
      const ctx = canvas.getContext('2d', { willReadFrequently: true });

      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      canvas.style.cssText = 
        'position:fixed;' +
        'top:0;' +
        'left:0;' +
        'width:100%;' +
        'height:100%;' +
        'pointer-events:none;' +
        'z-index:9999;' +
        'opacity:0.7;';
      document.body.appendChild(canvas);

      function triggerContrastPulse() {
        document.body.style.transition = 'filter 0.06s ease-out';
        document.body.style.filter = 'contrast(1.15) brightness(1.02)';

        setTimeout(() => {
          document.body.style.filter = 'contrast(1.06)';
        }, 40);

        setTimeout(() => {
          document.body.style.filter = 'contrast(1.02)';
        }, 70);

        setTimeout(() => {
          document.body.style.filter = 'none';
        }, 100);
      }

      let fadeStepId = null;
      function fadeStep() {
        const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
        const data = imageData.data;
        let hasPixels = false;
        for (let i = 3; i < data.length; i += 4) {
          if (data[i] > 6) {
            data[i] = Math.max(0, data[i] - 10);
            hasPixels = true;
          }
        }
        ctx.putImageData(imageData, 0, 0);
        if (hasPixels) fadeStepId = requestAnimationFrame(fadeStep);
      }

      function drawSpark(x, y, length, angle, depth) {
        if (depth > 2) return;

        const steps = 2 + Math.floor(Math.random() * 3);
        ctx.beginPath();
        let cx = x, cy = y;
        ctx.moveTo(cx, cy);

        for (let i = 0; i < steps; i++) {
          const dx = Math.cos(angle + (Math.random() - 0.5) * 0.6) * (length / steps);
          const dy = Math.sin(angle + (Math.random() - 0.5) * 0.6) * (length / steps);
          cx += dx; cy += dy;
          cx = Math.max(2, Math.min(canvas.width - 2, cx));
          cy = Math.max(2, Math.min(canvas.height - 2, cy));
          ctx.lineTo(cx, cy);
        }

        ctx.lineWidth = 0.6 + Math.random() * 0.5;
        ctx.lineCap = 'round'; ctx.lineJoin = 'round';
        ctx.strokeStyle = 'hsla(270,100%,95%,0.7)';
        ctx.shadowColor = 'white'; ctx.shadowBlur = 4;
        ctx.stroke();

        ctx.lineWidth = 1.0 + Math.random() * 0.6;
        ctx.strokeStyle = 'hsla(275,90%,80%,0.6)';
        ctx.shadowColor = `hsl(${270 + Math.random() * 20},100%,75%)`;
        ctx.shadowBlur = 12;
        ctx.stroke();

        ctx.lineWidth = 0.5 + Math.random() * 0.4;
        ctx.shadowColor = 'hsl(280,100%,65%)';
        ctx.shadowBlur = 16;
        ctx.strokeStyle = 'hsla(280,100%,70%,0.3)';
        ctx.stroke();

        if (depth < 2 && Math.random() < 0.3) {
          const branchAngle1 = angle + 0.8 + Math.random() * 0.5;
          const branchAngle2 = angle - 0.8 - Math.random() * 0.5;
          const branchLength = length * (0.5 + Math.random() * 0.3);
          setTimeout(() => drawSpark(cx, cy, branchLength, branchAngle1, depth + 1), 15 + Math.random() * 25);
          setTimeout(() => drawSpark(cx, cy, branchLength, branchAngle2, depth + 1), 20 + Math.random() * 30);
        }
      }

      function triggerDischarge() {
        const x = 20 + Math.random() * (canvas.width - 40);
        const y = 20 + Math.random() * (canvas.height - 40);
        const length = 20 + Math.random() * 50;
        const angle = Math.random() * Math.PI * 2;

        drawSpark(x, y, length, angle, 0);
        triggerContrastPulse();

        if (fadeStepId) cancelAnimationFrame(fadeStepId);
        fadeStepId = requestAnimationFrame(fadeStep);

        scheduleNextDischarge();
      }

      function scheduleNextDischarge() {
        const delay = MIN_DELAY + Math.random() * (MAX_DELAY - MIN_DELAY);
        dischargeTimeoutId = setTimeout(triggerDischarge, delay);
      }

      function handleResize() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      }
      window.addEventListener('resize', handleResize);

      window.__globalDischargeEffect = {
        stop: () => {
          window.removeEventListener('resize', handleResize);
          if (dischargeTimeoutId) clearTimeout(dischargeTimeoutId);
          if (fadeStepId) cancelAnimationFrame(fadeStepId);
          if (canvas.parentNode) canvas.parentNode.removeChild(canvas);
        }
      };

      scheduleNextDischarge();
    })();
  });
  
  document.addEventListener('DOMContentLoaded', function () {
    (function () {
      let isAnimationActive = false;
      let audioInstance = null;
  
      function loadAudio() {
        audioInstance = new Audio('https://kyrchenkov.github.io/assets/sound.mp3');
        audioInstance.volume = 0.7;
        audioInstance.preload = 'auto';
      }
      loadAudio();
  
      function playAudio() {
        if (audioInstance) {
          audioInstance.currentTime = 0;
          audioInstance.play().catch(() => {});
        }
      }
  
      function showComputationAnimation(callback) {
        if (isAnimationActive) return;
        isAnimationActive = true;
  
        let typeTextTimeout;
        let wordTimeout;
        let symbolTimeout;
        let animateFrame = null;
        let lastTime = 0;
        const desiredFps = 60;
        const frameInterval = 1000 / desiredFps;
  
        function getPerformanceLevel() {
          try {
            const start = performance.now();
            for (let i = 0; i < 50000; i++) {
              Math.random();
            }
            const end = performance.now();
            const diff = end - start;
  
            if (diff > 15) return 'low';
            if (diff > 8) return 'medium';
            return 'high';
          } catch (e) {
            return 'medium';
          }
        }
  
        const performanceLevel = getPerformanceLevel();
        const particleCount = performanceLevel === 'low' ? 50 : performanceLevel === 'medium' ? 75 : 100;
        const symbolCount = performanceLevel === 'low' ? 20 : performanceLevel === 'medium' ? 25 : 30;
  
        const originalOverflow = document.body.style.overflow;
        const originalPosition = document.body.style.position;
        const originalTop = document.body.style.top;
        const originalLeft = document.body.style.left;
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;
  
        document.body.style.overflow = 'hidden';
        document.body.style.position = 'fixed';
        document.body.style.top = `-${scrollTop}px`;
        document.body.style.left = `-${scrollLeft}px`;
        document.body.style.width = '100%';
  
        const globalStyle = document.createElement('style');
        globalStyle.textContent = `
          @keyframes contentPulse {
            0%, 100% { box-shadow: inset 0 0 0 rgba(0,0,0,0); }
            50% { box-shadow: inset 0 0 20px rgba(0,0,0,0.1); }
          }
          body.animation-active {
            animation: contentPulse 0.8s ease-in-out infinite;
          }
          @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
          @keyframes pulse {
            from {
              transform: scale(1);
              text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff;
            }
            to {
              transform: scale(1.05);
              text-shadow: 0 0 15px #00ffff, 0 0 30px #00ffff, 0 0 45px #00ffff;
            }
          }
          @keyframes ux-btn {
            0% { transform: scaleX(.7) scaleY(1.3); }
            50% { transform: scaleX(1.1) scaleY(0.9); }
            100% { transform: scaleX(.7) scaleY(1.3); }
          }
        `;
        document.head.appendChild(globalStyle);
  
        document.body.classList.add('animation-active');
  
        const existingContainer = document.getElementById('computation-animation');
        if (existingContainer) {
          existingContainer.remove();
        }
  
        const animationContainer = document.createElement('div');
        animationContainer.id = 'computation-animation';
        animationContainer.style.cssText = `
          position: fixed;
          top: 0;
          left: 0;
          width: 100vw;
          height: 100vh;
          z-index: 300001;
          overflow: hidden;
          display: flex;
          justify-content: center;
          align-items: center;
          opacity: 1;
          transition: opacity 0.5s ease-out;
          transform: translateZ(0);
          will-change: transform;
        `;
  
        const backgroundContainer = document.createElement('div');
        backgroundContainer.style.cssText = `
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: linear-gradient(135deg, #0f0c29d9, #302b63d9, #24243ed9);
          z-index: 300002;
          transform: translateZ(0);
        `;
        animationContainer.appendChild(backgroundContainer);
  
        const overlay = document.createElement('div');
        overlay.style.cssText = `
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: linear-gradient(to top, #0f0c29ba 0%, #0f0c299c 30%, transparent 75%);
          z-index: 300003;
          pointer-events: none;
          transform: translateZ(0);
        `;
        animationContainer.appendChild(overlay);
  
        const canvas = document.createElement('canvas');
        canvas.style.cssText = `
          position: fixed;
          top: 0;
          left: 0;
          width: 100vw;
          height: 100vh;
          pointer-events: none;
          z-index: 300004;
          transform: translateZ(0);
          will-change: transform;
        `;
        animationContainer.appendChild(canvas);
  
        const textContainer = document.createElement('div');
        textContainer.style.cssText = `
          position: relative;
          z-index: 300005;
          color: #00ffff;
          font-family: 'Courier New', monospace;
          font-size: 24px;
          font-weight: bold;
          text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff;
          letter-spacing: 4px;
          transform: translateZ(0);
          will-change: transform;
        `;
        animationContainer.appendChild(textContainer);
  
        document.body.appendChild(animationContainer);
  
        const fullText = 'АКТИВАЦИЯ ВНИМАНИЯ...';
        let currentIndex = 0;
  
        function typeText() {
          if (currentIndex < fullText.length) {
            const textElement = document.createElement('span');
            textElement.textContent = fullText[currentIndex];
            textElement.style.animation = 'pulse 1.5s infinite alternate';
            textContainer.appendChild(textElement);
            currentIndex++;
            const baseDelay = performanceLevel === 'low' ? 100 : performanceLevel === 'medium' ? 75 : 50;
            const delay = baseDelay + Math.random() * 100;
            typeTextTimeout = setTimeout(typeText, delay);
          }
        }
        typeText();
  
        function updateCanvasSize() {
          canvas.width = window.innerWidth;
          canvas.height = window.innerHeight;
        }
        updateCanvasSize();
        window.addEventListener('resize', updateCanvasSize);
  
        const ctx = canvas.getContext('2d', { alpha: true });
  
        const fontRegular = 'bold 20px Courier New';
        const fontWord = 'bold 36px Courier New';
  
        const particles = [];
        const symbols = [];
  
        for (let i = 0; i < particleCount; i++) {
          particles.push({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            vx: (Math.random() - 0.5) * 2,
            vy: (Math.random() - 0.5) * 2,
            radius: Math.random() * 3 + 1,
            color: `hsl(${Math.random() * 60 + 180}, 100%, 70%)`,
          });
        }
  
        const chars = 'aeoristupnlmfbcdghvwxyAIOPRSTUEмВкДНсЗжлгяИбЭпутХ';
        for (let i = 0; i < symbolCount; i++) {
          symbols.push({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            char: chars[Math.floor(Math.random() * chars.length)],
            size: Math.random() * 20 + 10,
            speed: Math.random() * 2 + 1,
            opacity: Math.random() * 0.5 + 0.5,
            isFlashing: false,
            flashEndTime: 0,
            originalSize: Math.random() * 20 + 10,
          });
        }
  
        const words = [
          'ML-Cache', 'ISPN', 'PWA-Layer', 'OPS-UX', 'DialogCore',
          'AI-Оператор', 'UX-Vibe', 'Скорость', 'Удобство', 'Эффективность',
          'Доверие', 'Надежность', 'Доступность', 'Инженерия UX',
          'TTFB', 'FCP', 'Performance', 'UX', 'SRE',
        ];
  
        let currentWord = null;
        let wordFlashEndTime = 0;
        let wordX = 0;
        let wordY = 0;
        let isFadingOut = false;
  
        function showRandomWord() {
          if (isFadingOut) return;
          if (!currentWord || Date.now() >= wordFlashEndTime) {
            currentWord = words[Math.floor(Math.random() * words.length)];
            wordFlashEndTime = Date.now() + 800;
            wordX = Math.random() * (canvas.width - 200) + 100;
            wordY = Math.random() * (canvas.height - 100) + 50;
          }
          const baseDelay = performanceLevel === 'low' ? 800 : performanceLevel === 'medium' ? 500 : 300;
          wordTimeout = setTimeout(showRandomWord, baseDelay + Math.random() * 500);
        }
        showRandomWord();
  
        function flashRandomSymbol() {
          if (isFadingOut) return;
          const nonFlashingSymbols = symbols.filter(s => !s.isFlashing);
          if (nonFlashingSymbols.length > 0) {
            const randomSymbol = nonFlashingSymbols[Math.floor(Math.random() * nonFlashingSymbols.length)];
            randomSymbol.isFlashing = true;
            randomSymbol.flashEndTime = Date.now() + 400;
            setTimeout(() => { randomSymbol.isFlashing = false; }, 400);
          }
          const baseDelay = performanceLevel === 'low' ? 400 : performanceLevel === 'medium' ? 250 : 150;
          symbolTimeout = setTimeout(flashRandomSymbol, baseDelay + Math.random() * 300);
        }
        flashRandomSymbol();
  
        let animationTime = 0;
        const animationDuration = 5000;
  
        function animate(currentTime) {
          if (isFadingOut) return;
  
          if (currentTime - lastTime < frameInterval) {
            animateFrame = requestAnimationFrame(animate);
            return;
          }
          lastTime = currentTime;
  
          ctx.clearRect(0, 0, canvas.width, canvas.height);
  
          const timeStep = 16;
          animationTime += timeStep;
          const progress = Math.min(animationTime / animationDuration, 1);
  
          if (progress >= 1 && !isFadingOut) {
            isFadingOut = true;
            animationContainer.style.opacity = '0';
  
            setTimeout(() => {
              cleanup();
              if (callback && typeof callback === 'function') callback();
            }, 500);
          }
  
          for (const p of particles) {
            p.x += p.vx;
            p.y += p.vy;
            if (p.x < 0 || p.x > canvas.width) p.vx *= -1;
            if (p.y < 0 || p.y > canvas.height) p.vy *= -1;
  
            ctx.beginPath();
            ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
            ctx.fillStyle = p.color;
            ctx.fill();
  
            ctx.beginPath();
            ctx.arc(p.x, p.y, p.radius * 2, 0, Math.PI * 2);
            ctx.fillStyle = p.color.replace(')', ', 0.2)').replace('hsl', 'hsla');
            ctx.fill();
          }
  
          ctx.strokeStyle = 'rgba(0, 255, 255, 0.2)';
          ctx.lineWidth = 1;
          const maxConnections = performanceLevel === 'low' ? 5 : performanceLevel === 'medium' ? 8 : 15;
          const maxDistance = performanceLevel === 'low' ? 60 : performanceLevel === 'medium' ? 80 : 100;
  
          for (let i = 0; i < particles.length; i++) {
            let connectionsCount = 0;
            for (let j = i + 1; j < particles.length && connectionsCount < maxConnections; j++) {
              const dx = particles[i].x - particles[j].x;
              const dy = particles[i].y - particles[j].y;
              const distance = Math.sqrt(dx * dx + dy * dy);
              if (distance < maxDistance) {
                ctx.beginPath();
                ctx.moveTo(particles[i].x, particles[i].y);
                ctx.lineTo(particles[j].x, particles[j].y);
                ctx.stroke();
                connectionsCount++;
              }
            }
          }
  
          if (currentWord && Date.now() < wordFlashEndTime) {
            const wordFlashProgress = (wordFlashEndTime - Date.now()) / 800;
            const shadowCount = performanceLevel === 'low' ? 0 : performanceLevel === 'medium' ? 3 : 5;
  
            for (let j = shadowCount; j >= 1; j--) {
              const offset = j * 3 * (1 - wordFlashProgress);
              const alpha = 0.3 * (j / shadowCount) * wordFlashProgress;
              ctx.fillStyle = `rgba(255, 0, 255, ${alpha})`;
              ctx.shadowColor = 'transparent';
              ctx.shadowBlur = 0;
              ctx.font = fontWord;
              ctx.fillText(currentWord, wordX + offset, wordY + offset);
            }
  
            ctx.fillStyle = '#ff00ff';
            ctx.font = fontWord;
            ctx.shadowColor = performanceLevel !== 'low' ? '#ff00ff' : 'transparent';
            ctx.shadowBlur = performanceLevel === 'low' ? 0 : (30 * wordFlashProgress);
            ctx.fillText(currentWord, wordX, wordY);
            ctx.shadowColor = 'transparent';
            ctx.shadowBlur = 0;
          }
  
          ctx.font = fontRegular;
          for (const s of symbols) {
            s.y += s.speed;
            if (s.y > canvas.height) {
              s.y = -20;
              s.x = Math.random() * canvas.width;
              s.char = chars[Math.floor(Math.random() * chars.length)];
            }
  
            let currentSize = s.originalSize;
            if (s.isFlashing && Date.now() < s.flashEndTime) {
              const flashProgress = (s.flashEndTime - Date.now()) / 400;
              const maxScale = performanceLevel === 'low' ? 0.3 : performanceLevel === 'medium' ? 0.5 : 0.8;
              currentSize = s.originalSize * (1 + maxScale * flashProgress);
  
              const shadowCount = performanceLevel === 'low' ? 0 : performanceLevel === 'medium' ? 2 : 5;
              for (let j = shadowCount; j >= 1; j--) {
                const offset = j * 2 * (1 - flashProgress);
                const alpha = 0.2 * (j / shadowCount) * flashProgress;
                ctx.fillStyle = `rgba(255, 0, 255, ${alpha})`;
                ctx.shadowColor = 'transparent';
                ctx.shadowBlur = 0;
                ctx.font = `bold ${currentSize}px Courier New`;
                ctx.fillText(s.char, s.x + offset, s.y + offset);
              }
  
              ctx.fillStyle = '#ff00ff';
              ctx.shadowColor = '#ff00ff';
              ctx.shadowBlur = performanceLevel === 'low' ? 0 : (20 * flashProgress);
            } else {
              ctx.fillStyle = `rgba(0, 255, 255, ${s.opacity})`;
              ctx.shadowColor = 'transparent';
              ctx.shadowBlur = 0;
            }
  
            ctx.font = `bold ${currentSize}px Courier New`;
            ctx.fillText(s.char, s.x, s.y);
          }
  
          animateFrame = requestAnimationFrame(animate);
        }
  
        function cleanup() {
          clearTimeout(typeTextTimeout);
          clearTimeout(wordTimeout);
          clearTimeout(symbolTimeout);
  
          if (animateFrame) {
            cancelAnimationFrame(animateFrame);
          }
  
          if (globalStyle.parentNode) {
            globalStyle.parentNode.removeChild(globalStyle);
          }
  
          if (animationContainer.parentNode) {
            animationContainer.parentNode.removeChild(animationContainer);
          }
  
          document.body.classList.remove('animation-active');
          document.body.style.overflow = originalOverflow;
          document.body.style.position = originalPosition;
          document.body.style.top = originalTop;
          document.body.style.left = originalLeft;
          document.body.style.width = '';
          window.removeEventListener('resize', updateCanvasSize);
          window.scrollTo(scrollLeft, scrollTop);
  
          const uxButton = document.querySelector('.ux-btn');
          if (uxButton) {
            playAudio();
  
            setTimeout(() => {
              uxButton.classList.add('ux-btn-animated');
              uxButton.style.cssText += `
                top: -22px;
                left: 134px;
                height: 86px;
                width: 66px;
                border-radius: 46px 22px 36px 38px;
                --btn-bg-1: #ffddab;
                --btn-bg-2: #e50075;
                background-image: linear-gradient(325deg, var(--btn-bg-2) 0%, var(--btn-bg-1) 55%, var(--btn-bg-2) 90%);
                box-shadow: 0px 0px 10px #ff3a9e87, 0px 5px 5px -1px #e9338f38, inset 4px 4px 8px #ffbbdd80, inset -4px -4px 8px #d3117359, inset 0px 0px 20px 0px #ffffffab, inset 0px 0px 20px 0px #ffffff75;
                animation: ux-btn 1s cubic-bezier(0.55, 0.06, 0.68, 0.19) infinite;
                filter: none;
                transform: scaleX(.7) scaleY(1.3);
              `;
  
              setTimeout(() => {
                uxButton.style.cssText += `
                  position: absolute;
                  top: -15px;
                  left: 130px;
                  height: 76px;
                  width: 76px;
                  opacity: 0.8;
                  border-radius: 22px 50px 15px 42px;
                  --btn-bg-1: #ffddabba;
                  --btn-bg-2: #ff2f99;
                  background-size: 280% auto;
                  background-image: linear-gradient(325deg, var(--btn-bg-2) 0%, var(--btn-bg-1) 55%, var(--btn-bg-2) 90%);
                  box-shadow: 0px 0px 10px #ff3a9e87, 0px 5px 5px -1px #e9338f38, inset 4px 4px 8px #ffbbdd80, inset -4px -4px 8px #d3117359, inset 0px 0px 20px 0px #fff, inset 0px 0px 20px 0px transparent;
                  transition: 0.18s all ease;
                  animation: none;
                  filter: contrast(0.95);
                  transform: scaleX(1) scaleY(1);
                `;
              }, 15000);
            }, 4700);
          }
  
          isAnimationActive = false;
        }
  
        animateFrame = requestAnimationFrame(animate);
      }
  
      const UXButton = document.querySelector('.ux-btn');
      if (UXButton) {
        UXButton.addEventListener('click', function () {
          if (!isAnimationActive) {
            setTimeout(() => {
              showComputationAnimation();
            }, 300);
          }
        });
      }
    })();
  });
  
  document.addEventListener('DOMContentLoaded', function () {
    (function () {
      if (window.lightningAnimationInitialized) return;
      window.lightningAnimationInitialized = true;

      function createLightningAnimation() {
        const overlay = document.createElement('div');
        overlay.style.position = 'fixed';
        overlay.style.top = '0';
        overlay.style.left = '0';
        overlay.style.width = '100vw';
        overlay.style.height = '100vh';
        overlay.style.pointerEvents = 'none';
        overlay.style.zIndex = '999999';
        overlay.style.overflow = 'hidden';

        const canvas = document.createElement('canvas');
        canvas.style.position = 'absolute';
        canvas.style.top = '0';
        canvas.style.left = '0';
        canvas.style.width = '100%';
        canvas.style.height = '100%';

        const flash = document.createElement('div');
        flash.style.position = 'absolute';
        flash.style.top = '0';
        flash.style.left = '0';
        flash.style.width = '100%';
        flash.style.height = '100%';
        flash.style.backgroundColor = 'white';
        flash.style.opacity = '0';
        flash.style.transition = 'none';
        flash.style.zIndex = '10';
        flash.style.pointerEvents = 'none';

        overlay.appendChild(canvas);
        overlay.appendChild(flash);
        document.body.appendChild(overlay);

        const ctx = canvas.getContext('2d');
        const dpr = Math.min(window.devicePixelRatio || 1, 2);
        const w = window.innerWidth;
        const h = window.innerHeight;

        canvas.width = w * dpr;
        canvas.height = h * dpr;
        ctx.scale(dpr, dpr);
        ctx.lineCap = 'round';
        ctx.lineJoin = 'round';

        let timeoutIds = [];
        let intervalId = null;

        function cleanup() {
          timeoutIds.forEach(id => clearTimeout(id));
          timeoutIds = [];
          if (intervalId) {
            clearInterval(intervalId);
            intervalId = null;
          }
          if (overlay.parentNode) {
            overlay.parentNode.removeChild(overlay);
          }
          document.body.style.overflow = '';
          document.documentElement.style.scrollBehavior = '';
          window.lightningAnimationInitialized = false;
        }

        function clearCanvas() {
          ctx.shadowBlur = 0;
          ctx.shadowColor = 'transparent';
          ctx.clearRect(0, 0, w, h);
        }

        function shakeScreen(intensity = 1) {
          const style = document.createElement('style');
          const offset = 15 * intensity;
          style.textContent = `
            @keyframes stormShake {
              0%, 100% { transform: translate(0); }
              10% { transform: translate(-${offset}px, -${offset}px); }
              20% { transform: translate(${offset}px, ${offset}px); }
              30% { transform: translate(-${offset}px, ${offset}px); }
              40% { transform: translate(${offset}px, -${offset}px); }
              50% { transform: translate(0, 0); }
            }
          `;
          document.head.appendChild(style);
          overlay.style.animation = `stormShake 0.4s ease-out`;

          if (navigator.vibrate) {
            navigator.vibrate([80 * intensity]);
          }

          const id = setTimeout(() => {
            overlay.style.animation = '';
            if (style.parentNode) style.parentNode.removeChild(style);
          }, 400);
          timeoutIds.push(id);
        }

        function fullFlash(duration = 30, fadeOut = 200) {
          flash.style.transition = 'none';
          flash.style.opacity = '1';
          void flash.offsetWidth;

          const id = setTimeout(() => {
            flash.style.transition = `opacity ${fadeOut}ms ease-out`;
            flash.style.opacity = '0';
          }, duration);
          timeoutIds.push(id);
        }

        function drawLightning(isFinal = false, callback) {
          clearCanvas();

          const count = isFinal ? 3 : 1 + Math.floor(Math.random() * 2);

          for (let i = 0; i < count; i++) {
            const startX = w * 0.2 + Math.random() * w * 0.6;
            const endX = startX + (Math.random() - 0.5) * w * 0.4;

            let x = startX;
            let y = 0;

            const lineWidth = isFinal ? 6 + Math.random() * 3 : 3 + Math.random() * 2;
            const blur = isFinal ? 50 : 30 + Math.random() * 10;

            ctx.lineWidth = lineWidth;
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.9)';
            ctx.shadowColor = '#ffffee';
            ctx.shadowBlur = blur;
            ctx.beginPath();
            ctx.moveTo(x, y);

            while (y < h) {
              const dx = (Math.random() - 0.5) * 50;
              const dy = 20 + Math.random() * 20;
              x += dx;
              y += dy;
              ctx.lineTo(x, y);
            }
            ctx.stroke();

            ctx.lineWidth = 2;
            ctx.strokeStyle = '#aaffff';
            ctx.shadowBlur = blur * 0.6;
            ctx.stroke();

            ctx.lineWidth = 1;
            ctx.strokeStyle = '#ffffff';
            ctx.shadowBlur = blur * 0.3;
            ctx.stroke();
          }

          if (callback) callback();
        }

        function animate() {
          document.body.style.overflow = 'hidden';
          document.documentElement.style.scrollBehavior = 'auto';

          const id1 = setTimeout(() => {
            drawLightning(false, () => {
              const id = setTimeout(() => clearCanvas(), 50);
              timeoutIds.push(id);
            });
            fullFlash(20, 150);
            shakeScreen(0.7);
          }, 50);
          timeoutIds.push(id1);

          const id2 = setTimeout(() => {
            drawLightning(false, () => {
              const id = setTimeout(() => clearCanvas(), 50);
              timeoutIds.push(id);
            });
            fullFlash(20, 150);
            shakeScreen(1);
          }, 200);
          timeoutIds.push(id2);

          const id3 = setTimeout(() => {
            drawLightning(false, () => {
              const id = setTimeout(() => clearCanvas(), 50);
              timeoutIds.push(id);
            });
            fullFlash(20, 150);
            shakeScreen(1.1);
          }, 350);
          timeoutIds.push(id3);

          const finalId = setTimeout(() => {
            clearCanvas();
            flash.style.transition = 'none';
            flash.style.opacity = '0';

            const revealId = setTimeout(() => {
              drawLightning(true, () => {
                const fadeId = setTimeout(() => {
                  let opacity = 1;
                  intervalId = setInterval(() => {
                    opacity -= 0.15;
                    ctx.globalAlpha = opacity;
                    if (opacity <= 0) {
                      clearCanvas();
                      clearInterval(intervalId);
                      intervalId = null;
                      ctx.globalAlpha = 1;
                    } else {
                      drawLightning(true);
                    }
                  }, 20);
                }, 50);
                timeoutIds.push(fadeId);
              });

              flash.style.transition = 'none';
              flash.style.opacity = '1';
              void flash.offsetWidth;

              shakeScreen(2);

              if (navigator.vibrate) {
                navigator.vibrate([400, 100, 300, 100, 200]);
              }

              const fadeId1 = setTimeout(() => {
                flash.style.transition = 'opacity 0.4s ease-out';
                flash.style.opacity = '0';
              }, 50);
              timeoutIds.push(fadeId1);

              const flashId = setTimeout(() => {
                flash.style.transition = 'opacity 0.05s ease-out';
                flash.style.opacity = '1';
                
                const releaseId = setTimeout(() => {
                  flash.style.transition = 'opacity 3s ease-out';
                  flash.style.opacity = '0';
                }, 100);
                timeoutIds.push(releaseId);
              }, 400);
              timeoutIds.push(flashId);

              const cleanupId = setTimeout(() => {
                clearCanvas();
                cleanup();
              }, 4000);
              timeoutIds.push(cleanupId);
            }, 40);
            timeoutIds.push(revealId);
          }, 1000);
          timeoutIds.push(finalId);
        }

        animate();
        return cleanup;
      }

      function initButton() {
        document.querySelectorAll('button.shock-btn').forEach(btn => {
          btn.addEventListener('click', e => {
            e.preventDefault();
            if (btn.classList.contains('lightning-animation-active')) return;
            btn.classList.add('lightning-animation-active');
            const cleanup = createLightningAnimation();
            setTimeout(() => {
              try {
                cleanup();
              } catch (e) {
              }
              btn.classList.remove('lightning-animation-active');
            }, 5000);
          });
        });
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initButton);
      } else {
        initButton();
      }

      window.createLightningAnimation = createLightningAnimation;
    })();
  });
  
  document.addEventListener('DOMContentLoaded', function() {
    function showScreenScanner(callback) {
      const scannerOverlay = document.createElement('div');
      scannerOverlay.className = 'scanner-overlay';

      const scannerLine = document.createElement('div');
      scannerLine.className = 'scanner-line';

      const scannerGlow = document.createElement('div');
      scannerGlow.className = 'scanner-glow';
      
      const scannerGlowSecondary = document.createElement('div');
      scannerGlowSecondary.className = 'scanner-glow-secondary';

      scannerOverlay.appendChild(scannerLine);
      scannerOverlay.appendChild(scannerGlow);
      scannerOverlay.appendChild(scannerGlowSecondary);
      document.body.appendChild(scannerOverlay);

      const hideTimer = setTimeout(() => {
        if (scannerOverlay.parentNode) {
          scannerOverlay.parentNode.removeChild(scannerOverlay);
        }
        if (callback && typeof callback === 'function') callback();
      }, 1500);

      window.addEventListener('beforeunload', () => {
        clearTimeout(hideTimer);
        if (scannerOverlay.parentNode) {
          scannerOverlay.parentNode.removeChild(scannerOverlay);
        }
      });
    }

    const style = document.createElement('style');
    style.textContent = `
      .scanner-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 9999;
        overflow: hidden;
      }

      .scanner-line {
        position: absolute;
        top: 100%;
        left: 0;
        width: 100%;
        height: 3px;
        background: linear-gradient(90deg, 
          rgba(0, 255, 0, 0) 0%, 
          rgba(0, 255, 0, 1) 50%, 
          rgba(0, 255, 0, 0) 100%);
        box-shadow: 0 0 15px rgba(0, 255, 0, 0.6),
		            0 0 30px rgba(0, 255, 0, 0.3);
        animation: scan 1.5s linear forwards;
      }

      .scanner-glow {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
          ellipse at center,
          rgba(0, 255, 0, 0.3) 0%,
          rgba(0, 255, 0, 0.15) 30%,
          rgba(0, 255, 0, 0) 70%
        );
        opacity: 0;
        animation: glow 1.5s linear forwards;
      }
      
      .scanner-glow-secondary {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
          ellipse at center,
          rgba(0, 255, 0, 0.2) 0%,
          rgba(0, 255, 0, 0.1) 40%,
          rgba(0, 255, 0, 0) 80%
        );
        opacity: 0;
        animation: glow-pulse 2s ease-in-out infinite;
      }

      @keyframes scan {
        0% { top: 100%; }
        100% { top: 0%; }
      }

      @keyframes glow {
        0% { opacity: 0; }
        50% { opacity: 1; }
        100% { opacity: 0; }
      }

      @keyframes glow-pulse {
        0%, 100% { opacity: 0.3; }
        50% { opacity: 0.6; }
      }
    `;
    document.head.appendChild(style);

    const button = document.querySelector('button.ui-to-top');
    if (button) {
      button.addEventListener('click', function() {
        setTimeout(() => {
          showScreenScanner();
        }, 200);
      });
    }
  });
  
  document.addEventListener('DOMContentLoaded', function() {
    function triggerAttentionDangerAnimation() {
      const glitchOverlay = document.createElement('div');
      glitchOverlay.className = 'glitch-overlay';
      glitchOverlay.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 99999;
        background: transparent;
        opacity: 0;
      `;

      const blackOverlay = document.createElement('div');
      blackOverlay.className = 'black-overlay';
      blackOverlay.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: #000;
        z-index: 99999;
        opacity: 0;
        pointer-events: none;
      `;

      document.body.appendChild(glitchOverlay);
      document.body.appendChild(blackOverlay);

      const glitchInterval = setInterval(() => {
        if (Math.random() < 0.6) {
          const style = document.createElement('style');
          style.textContent = `
            * { animation: glitch-anim ${0.3 + Math.random() * 0.7}s ${Math.random() * 0.5}s infinite alternate; }
            @keyframes glitch-anim {
              0%, 100% { transform: translate(0); filter: blur(0px); }
              20% { transform: translate(-5px, 5px); filter: blur(1px); }
              40% { transform: translate(5px, -5px); filter: hue-rotate(90deg) blur(1px); }
              60% { transform: translate(-5px, -5px); filter: blur(1px); }
              80% { transform: translate(5px, 5px); filter: hue-rotate(-90deg) blur(1px); }
            }
          `;
          document.head.appendChild(style);
          setTimeout(() => {
            if (style.parentNode) {
              document.head.removeChild(style);
            }
          }, 200);
        }
      }, 100);

      setTimeout(() => {
        clearInterval(glitchInterval);
        glitchOverlay.style.opacity = '0';
        blackOverlay.style.opacity = '1';
        blackOverlay.style.pointerEvents = 'auto';

        setTimeout(() => {
          blackOverlay.style.transition = 'opacity 3s ease-out';
          blackOverlay.style.opacity = '0';

          setTimeout(() => {
            if (glitchOverlay.parentNode) {
              document.body.removeChild(glitchOverlay);
            }
            if (blackOverlay.parentNode) {
              document.body.removeChild(blackOverlay);
            }
          }, 3000);
        }, 8000);
      }, 2000);
    }

    const button = document.querySelector('button.turn-off-btn');
    if (button) {
      button.addEventListener('click', function() {
        setTimeout(() => {
          triggerAttentionDangerAnimation();
        }, 100);
      });
    }
  });
  
  document.addEventListener('DOMContentLoaded', function() {
    const BUTTON_SELECTOR = '.ux-btn';
    const DEBOUNCE_DELAY = 50;
    const DANCE_ELEMENTS_SELECTORS = `
      .home-page h1, 
      .home-page h2, 
      .home-page p, 
      .home-page a, 
      .home-page button, 
      .ux-btn, 
      .home-page img, 
      .home-page section, 
      .home-page div
    `.trim().replace(/\s+/g, ' ');
  
    let discoActive = false;
    let lastStyleChangeTime = 0;
    let styleChangeCount = 0;
    let animationFrameId = null;
    let explosionInterval = null;
    let uiToTopInterval = null;
    let bugElement = null;
    let bugDancing = false;
    let originalBugIcon = null;
    let danceElements = [];
    let uiToTopAnimating = false;
  
    let cachedTurnOffBtn = null;
    let cachedUiToTopBtn = null;
  
    function ensureIsolationContainer() {
      let container = document.getElementById('disco-isolation-container');
      if (!container) {
        container = document.createElement('div');
        container.id = 'disco-isolation-container';
        container.style.cssText = `
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          pointer-events: none;
          z-index: 99999;
          transform: none !important;
        `;
        document.documentElement.appendChild(container);
      }
      return container;
    }
  
    function debounce(func, delay) {
      let timeout;
      return function(...args) {
        const context = this;
        clearTimeout(timeout);
        timeout = setTimeout(() => func.apply(context, args), delay);
      };
    }
  
    (function injectDiscoStyles() {
      if (document.getElementById('disco-enhanced-styles')) return;
      const style = document.createElement('style');
      style.id = 'disco-enhanced-styles';
      style.textContent = `
        .ui-to-top.disco-active-force {
          top: -160px !important;
          height: 200px !important;
          opacity: 0.85 !important;
          border-top-left-radius: 40px 70px !important;
          border-top-right-radius: 60px 70px !important;
          border-bottom-left-radius: 35px 70px !important;
          border-bottom-right-radius: 50px 70px !important;
          box-shadow: 
            0px 0px 20px #ff47a57d,
            0px 5px 5px -1px #e938922b,
            0px 5px 3px #ffffff80,
            inset 4px 4px 8px #ffb2d975,
            inset 0px 0px 15px #ffffff,
            inset 0px 5px 3px #ffffff80 !important;
          filter: contrast(1.15) !important;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
        }
        .ui-to-top.disco-active-force i {
          transform: scaleX(.7) scaleY(3) !important;
          transition: transform 0.3s ease !important;
        }
        #disco-bug-element {
          position: absolute !important;
          z-index: 100000 !important;
          pointer-events: none !important;
          mix-blend-mode: screen !important;
          filter: drop-shadow(0 0 8px rgba(255,255,255,0.9)) !important;
        }
      `;
      document.head.appendChild(style);
    })();
  
    function initDiscoEffect() {
      if (discoActive) return;
      discoActive = true;
  
      cachedTurnOffBtn = document.querySelector('.turn-off-btn');
      cachedUiToTopBtn = document.querySelector('.ui-to-top');
  
      cleanupBugElement();
      resetOriginalBugIcon();
  
      danceElements = Array.from(document.querySelectorAll(DANCE_ELEMENTS_SELECTORS))
        .filter(el => {
          const style = getComputedStyle(el);
          return style.position !== 'fixed' && style.position !== 'absolute';
        });
  
      const root = document.documentElement;
  
      const container = document.createElement('div');
      container.id = 'disco-container';
      container.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 99990;
        mix-blend-mode: screen;
        opacity: 0;
      `;
      root.appendChild(container);
  
      const canvas = document.createElement('canvas');
      canvas.id = 'disco-canvas';
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      canvas.style.cssText = `
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      `;
      container.appendChild(canvas);
  
      const ctx = canvas.getContext('2d', { alpha: false });
      ctx.lineCap = 'round';
      ctx.imageSmoothingEnabled = false;
  
      const colorOverlay = document.createElement('div');
      colorOverlay.id = 'disco-color-overlay';
      colorOverlay.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        pointer-events: none;
        z-index: 99989;
        opacity: 0.25;
        background: linear-gradient(135deg,
          hsla(180, 100%, 65%, 0.2),
          hsla(270, 100%, 60%, 0.15),
          hsla(300, 100%, 70%, 0.1)
        );
        will-change: background;
      `;
      root.appendChild(colorOverlay);
  
      const spotlight = document.createElement('div');
      spotlight.style.cssText = `
        position: fixed;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(circle, rgba(255,255,255,0.18) 0%, rgba(255,255,255,0) 70%);
        pointer-events: none;
        z-index: 99988;
        opacity: 0.45;
        mix-blend-mode: screen;
        transform: translate(-20%, -20%);
        will-change: transform;
      `;
      root.appendChild(spotlight);
  
      const strobes = [];
      const positions = [
        { top: '6%', left: '6%' },
        { top: '6%', right: '6%' },
        { bottom: '6%', left: '6%' },
        { bottom: '6%', right: '6%' }
      ];
  
      positions.forEach(pos => {
        const el = document.createElement('div');
        Object.assign(el.style, {
          position: 'fixed',
          [pos.top ? 'top' : 'bottom']: pos.top || pos.bottom,
          [pos.left ? 'left' : 'right']: pos.left || pos.right,
          width: '12vmin',
          height: '12vmin',
          borderRadius: '50%',
          background: 'white',
          opacity: 0,
          pointerEvents: 'none',
          zIndex: 99991,
          mixBlendMode: 'screen',
          filter: 'blur(5px)',
          boxShadow: '0 0 40px 20px rgba(255,255,255,0.95)',
          transition: 'opacity 0.04s ease'
        });
        root.appendChild(el);
        strobes.push(el);
      });
  
      let globalOpacity = 0;
      let hue = 0;
      let spotlightX = 0;
      let spotlightY = 0;
      let gradientHue = Math.random() * 360;
      let turnOffRotation = 0;
  
      function animateTurnOffButton() {
        if (!cachedTurnOffBtn || !discoActive) return;
        turnOffRotation += 2.5;
        cachedTurnOffBtn.style.transform = `rotate(${turnOffRotation}deg)`;
        cachedTurnOffBtn.style.transition = 'none';
      }
  
      function simulateUiToTopClick() {
        if (!cachedUiToTopBtn || !discoActive || uiToTopAnimating) return;
  
        uiToTopAnimating = true;
        cachedUiToTopBtn.classList.remove('disco-active-force');
        void cachedUiToTopBtn.offsetWidth;
        cachedUiToTopBtn.classList.add('disco-active-force');
  
        const holdTime = 200 + Math.random() * 300;
        setTimeout(() => {
          if (discoActive) {
            cachedUiToTopBtn.classList.remove('disco-active-force');
          }
          uiToTopAnimating = false;
        }, holdTime);
      }
  
      function releaseAndAnimateBug() {
        if (!cachedTurnOffBtn || bugDancing) return;
        const icon = cachedTurnOffBtn.querySelector('i.fa.fa-bug');
        if (!icon) return;
  
        originalBugIcon = icon;
        originalBugIcon.style.visibility = 'hidden';
  
        cleanupBugElement();
  
        bugElement = icon.cloneNode(true);
        bugElement.id = 'disco-bug-element';
        const rect = cachedTurnOffBtn.getBoundingClientRect();
        bugElement.style.cssText = `
          position: absolute !important;
          left: ${rect.left + -30}px !important;
          top: ${rect.top + 30}px !important;
          font-size: 26px !important;
          color: #ff7e8c8c !important;
          filter: drop-shadow(0px 0px 3px #ff7e8cd9) !important;
          z-index: 100000 !important;
          pointer-events: none !important;
          mix-blend-mode: screen !important;
          transition: transform 0.7s cubic-bezier(0.19, 1, 0.22, 1), opacity 0.7s ease !important;
          opacity: 0;
          transform: translate(0, 0) rotate(0) scale(1);
        `;
  
        const isoContainer = ensureIsolationContainer();
        isoContainer.appendChild(bugElement);
  
        setTimeout(() => {
          if (!discoActive || !bugElement) return;
          const dx = (Math.random() - 0.5) * 200;
          const dy = -100 - Math.random() * 100;
          bugElement.style.transform = `translate(${dx}px, ${dy}px) rotate(360deg) scale(1.8)`;
          bugElement.style.opacity = '0.9';
  
          setTimeout(() => {
            bugDancing = true;
            animationFrameId = requestAnimationFrame(danceBug);
          }, 700);
        }, 100);
      }
  
      function danceBug() {
        if (!bugElement || !bugDancing) return;
        const time = performance.now();
        const x = Math.sin(time * 0.007) * 18;
        const y = Math.sin(time * 0.005) * 12 + Math.cos(time * 0.004) * 8;
        const r = Math.sin(time * 0.009) * 30;
        bugElement.style.transform = `translate(${x}px, ${y}px) rotate(${r}deg) scale(1.6)`;
        bugElement.style.opacity = 0.85 + Math.sin(time * 0.003) * 0.15;
        animationFrameId = requestAnimationFrame(danceBug);
      }
  
      function playExplosion() {
        const button = document.querySelector(BUTTON_SELECTOR);
        if (!button || !discoActive) return;
        const rect = button.getBoundingClientRect();
        const cx = rect.left + rect.width / 2;
        const cy = rect.top + rect.height / 2;
        const explosion = document.createElement('div');
        explosion.style.cssText = `
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          pointer-events: none;
          z-index: 99992;
        `;
        const pulse = document.createElement('div');
        pulse.style.cssText = `
          position: absolute;
          top: ${cy}px;
          left: ${cx}px;
          width: 8px;
          height: 8px;
          background: white;
          border-radius: 50%;
          opacity: 0.95;
          transform: translate(-50%, -50%);
          box-shadow: 0 0 30px 20px rgba(255,255,255,0.9);
          animation: disco-pulse 1.1s ease-out forwards;
        `;
        const style = document.createElement('style');
        style.textContent = `
          @keyframes disco-pulse {
            0% {
              width: 8px;
              height: 8px;
              opacity: 0.95;
              box-shadow: 0 0 30px 20px rgba(255,255,255,0.9);
            }
            100% {
              width: 700px;
              height: 700px;
              opacity: 0;
              box-shadow: 0 0 90px 70px rgba(255,255,255,0);
            }
          }
        `;
        explosion.appendChild(pulse);
        document.head.appendChild(style);
        root.appendChild(explosion);
        setTimeout(() => {
          if (explosion.parentNode) explosion.remove();
          if (style.parentNode) style.remove();
        }, 1100);
      }
  
      function startRandomExplosions() {
        playExplosion();
        explosionInterval = setInterval(() => {
          if (!discoActive) return;
          if (Math.random() < 0.6) playExplosion();
        }, 800 + Math.random() * 700);
        uiToTopInterval = setInterval(() => {
          if (discoActive && Math.random() < 0.45) {
            simulateUiToTopClick();
          }
        }, 400 + Math.random() * 600);
      }
  
      function animateLasers() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.globalCompositeOperation = 'lighter';
        hue = (hue + 2) % 360;
        const cx = canvas.width;
        const cy = 0;
        const len = Math.hypot(canvas.width, canvas.height) * 1.3;
        for (let i = 0; i < 16; i++) {
          const angle = (Math.PI * 2 * i) / 16 + Math.sin(performance.now() * 0.0008) * 0.7;
          const xEnd = cx - Math.cos(angle) * len;
          const yEnd = cy + Math.sin(angle) * len;
          const gradient = ctx.createLinearGradient(cx, cy, xEnd, yEnd);
          gradient.addColorStop(0, `hsla(${(hue + i * 22.5) % 360}, 100%, 85%, 0.9)`);
          gradient.addColorStop(1, `hsla(${(hue + i * 22.5) % 360}, 100%, 85%, 0.3)`);
          ctx.beginPath();
          ctx.moveTo(cx, cy);
          ctx.lineTo(xEnd, yEnd);
          ctx.strokeStyle = gradient;
          ctx.lineWidth = 5;
          ctx.shadowColor = `hsla(${(hue + i * 22.5) % 360}, 100%, 85%, 0.7)`;
          ctx.shadowBlur = 12;
          ctx.stroke();
          ctx.lineWidth = 1.5;
          ctx.strokeStyle = `hsla(${(hue + i * 22.5) % 360}, 100%, 95%, 0.6)`;
          ctx.stroke();
        }
      }
  
      function moveSpotlight() {
        const noise = 0.0004;
        spotlightX += Math.sin(performance.now() * noise) * 60;
        spotlightY += Math.cos(performance.now() * noise * 1.25) * 50;
        spotlight.style.transform = `translate(${spotlightX}px, ${spotlightY}px)`;
      }
  
      function updateStrobes() {
        strobes.forEach(strobe => {
          if (Math.random() < 0.12 && discoActive) {
            const duration = 15 + Math.random() * 25;
            strobe.style.opacity = '1';
            setTimeout(() => {
              if (discoActive) strobe.style.opacity = '0';
            }, duration);
          }
        });
      }
  
      function updateColorOverlay() {
        gradientHue = (gradientHue + 0.6) % 360;
        const hue2 = (gradientHue + 90) % 360;
        const hue3 = (gradientHue + 180) % 360;
        colorOverlay.style.background = `
          linear-gradient(135deg,
            hsla(${gradientHue}, 100%, 65%, 0.25),
            hsla(${hue2}, 100%, 60%, 0.18),
            hsla(${hue3}, 100%, 70%, 0.12)
          )
        `;
      }
  
      function danceElementsNow() {
        const time = performance.now();
        const beat = Math.sin(time * 0.005) * 0.6;
        const wiggle = Math.sin(time * 0.007) * 0.5;
  
        const homePage = document.querySelector('.home-page');
        if (homePage) {
          homePage.style.transform = `scale(${1 + 0.001 * beat}) rotate(${wiggle * 0.02}deg)`;
        }
  
        danceElements.forEach((el, i) => {
          const delay = i % 5 * 0.1;
          const offset = Math.sin(time * 0.006 + delay) * 1.5;
          const rotate = Math.sin(time * 0.008 + delay) * 0.2;
          el.style.transform = `translateY(${offset}px) rotate(${rotate}deg)`;
          if (!el.style.transition) {
            el.style.transition = 'transform 0.1s ease-out';
          }
        });
      }
  
      function stopDancing() {
        const homePage = document.querySelector('.home-page');
        if (homePage && homePage.style.transform) {
          homePage.style.removeProperty('transform');
        }
        danceElements.forEach(el => {
          if (el.style.transform) {
            el.style.removeProperty('transform');
          }
          if (el.style.transition) {
            el.style.removeProperty('transition');
          }
        });
      }
  
      function fadeIn() {
        globalOpacity += 0.03;
        if (globalOpacity >= 1) {
          globalOpacity = 1;
          colorOverlay.style.opacity = 0.25;
          spotlight.style.opacity = 0.5;
          animate();
          return;
        }
        container.style.opacity = globalOpacity;
        animationFrameId = requestAnimationFrame(fadeIn);
      }
  
      function animate() {
        if (!discoActive) return;
  
        animateLasers();
        moveSpotlight();
        updateStrobes();
        updateColorOverlay();
        danceElementsNow();
        animateTurnOffButton();
        if (bugDancing) danceBug();
  
        animationFrameId = requestAnimationFrame(animate);
      }
  
      container.style.opacity = 0;
      setTimeout(() => {
        fadeIn();
        startRandomExplosions();
        releaseAndAnimateBug();
      }, 300);
  
      return function destroyDisco() {
        if (!discoActive) return;
        discoActive = false;
  
        if (animationFrameId) {
          cancelAnimationFrame(animationFrameId);
          animationFrameId = null;
        }
        if (explosionInterval) {
          clearInterval(explosionInterval);
          explosionInterval = null;
        }
        if (uiToTopInterval) {
          clearInterval(uiToTopInterval);
          uiToTopInterval = null;
        }
  
        stopDancing();
  
        cleanupBugElement();
        resetOriginalBugIcon();
  
        if (cachedTurnOffBtn) {
          cachedTurnOffBtn.style.removeProperty('transform');
          cachedTurnOffBtn.style.removeProperty('transition');
        }
  
        if (cachedUiToTopBtn) {
          cachedUiToTopBtn.classList.remove('disco-active-force');
        }
  
        const iso = document.getElementById('disco-isolation-container');
        if (iso && iso.parentNode) {
          iso.parentNode.removeChild(iso);
        }
  
        if (container.parentNode) container.remove();
        if (colorOverlay.parentNode) colorOverlay.remove();
        if (spotlight.parentNode) spotlight.remove();
        strobes.forEach(el => el.remove());
  
        styleChangeCount = 0;
        startObserving();
      };
    }
  
    function cleanupBugElement() {
      const oldBug = document.getElementById('disco-bug-element');
      if (oldBug && oldBug.parentNode) {
        oldBug.parentNode.removeChild(oldBug);
      }
      bugElement = null;
      bugDancing = false;
    }
  
    function resetOriginalBugIcon() {
      if (originalBugIcon) {
        originalBugIcon.style.removeProperty('visibility');
        originalBugIcon = null;
      }
    }
  
    function startObserving() {
      const observer = new MutationObserver(debounce(function(mutations) {
        const button = document.querySelector(BUTTON_SELECTOR);
        if (!button) return;
        const now = performance.now();
        if (now - lastStyleChangeTime < DEBOUNCE_DELAY) return;
        lastStyleChangeTime = now;
        mutations.forEach(record => {
          if (record.type === 'attributes' && record.attributeName === 'style') {
            styleChangeCount++;
            if (styleChangeCount === 1) {
              window.discoCleanup = initDiscoEffect();
            } else if (styleChangeCount === 2) {
              if (window.discoCleanup) {
                window.discoCleanup();
                delete window.discoCleanup;
              }
            }
          }
        });
      }, DEBOUNCE_DELAY));
  
      const button = document.querySelector(BUTTON_SELECTOR);
      if (button) {
        observer.observe(button, { attributes: true, attributeFilter: ['style'] });
      } else {
        setTimeout(startObserving, 100);
      }
    }
  
    startObserving();
  
    window.addEventListener('blur', () => {
      if (discoActive && window.discoCleanup) {
        window.discoCleanup();
      }
    });
  
    if (window.discoCleanup) {
      window.discoCleanup();
    }
  });
  </script>
</head>
<body>

  <div class="home-page">
		<h1>Инженерия UX и производительности</h1>
		<p class="p-down">
		  Внимание пользователя как архитектура надёжности, автоматизации и доверия
		</p>
		<p style="text-align: center;">
		  Кто такой <strong>UX Engineer</strong>, 
		  что такое <strong>SRE подход</strong>, 
		  и почему <strong>Performance Engineering</strong> начинается с<strong> целостной архитектуры</strong>
		</p>
	
	<div class="main-poster-container">
	  <div class="poster-container">
	    <img class="poster-space"
	      src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/poster-space.png?raw=true"
	      alt="Инженерия UX и производительности">
	    <div class="glow-core"></div>
	    <div class="pulse-ring"></div>
	    <div class="spark-layer"></div>
	  </div>
	</div>

    <h3 class="poster-txt">«Мы не будем давать определение, кто такой Performance и UX Engineer со SRE подходом. Вместе посмотрим — как он работает, какие задачи решает и как это становится архитектурой. Вы увидите и поймёте — не словами, а системой.»</h3>

    <p>Вы почувствуете, как интерфейс перестаёт быть обёрткой и становится диалогом — через предзагрузку, память, реакцию, визуальные ритуалы. Как «живое присутствие» достигается не дизайном или текстом, а архитектурой внимания.</p>

    <p>Вы увидите, как система сама кэширует, адаптируется, восстанавливается — без дежурных смен и ручного вмешательства. Автоматизация устраняет рутину не добавлением инструментов, а устранением точек отказа. Что PWA может быть отдельным, изолированным слоем общей архитектуры. И как поддержка перестаёт быть «печатальщиками по шаблону» — и превращается в управление диалогом.</p>

    <p>Вы прочитаете внедрение Performance Engineering — не как теорию, а как систему. Где TTFB падает до 26 мс не после оптимизации, а как следствие многоуровневого кэширования и навигации с предзагрузкой на основе поведения. Как Lighthouse 100 становится побочным эффектом, а не целью. А производительность перестаёт быть задачей — и становится состоянием по умолчанию.</p>
	
    <p>Сейчас вы в деталях рассмотрите, как работает Performance и UX Engineer со SRE подходом, на примере реальной рабочей среды, запущенной в продакшн в 2019 году, при том что её движок, БД и инфраструктура были выпущены до 2017 года, а поддержка уже несколько лет как прекращена. Даже к 2026 году это остаётся распространённым видом унаследованных платформ. Согласно открытым источникам, взрывной рост электронной коммерции начался в период пандемии и активно продолжался вплоть до 2023 года. Текущая инфраструктура сформировалась именно в этот период — время массового роста e-commerce.</p>

    <p>Здесь не будет про React или Vue — потому что задача стояла решать на уровне платформы, а не через фреймворки. Не будет и про Prometheus с Grafana — потому что метрики необходимо было брать напрямую из <code>htop</code>, <code>curl</code>, <code>ab</code> и логов. Нет Kubernetes — потому что оркестрация в данном проекте была избыточна, а надёжность достигалась кодом. Не воспользуемся Loki — потому что есть среда, где достаточно <code style="color: #1f4778c9; text-shadow: 0px 0px 20px #ffffff, 0px 0px 20px #ffffff, 0px 0px 5px #cfe5fffc;">bash</code>, <code>grep</code>, <code>awk</code>. Не будем использовать и Ansible — потому что автоматизация эффективнее реализована встроенными средствами. Пропустим Figma — потому что визуал калибруется в DevTools: задача была — быстро, наглядно, "здесь и сейчас".</p>

    <p>Это ни в коем случае не отказ от нужных и эффективных технологий. Это выбор — исходя из масштаба, условий, рентабельности и реальной потребности конкретного проекта. Инструменты не определяют подход. Подход определяет инструменты.</p>

    <p>Суть инженера — не в том, какие технологии он использует. Суть — в том, чтобы система работала. Чтобы она была быстрой, надежной, живой — даже если её строят без популярных фреймворков, масштабных инфраструктур, внушительных бюджетов или идеальных условий.</p>

    <p>Дальше — условия рабочей среды, цели бизнеса и потребности пользователя — языком инженерии. Процесс реализации и внедрения семи проектов, каждый из которых — элемент фундамента в понимании того, что такое инженерия UX и производительности, когда она строится как единый, измеримый, самодостаточный механизм. А вместо определений — проблемы, решения и измеримый результат.</p>

    <p class="page-part"></p>

    <h2 class="h2">Продакшн: проблемы, решения и измеримый результат</h2>
		<p class="p-down mb">
		  Знакомимся с работой инженера - как взгляд на подход
		</p>
		<p style="text-align: center;">
		  Документ системы
		</p>
		
	<div class="main-system-container">
	  <div class="system-container">
	    <img class="system-space"
	      src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/system.png?raw=true"
	      alt="Документ системы">
	  </div>
	</div>

    <h2>1. Цель</h2>
    <p>Построить систему вокруг одной платформы, чтобы решить реальные операционные и пользовательские проблемы.</p>
    <ul>
      <li>Инженерия UX <strong>начинается с архитектуры</strong>, а не с интерфейса</li>
      <li>Вместо миграции - надежность через автоматизацию и оптимизацию</li>
      <li>Скорость, доверие и эффективность - <strong>результат устойчивой системы</strong></li>
    </ul>
    <p>Каждый проект - ответ на реальную проблему.</p>

    <div class="accent">
      <strong>Философия:</strong> решать системно.<br>
      Приоритет - архитектура, а не интерфейс.<br>
      Надёжность - через автоматизацию, а не ручной труд.<br>
      Живое присутствие - не имитация, а результат UX-инженерии.
    </div>

    <h2>2. Вид рабочей среды</h2>
    <p>CMS OpenCart 3:</p>
    <ul>
      <li>VPS SpaceWeb (CentOS 7, 6 CPU, 12 ГБ RAM, NVMe)</li>
      <li>Apache: OpenCart 3.0.2, PHP 7.1.33 + OPcache</li>
      <li>Nginx: phpMyAdmin, BrainyCP</li>
      <li>СУБД MySQL 5.6.40 (InnoDB), Dr.Web</li>
    </ul>
    <p>Распространённая архитектура унаследованной платформы - от малых до крупных e-commerce.</p>

    <h2>3. Общий контекст</h2>
    <p>Все проекты разрабатывались в условиях:</p>
    <ul>
      <li>Ограниченные ресурсы - реализация одним инженером</li>
      <li>Старая платформа - OpenCart 3</li>
      <li>Высокая нагрузка - 80% трафика - с мобильных, 70% - новые пользователи</li>
      <li>Ручные процессы - поддержка, навигация, обработка в доставку - всё, человеческий фактор</li>
    </ul>
    <p>Задача: реализовать SPA-подобный интерфейс на текущей платформе. Чтобы система работала быстро, стабильно и
      "ощущалась" живой.</p>

    <h2>4. Структура: от ядра к периферии</h2>
    <p>Проекты выстроены в последовательность, отражающую масштаб и глубину внедрения:</p>
    <ol>
      <li><strong>ML-Cache</strong> - фундамент производительности</li>
      <li><strong>ISPN</strong> - навигация на основе поведения</li>
      <li><strong>PWA-Layer</strong> - нативный UX на веб-платформе</li>
      <li><strong>OPS-UX</strong> - автоматизация операторов поддержки</li>
      <li><strong>DialogCore</strong> - диалоговая система с ИИ и 500+ узлами</li>
      <li><strong>AI-Оператор</strong> - живое UX-присутствие и доверие</li>
      <li><strong>UX-Vibe</strong> - визуал как притяжение и завершённость</li>
    </ol>

    <h3>4.1. Логика последовательности</h3>
    <p>Как лестница становления:</p>
    <ul>
      <li>Сначала задаём - <strong>скорость</strong> (ML-Cache, ISPN)</li>
      <li>Затем оттачиваем - <strong>удобство</strong> (PWA-Layer)</li>
      <li>Потом полируем - <strong>эффективность</strong> (OPS-UX, DialogCore)</li>
      <li>И наконец зарождается - <strong>доверие</strong> (AI-Оператор + UX-Vibe)</li>
    </ul>
    <div class="container">
      <div class="node node-legacy">Унаследованная модель</div>

      <div class="node node-cache">Четырёхуровневое кэширование</div>

      <div class="node node-navigation">Поведенческая навигация с предзагрузкой</div>

      <div class="node node-pwa">Мобильное веб-приложение + SW для браузеров</div>

      <div class="node node-extension">Браузерное расширение для операторов</div>

      <div class="node node-dialog">Диалоговое ядро с памятью и LLM</div>

      <div class="node node-ux">«Живой диалог» UX с платформой</div>

      <div class="node node-ui">Современный UI как отклик</div>

      <div class="node node-attention">Внимание пользователя</div>
    </div>
    <p>Каждый уровень опирается на предыдущий. Бессмысленно делать живой UX, если сайт медленный и "разобранный".
      Неэффективно автоматизировать поддержку, если операторы выгорают на рутине.</p>
    <p>С 2024 года каждый проект прошёл глубокое тестирование, калибровку и многократные итерации. Общие трудозатраты на
      реализацию и доработку всех семи проектов - более 4500 часов.</p>

    <h2>5. Краткое описание каждого проекта</h2>

    <h3 class="h3" style="border: none;">5.1. ML-Cache - Многоуровневая система кэширования</h3>
    <img class="image image-cache"
      src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/opcache.gif?raw=true"
      alt="Многоуровневая система кэширования" loading="lazy">
    <p class="p-cache"><strong>Проблема</strong>: TTFB достигал 1200 мс, сервер перегружался под нагрузкой, кэширование
      было фрагментарным.</p>
    <p><strong>Решение</strong>: Построена 4-уровневая система - OPcache, «Сторонний модуль OpenCart», Brotli, Service
      Worker.</p>
    <p style="margin-bottom: 50px;"><strong>Измеримый результат</strong>: TTFB снизился на 98%, нагрузка на CPU - на
      99.3%. Система стабильна с 2024 года.</p>

    <h3 class="h3">5.2. ISPN - Интеллектуальная система предиктивной навигации</h3>
    <img class="image image-navigation"
      src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/predictivepre.webp?raw=true"
      alt="Интеллектуальная система предиктивной навигации" loading="lazy">
    <p class="p-navigation"><strong>Проблема</strong>: Медленные переходы, «холодные» страницы, отсутствие анализа
      поведения пользователей.</p>
    <p><strong>Решение</strong>: Внедрён сбор цепочек переходов, анализ логов, автоматический прогрев и предзагрузка
      контента.</p>
    <p style="margin-bottom: 50px;"><strong>Измеримый результат</strong>: TTFB снижен до 26 мс, время перехода - на 90%,
      Lighthouse Performance = 100.</p>

    <h3 class="h3">5.3. PWA-Layer - Архитектура изолированного прикладного слоя</h3>
    <img class="image image-pwa"
      src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/pwa_sw.webp?raw=true"
      alt="Архитектура изолированного прикладного слоя" loading="lazy">
    <p class="p-pwa"><strong>Проблема</strong>: Отсутствие мобильного приложения, восприятие обычного сайта.</p>
    <p><strong>Решение</strong>: Реализовано разделение Service Worker на режимы PWA и браузер, внедрёна динамическая
      предзагрузка страниц, splash-экран, учёт установок.</p>
    <p style="margin-bottom: 50px;"><strong>Измеримый результат</strong>: FCP снизился на 71%, трафик - на 42%,
      Lighthouse = 100.</p>

    <h3 class="h3">5.4. OPS-UX - Операционная система поддержки</h3>
    <img class="image image-extension"
      src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/operators.gif?raw=true"
      alt="Операционная система поддержки" loading="lazy">
    <p class="p-extension"><strong>Проблема</strong>: Высокая нагрузка на операторов, рутина, частые ошибки,
      несогласованность ответов.</p>
    <p><strong>Решение</strong>: Написано браузерное расширение, с сохранением состояния и семантической вставкой
      шаблонов.</p>
    <p style="margin-bottom: 50px;"><strong>Измеримый результат</strong>: Время ответа сократилось с 45 сек до 8–12,
      ошибки устранены полностью, обучение сокращено с 5 дней до 1.</p>

    <h3 class="h3">5.5. DialogCore - Диалоговая система с ИИ</h3>
    <img class="image image-dialog"
      src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/chatbot.webp?raw=true"
      alt="Диалоговая система с ИИ" loading="lazy">
    <p class="p-dialog"><strong>Проблема</strong>: Все запросы проходили через операторов, отсутствовала база знаний,
      ответы были медленными.</p>
    <p><strong>Решение</strong>: Построено диалоговое ядро с 500+ узлами, семантической памятью, визуальным редактором и
      интеграцией ИИ.</p>
    <p style="margin-bottom: 50px;"><strong>Измеримый результат</strong>: 96% запросов обрабатываются без оператора,
      переводы сокращены до 1 в день, создано 200+ FAQ, база - 173 499 слов.</p>

    <h3 class="h3">5.6. AI-Оператор - живое UX-присутствие</h3>
    <p id="widget" alt="Виджет AI-Оператора"></p>
    <p class="p-ux"><strong>Проблема</strong>: Сомнения пользователей, пользователи не чувствовали «живого»
      взаимодействия с сайтом.</p>
    <p><strong>Решение</strong>: Реализована иллюзия присутствия - пульсирующая сфера, уведомления, игровые механики,
      «ритуалы» ожидания.</p>
    <p style="margin-bottom: 50px;"><strong>Измеримый результат</strong>: Конверсия выросла на 89%, время на сайте - на
      104%, отказы снизились на 47%, открытие чата - на 10 900%.</p>

    <h3 class="h3">5.7. UX-Vibe - визуал как притяжение</h3>
    <img class="image image-ui"
      src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/uxvibe.webp?raw=true"
      alt="Визуал как притяжение" loading="lazy">
    <p><strong>Проблема</strong>: Даже после всех улучшений интерфейс ощущался «безжизненным». Не было визуального
      выражения AI-Оператора.</p>
    <p><strong>Решение</strong>: Полностью переработана визуальная основа интерфейса через CSS и JS - глубина, свечение,
      анимации, форма, реакция на касание. Сформирован единый визуальный язык.</p>
    <p><strong>Измеримый результат</strong>: Появилось визуальное выражение AI-Оператора. Элементы интерфейса перестали
      быть функциями - стали точками диалога. AI-Оператор стал не только слышимым - он стал видимым.</p>

    <h3
      style="color: transparent; background-clip: text; background-image: linear-gradient(0deg, #ff95ca80 35%, #2c3e50eb 100%);">
      5.7.1. «Просто Button-Vibe»</h3>
    <div class="container-btn">
      <button type="button" class="ui-to-top"><i class="fa fa-chevron-up" aria-hidden="true"></i></button>

      <button type="button" class="ux-btn"><i class="fa fa-eye" aria-hidden="true"></i></button>

      <button type="button" class="turn-off-btn"><i class="fa fa-bug" aria-hidden="true"></i></button>
    </div>

    <h2>6. Общие принципы всех проектов</h2>
    <p>Во всех семи проектах соблюдены одни и те же инженерные и этические принципы:</p>
    <ul>
      <li><strong>Автономность</strong> - реализовано одним инженером, доступно всей команде</li>
      <li><strong>Надежность</strong> - минимизация или исключение человеческого фактора</li>
      <li><strong>Измеримость</strong> - каждый шаг проверяется через <code>ab</code>, <code>htop</code>,
        <code>curl</code>, логи</li>
      <li>Итеративность - адресные, продолжительные периоды калибровки перед вводом в продакшн</li>
      <li>Обратная совместимость - не требует переноса на другую платформу и глубоких изменений ядра</li>
      <li>Self-contained - нет внешних зависимостей, всё встроено в текущую платформу</li>
      <li>Этика UX - ускоряет, но при риске вреда включается защита: PerfGuard, исключения, адаптация под устройство
      </li>
      <li>GDPR-дружелюбие - нет сбора персональных данных</li>
    </ul>

    <div class="accent">
      <strong>Я не искал идеального решения.</strong><br>
      Я смотрел на систему целиком - убирал рутину и прорабатывал каждый этап, как часть единого механизма.<br>
      Это - то, что объединило все семь проектов.
    </div>

    <p
      style="text-align: center; font-style: italic; color: #b1b1b1; margin: 20px 0; filter: drop-shadow(0px 0px 1px #2c3e5075);">
      Они не про отдельные или тоточечные улучшения. Они о <strong>построении доверия, заложенного в целостности всей
        системы</strong>.
    </p>

    <h2>7. Метрики</h2>
    <p>Основные показатели из рабочей среды проектов:</p>
    <ul>
      <li>TTFB с 1200 мс до 26 мс, CPU на 99,3 %</li>
      <li>FCP до 0,5 с, время на 70-90 %</li>
      <li>Скоростное мобильное веб-приложение, Lighthouse Performance 100</li>
      <li>96% запросов от пользователей обрабатывается без участия операторов</li>
      <li>Время ответа операторов сократилось в 5 раз, обучение - до 1 дня</li>
      <li>Быстрая, визуально современная, “живая” веб-платформа для пользователей</li>
    </ul>

    <img src="https://github.com/kyrchenkov/performance-engineering-and-ux/blob/main/lighthouse.webp?raw=true"
      alt="legacy Performance 100" loading="lazy">

    <p style="margin-top: 50px;">Скриншот консоли Chrome DevTools: TTFB = 4.7 мс в PWA. Ответ из кэша Service
      Worker.<br>Устройство: ASUS Zenfone 9, соединение: Wi-Fi 2.4GHz.</p>
    <div class="container-js">
      <img src="https://github.com/kyrchenkov/performance-engineering-and-ux/blob/main/pwa_ttfb.png?raw=true"
        alt="legacy Performance 100" loading="lazy">
      <pre>
(() => {
  const nav = performance.getEntriesByType('navigation')[0];
  if (!nav) {
    console.warn('Нет данных о навигации. Обновите страницу.');
    return;
  }

  const ttfb = Math.max(0, nav.responseStart - nav.requestStart);
  const fromCache = nav.transferSize === 0;

  const scaleMax = 200;
  const barLength = 20;
  const filledLength = Math.min(barLength, Math.round((ttfb / scaleMax) * barLength));
  const emptyLength = barLength - filledLength;

  const ttfbColor = fromCache 
    ? '#43A047' 
    : ttfb < 50 ? '#43A047' 
    : ttfb < 200 ? '#FB8C00' 
    : '#E53935';

  const sourceLabel = fromCache ? 'Cached (SW)' : 'Network';
  const sourceColor = fromCache ? '#43A047' : '#1976D2';

  const bar = '█'.repeat(filledLength) + '░'.repeat(emptyLength);

  const labelLine = Array(barLength).fill(' ');
  labelLine[0] = '0';

  if (barLength > 11) {
    labelLine[9] = '1';
    labelLine[10] = '0';
    labelLine[11] = '0';
  }

  if (barLength > 18) {
    labelLine[17] = '2';
    labelLine[18] = '0';
    labelLine[19] = '0';
  }

  const labels = labelLine.join('');

  console.log('%cTTFB ANALYSIS', 'font-weight: bold; font-size: 14px; color: #ababab;');
  console.log(
    '%cTime to First Byte: %c' + ttfb.toFixed(1) + ' ms',
    'color: #ababab',
    `color: ${ttfbColor}; font-weight: bold`
  );
  console.log(
    '%cResponse source:    %c' + sourceLabel,
    'color: #ababab',
    `color: ${sourceColor}; font-weight: bold`
  );

  console.log('');
  console.log('%c' + bar, `color: ${ttfbColor}`);
  console.log('%c' + labels, 'color: #ababab; font-family: monospace');
  console.log('');

  console.log(
    '%cTTFB < 50ms: optimal | 50–200ms: acceptable | >200ms: needs improvement',
    'font-size: 11px; color: #ababab'
  );
})();
	  </pre>
    </div>

    <p><strong>Результат:</strong></p>
    <ul>
      <li>Высокопроизводительная и надежная веб-система, которая всегда в диалоге с пользователем</li>
      <li>Скоростное мобильное веб-приложение - красивая, комфортная для пользователей платформа на которой хочется
        проводить время</li>
      <li>Операторы как управляющие диалога, а не "печатальшики по шаблону"</li>
      <li>Чат-бот с семантической памятью и LLM - помощник 24/7 для пользователей и операторов, который всегда рядом и
        готов помочь</li>
      <li>Бизнес-ориентированный продукт с измеримым результатом: конверсия +89%, время на сайте +104%, отказы -47%</li>
    </ul>

    <h2>8. Заключение</h2>
    <p>Этим документом я хотел поделиться своим взглядом на подход к любому сервису: видеть в препятствиях точки роста,
      а в узких местах возможность создать комплексный, автоматизированный механизм.</p>
    <ul>
      <li>Один инженер <strong>может построить SPA-подобный опыт</strong> в условиях legacy, при этом сделав его
        доступным для всей команды</li>
      <li>Инженерия производительности <strong>начинается с целостной архитектуры</strong></li>
      <li>Скорость, эффективность и доверие - результат устойчивой системы</li>
    </ul>
    <p>Хочется выделить, что действительно считаю важным:</p>
    <ul>
      <li>Понимать платформу от <strong>OPcache до Service Worker</strong></li>
      <li>Строить <strong>системы с измеримой производительностью</strong></li>
      <li>Думать на <strong>перспективу устойчивой и современной платформы</strong></li>
      <li>Работать <strong>комплексно, внутри системы</strong></li>
    </ul>
    <p><strong style="padding-left: 42px;">— это и есть Инженерия производительности и UX со SRE подходом, где</strong></p>
    <blockquote>
      <p style="margin-right: 32px;">Пользователь не доверяет скорости.</p>
      <p>Он доверяет вниманию.</p>
      <p style="margin-left: 90px;">А внимание — в архитектуре.</p>
    </blockquote>

    <p class="page-part"></p>

    <button type="button" class="shock-btn"><i class="fa fa-superpowers" aria-hidden="true"></i></button>
  </div>

  <div class="project">
		<h1>От унаследованной модели до производительной веб-системы</h1>

    <h2>Семь взаимосвязанных проектов, где пользовательский опыт берёт начало в архитектуре</h2>

    <div class="container">
      <p><strong>Четырёхуровневое кэширование</strong><br>ML-Cache</p><span>|</span>
      <p><strong>Поведенческая навигация с предзагрузкой</strong><br>ISPN</p><span>|</span>
      <p><strong>Мобильное веб-приложение + SW для браузеров</strong><br>PWA-Layer</p><span>|</span>
      <p><strong>Браузерное расширение для операторов</strong><br>OPS-UX</p><span>|</span>
      <p><strong>Диалоговое ядро с памятью и LLM</strong><br>DialogCore</p><span>|</span>
      <p><strong>«Живой диалог» UX с платформой</strong><br>AI-Оператор</p><span>|</span>
      <p><strong>Современный UI как отклик</strong><br>UX-Vibe</p>
    </div>

    <p>Теперь, когда вы познакомились с тем, как производительность, надёжность и UX становятся вниманием, 
        а внимание лежит в основе архитектуры, — пришло время погрузиться в детали.</p>

    <p>Далее — семь проектов, каждый из которых создаёт уровень внимания пользователя.</p>
  </div>

  <div class="navigation">
  <h2>Навигация:</h2>
    <a class="nav-ml-сache" href="#href-ml-сache">ML-Cache</a>
    <a class="nav-ispn" href="#href-ispn">ISPN</a>
    <a class="nav-pwa-layer" href="#href-pwa-layer">PWA-Layer</a>
    <a class="nav-ops-ux" href="#href-ops-ux">OPS-UX</a>
    <a class="nav-dialogcore" href="#href-dialogcore">DialogCore</a>
    <a class="nav-ioperator" href="#href-ioperator">AI-Оператор</a>
    <a class="nav-ux-vibe" href="#href-ux-vibe">UX-Vibe</a>
	<p></p>
  </div>

    <p class="page-part"></p>

  <div class="docs ml-сache">
    <h1 id="href-ml-сache">ML-Cache — Многоуровневая система кэширования</h1>
    <p style="text-align: center; font-weight: 500; font-size: 18px; color: #2c3e50;">
      Архитектура производительности для OpenCart без миграции
    </p>

    <h2>1. Проблема</h2>
    <p>На e-commerce платформе на базе OpenCart:</p>
    <ul>
      <li><strong>Высокий TTFB</strong> на "холодных" страницах, особенно после простоя</li>
      <li><strong>Перегрузка сервера</strong> при пиковых нагрузках — рост CPU, памяти, дискового I/O</li>
      <li><strong>Разрозненная инфраструктура:</strong> Apache, PHP, MySQL — работают фрагментарно</li>
      <li><strong>Нет единой стратегии кэширования</strong> — все уровни используются изолированно</li>
      <li><strong>Нет устойчивости</strong> к нагрузочным тестам — падения при 100+ одновременных запросах</li>
    </ul>

    <div class="highlight">
      <strong>Задача:</strong> создать <strong>многоуровневую систему кэширования</strong> с нуля — без замены
      платформы.
    </div>

    <h2>2. Решение: ML-Cache (Multi-Level Caching System)</h2>
    <p><strong>ML-Cache</strong> — это система из 4 уровней, интегрированных в существующую инфраструктуру:</p>
    <ul>
      <li><strong>Уровень 1:</strong> OPcache — кэширование байткода PHP в RAM</li>
      <li><strong>Уровень 2:</strong> «Сторонний модуль OpenCart» + APCu — кэширование ответов на уровне приложения</li>
      <li><strong>Уровень 3:</strong> Brotli + GZIP + HTTP-заголовки — сжатие и клиентское кэширование</li>
      <li><strong>Уровень 4:</strong> Service Worker — оффлайн и кэширование на устройстве</li>
    </ul>

    <p>Система работает как единый механизм: каждый уровень дополняет следующий, обеспечивая <strong>стабильность,
        скорость и отказоустойчивость</strong>.</p>

    <h3>Ключевые принципы:</h3>
    <ul>
      <li><strong>Автономность:</strong> реализовано одним инженером</li>
      <li><strong>Обратная совместимость:</strong> не требует миграции или переписывания ядра</li>
      <li><strong>Self-contained:</strong> всё в рамках одной инфраструктуры</li>
      <li><strong>Измеримость:</strong> каждый шаг проверяется через <code>ab</code>, <code>htop</code>,
        <code>curl</code>, логи</li>
      <li><strong>Инженерный выбор:</strong> отказ от внешних зависимостей (Redis) в пользу эффективных решений</li>
    </ul>

    <h2 class="page-break-before">3. Архитектура ML-Cache</h2>
    <div class="mermaid">
      graph TD
      A[Браузер] --> B[Service Worker]
      B --> C[(DYNAMIC_PAGE_CACHE)]
      C --> A
      A --> D[Apache]
      D --> E[PHP-FPM]
      E --> F[OPcache]
      D --> G[OpenCart]
      G --> H[MySQL InnoDB]
      H --> I[InnoDB Buffer Pool]
      I --> F
      C --> D
    </div>

    <p><strong>Цепочка обработки:</strong> запрос идёт через Apache → PHP-FPM → OPcache → OpenCart → MySQL (InnoDB
      Buffer Pool). Ответ кэшируется на каждом уровне. Клиентское кэширование — через Service Worker.</p>

    <h2 class="page-break-before">4. Результат</h2>
    <table>
      <tr>
        <th>Метрика</th>
        <th>До</th>
        <th>После</th>
        <th>Улучшение</th>
      </tr>
      <tr>
        <td><strong>Нагрузка на CPU</strong></td>
        <td>80–100%</td>
        <td><strong>средне 0.73%</strong></td>
        <td>↓ 99.3%</td>
      </tr>
      <tr>
        <td><strong>Потребление RAM</strong></td>
        <td>~9 ГБ</td>
        <td><strong>6.3 ГБ (из 15 ГБ)</strong></td>
        <td>↑ Эффективное использование</td>
      </tr>
      <tr>
        <td><strong>ab -n 1000 -c 100</strong></td>
        <td>Частые таймауты</td>
        <td><strong>успешно завершён</strong></td>
        <td>↑ Устойчивость к нагрузке</td>
      </tr>
      <tr>
        <td><strong>MySQL в памяти</strong></td>
        <td>MyISAM, кэш не использовался</td>
        <td><strong>InnoDB Buffer Pool: 3.5 ГБ активно</strong></td>
        <td>↑ Скорость запросов</td>
      </tr>
      <tr>
        <td><strong>OCSP Stapling</strong></td>
        <td>Не настроено</td>
        <td><strong>включено, работает</strong></td>
        <td>↑ Безопасность + скорость SSL</td>
      </tr>
    </table>

    <div class="highlight">
      Улучшения достигнуты за счёт:
      <ul>
        <li><strong>OPcache:</strong> кэширование PHP-байткода в памяти</li>
        <li><strong>«Сторонний модуль OpenCart» + APCu:</strong> интеграция готового решения для кэширования HTML</li>
        <li><strong>Brotli:</strong> лучшее сжатие, чем GZIP</li>
        <li><strong>Service Worker:</strong> кэширование на клиенте</li>
        <li><strong>Прогрев кэша:</strong> автоматический прогрев через CRON</li>
        <li><strong>Redis не используется:</strong> признан избыточным после полного тестирования</li>
      </ul>
    </div>

    <h2>5. Ключевые компоненты</h2>

    <h3>5.1. OPcache: кэширование байткода PHP в RAM</h3>
    <p>OPcache хранит скомпилированный байт-код PHP в оперативной памяти, исключая повторную компиляцию при каждом
      запросе. Это позволяет ускорить исполнение скриптов в 3–5 раз.</p>
    <pre>
; /home/user/etc/php71w/php.d/10-opcache.ini
opcache.enable=1
opcache.memory_consumption=2048
opcache.interned_strings_buffer=32
opcache.max_accelerated_files=100000
opcache.revalidate_freq=0
opcache.validate_timestamps=0
opcache.fast_shutdown=1
opcache.huge_code_pages=1</pre>
    <p><strong>Результат:</strong> PHP-скрипты не компилируются при каждом запросе — исполнение в 3–5 раз быстрее.</p>

    <h3>5.2. «Сторонний модуль OpenCart» + APCu: интеграция готового решения</h3>
    <p>Для ускорения генерации HTML-страниц используется сторонний модуль <strong>«Сторонний модуль OpenCart»</strong>.
      Он не является частью ядра OpenCart, но был выбран после анализа альтернатив и интегрирован в инфраструктуру.</p>
    <ul>
      <li><strong>Выбран</strong> после оценки производительности и устойчивости</li>
      <li><strong>Интегрирован</strong> в существующую систему кэширования</li>
      <li><strong>Настроен</strong> для категорий, товаров, корзины и сессий</li>
      <li><strong>Связан с APCu</strong> как бэкендом хранения</li>
      <li><strong>Включён в цепочку ML-Cache</strong> как уровень приложения</li>
    </ul>

    <p>Модуль отвечает за:</p>
    <ul>
      <li>Кэширование HTML-ответов до запуска контроллеров</li>
      <li>Кэширование URL, изображений, сессий</li>
      <li>Умную инвалидацию при изменении данных</li>
    </ul>

    <p>Важно: «Сторонний модуль» <strong>не заменяет</strong> другие уровни кэширования, а дополняет их:</p>
    <ul>
      <li>OPcache — кэширует байт-код PHP</li>
      <li>«Сторонний модуль» — кэширует результат выполнения PHP</li>
      <li>Service Worker — кэширование на клиенте</li>
    </ul>

    <p>Таким образом, модуль стал частью единой системы кэширования, а не изолированным решением.</p>

    <h3>5.3. Brotli + GZIP + заголовки</h3>
    <p>Оптимизация трафика и управление кэшированием на уровне HTTP.</p>
    <pre>
# .htaccess
&lt;IfModule mod_brotli.c&gt;
  AddOutputFilterByType BROTLI_COMPRESS text/html text/css application/javascript
&lt;/IfModule&gt;

&lt;IfModule mod_expires.c&gt;
  ExpiresByType text/css A31536000
  ExpiresByType image/webp A2592000
  ExpiresByType application/json A86400
&lt;/IfModule&gt;

&lt;IfModule mod_headers.c&gt;
  Header set Cache-Control "public, max-age=31536000, immutable" env=immutable
  Header set Strict-Transport-Security "max-age=63072000; includeSubDomains; preload"
  Header set X-Frame-Options "SAMEORIGIN"
  Header set X-Content-Type-Options "nosniff"
  Header set X-XSS-Protection "1; mode=block"
&lt;/IfModule&gt;</pre>
    <p><strong>Результат:</strong> экономия трафика до 40%, защита от XSS, кликджекинга, HSTS для безопасности и
      скорости SSL.</p>

    <h3>5.4. Прогрев кэша через CRON</h3>
    <p>Автоматический прогрев "холодных" страниц до обращения пользователя.</p>
    <pre>
# crontab -l
0 */5 * * * /home/user/site/scripts/preload_pages.sh
30 */1 * * * /home/user/site/scripts/preload_pages_2.sh
*/15 * * * * /home/user/site/scripts/preload_pages_3.sh</pre>
    <p>Скрипты используют <code>curl</code> с разными User-Agent (ПК/мобильный), чтобы прогреть кэш для всех устройств.
    </p>

    <h3>5.5. Два Service Worker</h3>
    <p>Разделение стратегий кэширования:</p>
    <ul>
      <li><code>/service-worker.js</code> — для PWA: оффлайн, кэширование статики, предзагрузка</li>
      <li><code>/browser/service-worker.js</code> — для браузеров: только кэширование HTML/CSS/JS, без оффлайн</li>
    </ul>
    <p>Разделение позволяет избежать конфликтов и оптимизировать под среду исполнения.</p>

    <h3>5.6. InnoDB: оптимизация MySQL</h3>
    <p>Настройка InnoDB под 12 ГБ RAM и NVMe-диск.</p>
    <pre>
# /etc/my.cnf
innodb_buffer_pool_size = 8G
innodb_buffer_pool_instances = 6
innodb_flush_method = O_DIRECT
innodb_log_file_size = 2G
innodb_io_capacity = 2000
innodb_read_io_threads = 8
innodb_write_io_threads = 8

# Ускорение временных таблиц
tmp_table_size = 512M
max_heap_table_size = 512M

# Отключён Query Cache — неэффективен
query_cache_type = 0
query_cache_size = 0</pre>
    <p><strong>Решение:</strong> Query Cache отключён — он блокирует запись при высокой нагрузке. Вместо него —
      <strong>InnoDB Buffer Pool</strong> и кэширование на уровне приложения.</p>

    <h3>5.7. Redis: развертывание, тестирование и обоснованный отказ</h3>
    <p>На этапе проектирования архитектуры было рассмотрено несколько решений для кэширования, включая Redis.</p>

    <p>Был выполнен полный цикл:</p>
    <ul>
      <li><strong>Развёртывание:</strong> Redis запущен в Docker</li>
      <li><strong>Настройка:</strong> аутентификация, лимиты памяти, логирование</li>
      <li><strong>Интеграция:</strong> реализован класс <code>Cache\Redis</code> с поддержкой <code>pconnect</code>,
        таймаутов, сериализации</li>
      <li><strong>Тестирование:</strong> нагрузка через <code>ab</code>, прогрев кэша, анализ <code>INFO MEMORY</code>,
        <code>SLOWLOG</code></li>
    </ul>

    <p>Вывод:</p>
    <div class="highlight">
      <strong>Redis не был введён в эксплуатацию. После тестирования он признан избыточным: выигрыш в скорости чтения не
        перекрывается издержками на поддержку, сериализацию и управление соединениями.</strong>
    </div>

    <p>Вместо внешних решений был выбран путь полного контроля: OPcache и APCu — для кэширования на сервере, Brotli —
      для сжатия, «Сторонний модуль OpenCart» — как оптимизированное решение для HTML-кеширования, и <strong>два
        кастомных Service Worker</strong>, разработанные и внедрённые в рамках проекта.</p>

    <p>Такой подход обеспечил:</p>
    <ul>
      <li>Отказ от внешних зависимостей</li>
      <li>Полный контроль над цепочкой доставки контента</li>
      <li>Максимальную стабильность и предсказуемость</li>
    </ul>

    <p>Код интеграции с Redis был реализован полностью, но оставлен как R&D-решение — не введено в продакшен.</p>

    <pre>
&lt;?php
namespace Cache;

class Redis {
    private $expire;
    private $cache;

    public function __construct($expire) {
        $this->expire = $expire;
        $this->cache = new \Redis();

        if (!$this->cache->pconnect(CACHE_HOSTNAME, CACHE_PORT)) {
            error_log("Не удалось подключиться к Redis");
            return false;
        }

        if (defined('CACHE_PASSWORD') &amp;&amp; !empty(CACHE_PASSWORD)) {
            if (!$this->cache->auth(CACHE_PASSWORD)) {
                error_log("Неверный пароль Redis");
                return false;
            }
        }

        if (defined('\Redis::OPT_CONNECT_TIMEOUT')) {
            $this->cache->setOption(\Redis::OPT_CONNECT_TIMEOUT, 1);
        } else {
            $this->cache->setTimeout(1, 0);
        }

        if (defined('\Redis::OPT_READ_TIMEOUT')) {
            $this->cache->setOption(\Redis::OPT_READ_TIMEOUT, 1);
        } else {
            $this->cache->setTimeout(1, 1);
        }

        if (defined('\Redis::OPT_WRITE_TIMEOUT')) {
            $this->cache->setOption(\Redis::OPT_WRITE_TIMEOUT, 1);
        } else {
            $this->cache->setTimeout(1, 2);
        }
    }

    public function get($key) {
        $fullKey = CACHE_PREFIX . $key;
        $data = $this->cache->get($fullKey);
        return $data ? unserialize($data) : null;
    }

    public function set($key, $value) {
        $fullKey = CACHE_PREFIX . $key;
        $encodedValue = serialize($value);
        return $this->cache->setex($fullKey, $this->expire, $encodedValue);
    }

    public function delete($key) {
        $fullKey = CACHE_PREFIX . $key;
        return $this->cache->delete($fullKey);
    }

    public function clear() {
        $keys = $this->cache->keys(CACHE_PREFIX . '*');
        if (!empty($keys)) {
            return $this->cache->delete($keys);
        }
        return true;
    }
}</pre>

    <h3>5.8. Brotli vs GZIP: баланс между сжатием и скоростью</h3>
    <p>Изначально была настроена полная обработка ресурсов через Brotli — как наиболее эффективный алгоритм сжатия.
      Однако при диагностике выяснилось, что часть файлов (в первую очередь HTML-ответы) продолжает отдаваться в формате
      GZIP.</p>

    <p>Причиной оказался модуль ускорения (<strong>«Сторонний модуль OpenCart»</strong>), участвующий в цепочке
      обработки:</p>
    <ul>
      <li>Он кэширует HTML-страницы <strong>уже в сжатом виде (GZIP)</strong></li>
      <li>При отдаче — сервер не пересжимает, а сразу отправляет готовый ответ</li>
      <li>Это исключает накладные расходы на сжатие "на лету"</li>
    </ul>

    <p>Для проверки гипотезы была проведена консультация с разработчиками модуля. Их позиция:</p>
    <div class="highlight">
      <strong>"«Сторонний модуль» сжимает HTML через GZIP. Лучше не менять — выигрыш от Brotli по объёму не перекроет
        проигрыш во времени на сжатие. Главное — скорость отдачи кэшированного контента, а не степень сжатия."</strong>
    </div>

    <p>Это логично: при высокой нагрузке <strong>экономия CPU важнее экономии трафика на 10–15%</strong>. Переупаковка
      HTML через Brotli при каждом запросе убила бы выигрыш от кэширования.</p>

    <p>Было принято решение:</p>
    <ul>
      <li><strong>Brotli</strong> — для статики: JS, CSS, JSON (через Apache + .htaccess)</li>
      <li><strong>GZIP</strong> — для HTML (через «Сторонний модуль», с предварительным кэшированием)</li>
    </ul>

    <p><strong>Результат:</strong> оптимальный баланс между эффективностью сжатия и минимальной нагрузкой на CPU.
      Архитектура работает быстро — без "лишних" операций.</p>

    <h2>6. Файловая структура</h2>
    <pre>
/home/user/site/
├── scripts/
│   ├── preload_pages.sh
│   ├── preload_pages_2.sh
│   ├── preload_pages_3.sh
│   └── txt/
│       ├── pages_to_warm.txt
│       ├── pages_to_warm_2.txt
│       └── pages_to_warm_3.txt
│
├── .htaccess                     # Безопасность, Brotli, заголовки
├── service-worker.js             # Для PWA
└── browser/
    └── service-worker.js         # Для браузеров

/etc/
├── my.cnf                        # InnoDB, buffer pool, логи
├── php71w/
│   └── php.d/10-opcache.ini      # Настройка OPcache
└── httpd/conf/                   # Apache: OpenCart, SEO, сжатие, заголовки
  </pre>

    <h2>7. Преимущества ML-Cache</h2>
    <ul>
      <li><strong>Автономность:</strong> реализовано одним инженером</li>
      <li><strong>Стабильность:</strong> система выдерживает нагрузку до 100+ одновременных запросов</li>
      <li><strong>Масштабируемость:</strong> можно адаптировать под любую CMS</li>
      <li><strong>Экономия:</strong> отказ от Redis, Varnish, CDN — эффективнее использовать имеющееся</li>
      <li><strong>Измеримость:</strong> каждый узел настроен, проверен, протестирован</li>
      <li><strong>Безопасность:</strong> строгие правила доступа к /src, /conf, /lib, /plugins</li>
    </ul>

    <h2>8. Инструменты контроля и мониторинга</h2>
    <p>Для проверки работоспособности использовались:</p>
    <pre>
# Нагрузочное тестирование
ab -n 1000 -c 100 https://example.com/

# Проверка конфигов
apachectl configtest

# Мониторинг
htop
free -h
mpstat 1 5
df -h

# Проверка заголовков
curl -I https://example.com/</pre>

    <h2>9. Заключение</h2>
    <p><strong>ML-Cache</strong> — <strong>системный подход</strong> к производительности. Каждый уровень — от OPcache
      до Service Worker — работает как часть единого механизма.</p>
    <p>Результат — не "быстрее", а <strong>предсказуемо, стабильно, безопасно быстрее</strong>. Система устойчива к
      нагрузке, эффективно использует ресурсы и не требует внешних зависимостей.</p>
    <p>Этот проект — <strong>технический фундамент</strong> для последующих оптимизаций, включая системы предиктивной
      навигации и интеллектуального кэширования.</p>

    <div class="transcript">
      © 2025 - ML-Cache | Четырёхуровневое кэширование - от OPcache до двух независимых Service Worker
    </div>

  </div>
  
    <p class="page-part"></p>

  <div class="docs ispn">
    <h1 id="href-ispn">ISPN — Интеллектуальная система предиктивной навигации</h1>
    <p style="text-align: center; font-weight: 500; font-size: 18px; color: #2c3e50;">
      Снижение TTFB до 26 мс на OpenCart 3
    </p>

    <h2>1. Проблема</h2>
    <p>На сайте e-commerce на базе OpenCart 3:</p>
    <ul>
      <li><strong>Высокий TTFB</strong> (до 1200 мс) на "холодных" страницах</li>
      <li><strong>Замедленные переходы</strong> между категориями</li>
      <li><strong>Пользователи уходят</strong> до полной загрузки</li>
      <li><strong>Нет клиентского кэширования</strong>, только серверное</li>
      <li><strong>Нет анализа поведения</strong> для ускорения навигации</li>
    </ul>

    <div class="highlight">
      <strong>Задача:</strong> Ускорить навигацию <strong>не заменяя платформу</strong>.
    </div>

    <h2>2. Решение: ISPN (Intelligent System of Predictive Navigation)</h2>
    <p><strong>ISPN</strong> — это система, которая:</p>
    <ul>
      <li>Анализирует поведение пользователей</li>
      <li>Выявляет популярные цепочки переходов</li>
      <li>Автоматически <strong>прогревает кэш</strong> и <strong>предзагружает контент</strong></li>
      <li>Работает <strong>на существующей инфраструктуре</strong></li>
      <li>Не нарушает UX: работает фоном, только когда можно</li>
    </ul>

    <h3>Ключевые принципы:</h3>
    <ul>
      <li>Работает без переписывания ядра</li>
      <li>Обратная совместимость</li>
      <li>Ненавязчивость: уважает сеть, батарею, слабые устройства</li>
      <li>Самообучение: чем больше пользователей — тем умнее предзагрузка</li>
    </ul>

    <h2 class="page-break-before">3. Архитектура ISPN</h2>
    <div class="mermaid">
      graph TD
      A[Пользователь] --> B(tracker.js.track)
      B --> C[localStorage.nav_stats]
      B --> D[sendBeacon→ log-stats.php]
      D --> E[user-paths.log]
      E --> F[analyze-paths.php]
      F --> G[top-paths.json]
      G --> H[warm-cache.php] --> I[Серверный кэш]
      G --> J[prefetch.js.pref] --> K[ajaxCache +
      <link prefetch>]
      G --> L[service-worker.js] --> M[DYNAMIC_PAGE_CACHE]
      G --> Y[browser-service-worker.js] --> M[DYNAMIC_PAGE_CACHE]
      J --> N[Быстрая навигация]
      K --> N
      M --> N
    </div>

    <p><strong>Замкнутый цикл:</strong> Сбор → Анализ → Прогрев → Предзагрузка → Ускорение</p>

    <h2 class="page-break-before">4. Результат</h2>
    <table>
      <tr>
        <th>Метрика</th>
        <th>До</th>
        <th>После</th>
        <th>Улучшение</th>
      </tr>
      <tr>
        <td><strong>TTFB</strong></td>
        <td>1200 мс</td>
        <td><strong>26 мс</strong></td>
        <td>↓ <strong>98%</strong></td>
      </tr>
      <tr>
        <td><strong>Время перехода</strong></td>
        <td>800–1200 мс</td>
        <td><strong>100–200 мс</strong></td>
        <td>↓ <strong>70–90%</strong></td>
      </tr>
      <tr>
        <td><strong>Нагрузка на поддержку</strong></td>
        <td>Высокая</td>
        <td>↓ 70%</td>
        <td>Пользователи довольны</td>
      </tr>
      <tr>
        <td><strong>Стабильность FPS</strong></td>
        <td>Частые проседания</td>
        <td>95% сессий — 55–60 FPS</td>
        <td>Улучшение плавности</td>
      </tr>
    </table>

    <div class="highlight">
      <strong>TTFB 26 мс</strong> достигнуто за счёт:
      <ul>
        <li><strong>Сервер:</strong> OPcache, InnoDB Buffer Pool, «Сторонний модуль OpenCart»</li>
        <li><strong>Сжатие:</strong> Brotli (основное) + GZIP fallback</li>
        <li><strong>Клиент:</strong> ajaxCache, &lt;link rel="prefetch"&gt;, Service Worker</li>
      </ul>
    </div>

    <h3>4.1. Производительность по Lighthouse (после внедрения ISPN)</h3>
    <p><strong>ISPN делает "холодные" страницы "горячими".</strong> В Lighthouse измеряется уже <em>клиентская
        производительность после предзагрузки</em>, что объясняет высокие оценки.</p>
    <table>
      <tr>
        <th>Метрика</th>
        <th>Результат</th>
        <th>Оценка</th>
      </tr>
      <tr>
        <td><strong>First Contentful Paint (FCP)</strong></td>
        <td>0.5 с</td>
        <td>100</td>
      </tr>
      <tr>
        <td><strong>Largest Contentful Paint (LCP)</strong></td>
        <td>0.6 с</td>
        <td>100</td>
      </tr>
      <tr>
        <td><strong>Total Blocking Time (TBT)</strong></td>
        <td>0 мс</td>
        <td>100</td>
      </tr>
      <tr>
        <td><strong>Cumulative Layout Shift (CLS)</strong></td>
        <td>0.001</td>
        <td>100</td>
      </tr>
      <tr>
        <td><strong>Speed Index (SI)</strong></td>
        <td>0.7 с</td>
        <td>100</td>
      </tr>
    </table>
    <div class="highlight">
      Оценка производительности в Lighthouse: <strong>100</strong> (локальный замер, эмуляция 4G, десктоп)<br>
      Все метрики — в зелёной зоне. Система стабильна даже на слабых соединениях.
    </div>

    <h2>5. Ключевые компоненты</h2>

    <h3>5.1. Сбор поведения: <code>tracker.js.track</code></h3>
    <p>Отслеживает <code>pushState</code>, <code>popstate</code>, формирует цепочки и отправляет через
      <code>sendBeacon</code>.</p>
    <pre>
// Пример цепочки
localStorage.nav_stats = {
  "/ → /category": 5,
  "/category → /products": 3
};</pre>

    <h3>5.2. Приём данных: <code>log-stats.php</code></h3>
    <p>Принимает JSON, проверяет безопасность, пишет в <code>user-paths.log</code> (вне <code>public_html</code>).</p>
    <pre>
[2025-04-05 12:30:15] abc123 | / → /category → /products | https://example-store.com/</pre>

    <h3>5.3. Анализ: <code>analyze-paths.php</code></h3>
    <p>Читает последние 500 строк, формирует <code>top-paths.json</code>.</p>
    <pre>
{
  "urls": ["/category", "/products", "/for-women", "/lifestyle", "/wellness"]
}</pre>
    <p><strong>Запуск:</strong> Каждые 30 минут через CRON</p>

    <h3>5.4. Прогрев кэша: <code>warm-cache.php</code></h3>
    <p>Отправляет GET-запросы для прогрева.</p>
    <pre>
# CRON: каждые 15 минут
*/15 * * * * php /cron/warm-cache.php</pre>

    <h3>5.5. Предзагрузка: <code>prefetch.js.pref</code></h3>
    <p>Определяет, что предзагрузить:</p>
    <ul>
      <li><strong>Приоритет A:</strong> по контексту</li>
      <li><strong>Приоритет Б:</strong> по поведению</li>
    </ul>
    <p>Использует <code>ajaxCache</code>, <code>&lt;link rel="prefetch"&gt;</code>, <code>fetch()</code>.</p>

    <h3>5.6. Service Worker</h3>
    <p>Две версии:</p>
    <ul>
      <li><code>service-worker.js</code> — для PWA</li>
      <li><code>browser-service-worker.js</code> — для браузера</li>
    </ul>
    <p>Функции: кэширование, оффлайн, предзагрузка.</p>

    <h3>5.7. Исключения: <code>excluded-routes.js.route</code></h3>
    <p>Исключает <code>/cart</code>, <code>/checkout</code>, <code>/api</code>, статику.</p>
    <div class="highlight">Не тратит трафик, не мешает на ключевых этапах</div>

    <h2>6. Предзагрузка: два приоритета</h2>

    <h3>Приоритет A — контекстная предзагрузка</h3>
    <p>Срабатывает при нахождении на страницах с <strong>предсказуемой навигацией</strong>:</p>
    <ul>
      <li><strong>Главная</strong> → <code>/category</code>, <code>/for-women</code>, <code>/products</code>,
        <code>/specials</code>, <code>/latest</code></li>
      <li><strong>Каталог</strong> → топ-подкатегории: <code>/products</code>, <code>/wellness</code>,
        <code>/lifestyle</code></li>
      <li><strong>Пагинация каталога</strong> → следующая страница: <code>/category?page=2</code> →
        <code>/category?page=3</code></li>
      <li><strong>Пагинация поиска</strong> → следующая страница выдачи: <code>/search?query=...&page=1</code> →
        <code>&page=2</code></li>
    </ul>
    <p>Порядок предзагрузки определяется на основе <strong>поведенческой модели</strong>, чтобы более вероятные пути
      загружались первыми.</p>

    <h3>Приоритет Б — поведенческая адаптация</h3>
    <p>Система использует два источника:</p>
    <ul>
      <li><code>localStorage.nav_stats</code> — локальная история переходов</li>
      <li><code>top-paths.json</code> — глобальный топ с сервера</li>
    </ul>
    <p>Алгоритм:</p>
    <ol>
      <li>При первом визите — используется <code>top-paths.json</code> (тренды)</li>
      <li>При повторных — <code>nav_stats</code> + <code>top-paths.json</code> (персонализация)</li>
      <li>Если пользователь часто переходит с <code>/category</code> на <code>/wellness</code> — этот путь становится
        приоритетом</li>
    </ol>
    <p>Пример локальной статистики:</p>
    <pre>
localStorage.nav_stats = {
  "/ → /category": 7,
  "/category → /wellness": 4,
  "/wellness → /products": 3
};</pre>
    <div class="highlight">Философия ISPN: <strong>Предзагрузка должна работать, когда устройство "отдыхает"</strong>
    </div>

    <h2 class="page-break-before">7. Файловая структура</h2>
    <pre>
/home/user/project/
├── storage/
│   └── logs/
│       └── user-paths.log               # Лог поведения (вне public_html)
│
├── site-root/
│   ├── log-stats.php                    # Приём данных
│   │
│   ├── cron/
│   │   ├── analyze-paths.php            # Анализ логов → top-paths.json
│   │   ├── warm-cache.php               # Прогрев серверного кэша
│   │   └── top-paths.json               # Топ URL для предзагрузки
│   │
│   ├── catalog/view/theme/js/
│   │   ├── tracker.js.track             # Сбор цепочек переходов
│   │   ├── prefetch.js.pref             # Движок предзагрузки
│   │   └── excluded-routes.js.route     # Список исключённых URL
│   │
│   ├── service-worker.js                # Для PWA (оффлайн, предзагрузка)
│   └── browser/
│       └── browser-service-worker.js    # Для браузера ПК и смартфоны (предзагрузка)
</pre>

    <h2>8. Преимущества ISPN</h2>
    <ul>
      <li><strong>Работает на OpenCart 3</strong> — не требует миграции</li>
      <li><strong>Автономность</strong> — один человек, без команды</li>
      <li><strong>Self-contained</strong> — всё в одном проекте</li>
      <li><strong>GDPR-дружелюбна</strong> — нет персональных данных</li>
      <li><strong>Масштабируема</strong> — можно адаптировать под любую CMS</li>
      <li><strong>Этичная</strong> — работает фоном, не мешает UX</li>
    </ul>

    <h2>9. Возможные эволюции</h2>
    <ul>
      <li><strong>Персонализация:</strong> отдельный <code>top-paths.json</code> для сегментов (мужчины, женщины)</li>
      <li><strong>Временные тренды:</strong> анализ последних 24 часов</li>
      <li><strong>A/B тестирование:</strong> сравнение конверсии с/без предзагрузки</li>
      <li><strong>Визуализация:</strong> админка с тепловой картой переходов</li>
    </ul>

    <h2>10. PerfGuard — защита производительности</h2>
    <p><strong>ISPN ускоряет, но не должен мешать.</strong> Поэтому введён механизм защиты слабых устройств и
      критических сценариев.</p>

    <h3>10.1. Исключения для критических страниц</h3>
    <p>На ключевых этапах предзагрузка отключается:</p>
    <ul>
      <li><code>/cart</code>, <code>/checkout</code> — чтобы не мешать процессу оформления</li>
      <li><strong>Первичный поиск</strong> (<code>/search?query=...</code>) — чтобы не тратить трафик при вводе и
        фильтрации</li>
      <li>Страницы API, админки и статические ресурсы</li>
    </ul>
    <p>Предзагрузка <strong>включается</strong> при листании (например, <code>/search?query=...&page=2</code>).</p>
    <pre>
const p = location.pathname;
const q = location.search;
if (
  p.includes('/cart') ||
  p.includes('/checkout') ||
  (p.includes('/search') &amp;&amp; !q.includes('page=')) ||
  q.includes('route=product/search') ||
  q.includes('route=product/category') ||
  q.includes('route=journal3/filter') ||
  q.includes('route=journal3/blog')
) {
  window.__perfGuard_criticalAnimation = true;
}</pre>
    <div class="highlight">На этих страницах ISPN не предзагружает, чтобы не мешать пользователю</div>

    <h3>10.2. Мониторинг и защита производительности</h3>
    <p>PerfGuard отслеживает:</p>
    <ul>
      <li><strong>FPS</strong> через <code>requestAnimationFrame</code></li>
      <li><strong>Батарею</strong> через <code>navigator.getBattery</code></li>
      <li><strong>Слабое соединение</strong> и мобильные устройства</li>
    </ul>
    <p>При обнаружении проблем — автоматически очищает:</p>
    <ul>
      <li><code>setInterval</code>, <code>setTimeout</code></li>
      <li><code>MutationObserver</code></li>
      <li><code>WebSocket</code></li>
      <li><code>requestAnimationFrame</code></li>
    </ul>
    <p>Срабатывает при:</p>
    <ul>
      <li>FPS &lt; 40 на слабом устройстве</li>
      <li>Батарея &lt; 15% и не на зарядке</li>
      <li>Вкладка свёрнута</li>
    </ul>
    <div class="highlight">
      <strong>Результат:</strong>
      <ul style="margin: 8px 0; padding: 15px 15px 30px 15px; line-height: 1.5;">
        <li>Снижение аварийных падений JS на <strong>85%</strong> на слабых устройствах</li>
        <li>Стабильный FPS: <strong>55–60</strong> в <strong>95%</strong> сессий</li>
        <li>Проседания FPS ниже 40 кадров — <strong>реже 1 раза в 200 сессий</strong></li>
      </ul>
      <p><strong>Философия ISPN:</strong> Предзагрузка работает, когда устройство "отдыхает", и <strong>никогда не
          мешает</strong> основной задаче — навигации.</p>
    </div>

    <h2 class="page-break-before">11. Заключение</h2>
    <p><strong>ISPN</strong> — это <strong>самообучающаяся система</strong>, которая ускоряет, учится и уважает
      пользователя.</p>
    <p>Система прошла полный цикл: от гипотезы → реализации → измерения → оптимизации. Результат — не "просто быстрее",
      а <strong>предсказуемо, стабильно, этично быстрее</strong>.</p>
    <p><strong>Устойчивая система ускорения</strong>, встроенная в инфраструктуру и рост пользовательской базы.</p>

    <div class="transcript">
      © 2025 - ISPN | Навигация с предзагрузкой на основе реального поведения пользователей
    </div>

  </div>
  
    <p class="page-part"></p>

  <div class="docs pwa-layer">
    <h1 id="href-pwa-layer">PWA-Layer — Архитектура изолированного прикладного слоя</h1>
    <p style="text-align: center; font-weight: 500; font-size: 18px; color: #2c3e50;">
      Создание нативно воспринимаемого интерфейса на базе веб-платформы
    </p>

    <h2>1. Контекст</h2>
    <p>80,11% трафика приходит со смартфонов. Пользователи ждут:</p>
    <ul>
      <li>Мгновенных переходов</li>
      <li>Отсутствия мельтешения</li>
      <li>Ощущения приложения, а не сайта</li>
    </ul>

    <p>Текущий опыт:</p>
    <ul>
      <li>Замедленная навигация</li>
      <li>Нет оффлайна</li>
      <li>Невозможно установить</li>
      <li>Нет splash-экрана</li>
    </ul>

    <div class="highlight">
      Цель — построить изолированный слой, который будет восприниматься как нативное приложение, с полным контролем над
      UX, кэшированием и идентификацией.
    </div>

    <h2>2. Архитектура: PWA-Layer как система управления контекстом</h2>
    <p>Один Service Worker не может обслуживать два разных режима:</p>
    <ul>
      <li><strong>PWA</strong> — полноэкранный режим, оффлайн, splash, установка</li>
      <li><strong>Браузер</strong> — фоновое кэширование без оффлайна</li>
    </ul>

    <p>Решение — два независимых, но синхронизированных SW:</p>
    <table>
      <tr>
        <th>Функция</th>
        <th>PWA-SW</th>
        <th>Browser-SW</th>
      </tr>
      <tr>
        <td><strong>Файл</strong></td>
        <td><code>service-worker.js</code></td>
        <td><code>browser-service-worker.js</code></td>
      </tr>
      <tr>
        <td><strong>Кэш статики</strong></td>
        <td><code>app-pwa-cache-v1</code></td>
        <td><code>app-browser-cache-v1</code></td>
      </tr>
      <tr>
        <td><strong>Динамический кэш</strong></td>
        <td><code>dynamic-pages-v1</code></td>
        <td><code>dynamic-pages-v1-browser</code></td>
      </tr>
      <tr>
        <td><strong>Оффлайн</strong></td>
        <td>Да</td>
        <td>Нет</td>
      </tr>
      <tr>
        <td><strong>Splash</strong></td>
        <td>Да</td>
        <td>Нет</td>
      </tr>
      <tr>
        <td><strong>Активация</strong></td>
        <td>Да (POST <code>/pwa/activated</code>)</td>
        <td>Нет</td>
      </tr>
    </table>

    <h3>2.1. Регистрация по контексту</h3>
    <pre>
const isPWA = matchMedia('(display-mode: standalone)').matches || 
              (typeof navigator.standalone !== 'undefined' && navigator.standalone);

if (isPWA) {
  navigator.serviceWorker.register('/service-worker.js');
} else {
  navigator.serviceWorker.register('/browser/browser-service-worker.js');
}</pre>

    <h2 class="page-break-before">3. DYNAMIC_PAGE_CACHE — движок мгновенных переходов</h2>
    <p>Ключевой механизм производительности. Обеспечивает мгновенные переходы за счёт предзагрузки HTML-страниц.</p>

    <h3>3.1. Источник данных</h3>
    <p>ISPN (<code>tracker.js.track</code>) отслеживает цепочки переходов и отправляет их в SW через
      <code>postMessage</code>.</p>

    <h3>3.2. Предзагрузка</h3>
    <pre>
self.addEventListener('message', (event) => {
  if (event.data.type === 'nav_stats') {
    const urls = Object.keys(event.data.data)
      .map(chain => chain.split(' → ').pop())
      .filter(u => u && u !== '/' && !isExcluded(self.location.origin + u));

    urls.forEach(url => precacheDynamicPage(self.location.origin + url));
  }
});</pre>

    <h3>3.3. Реализация</h3>
    <pre>
let dynamicFetchController = null;

// Список URL, исключённых из кэширования
const EXCLUDED_PATTERNS = [
  'cart', 'checkout', 'account', 'payment', 'api', 'feed', 'authorization',
  'login', 'logout', 'register', 'confirm', 'download'
];

function isExcluded(url) {
  return EXCLUDED_PATTERNS.some(pattern => url.includes(pattern));
}

async function precacheDynamicPage(url) {
  if (isExcluded(url)) return;

  try {
    if (dynamicFetchController) dynamicFetchController.abort();
    dynamicFetchController = new AbortController();

    const response = await fetch(url, { signal: dynamicFetchController.signal });
    if (!response.ok) return;

    const html = await response.text();
    const pageCache = await caches.open(DYNAMIC_PAGE_CACHE);
    await pageCache.put(url, new Response(html, { headers: response.headers }));
  } catch (e) {
    if (e.name !== 'AbortError') {
      console.warn('Ошибка при предкэшировании:', url, e);
    }
  } finally {
    dynamicFetchController = null;
  }
}</pre>

    <h3>3.4. Очистка устаревших страниц</h3>
    <pre>
async function cleanupPageCache(maxCount = 20) {
  const cache = await caches.open(DYNAMIC_PAGE_CACHE);
  const keys = await cache.keys();
  if (keys.length <= maxCount) return;
  const toDelete = keys.slice(0, keys.length - maxCount);
  await Promise.all(toDelete.map(request => cache.delete(request)));
}</pre>

    <h3>3.5. Использование в fetch</h3>
    <pre>
self.addEventListener('fetch', (event) => {
  const url = new URL(event.request.url);

  if (url.pathname.endsWith('.php') || url.pathname === '/') {
    event.respondWith(
      caches.match(event.request).then(async (cached) => {
        if (cached) return cached;

        const dynamicCache = await caches.match(event.request, { cacheName: DYNAMIC_PAGE_CACHE });
        if (dynamicCache) return dynamicCache;

        return fetch(event.request).catch(() => caches.match('/offline.html'));
      })
    );
  }
});</pre>

    <h2 class="page-break-before">4. Service Worker: техническое ядро</h2>

    <h3>4.1. install — отказоустойчивое кэширование</h3>
    <pre>
self.addEventListener('install', (event) => {
  event.waitUntil(
    (async () => {
      const cache = await caches.open(CACHE_NAME);
      await Promise.allSettled(
        staticResources.map(async (url) => {
          const controller = new AbortController();
          setTimeout(() => controller.abort(), 8000);
          try {
            const response = await fetch(url, { signal: controller.signal });
            if (response.ok) {
              await cache.put(url, response.clone());
            }
          } catch (e) {
            console.warn(`Не удалось кэшировать ${url}`, e);
          }
        })
      );
    })()
  );
});</pre>

    <h3>4.2. activate — контроль версий и активация</h3>
    <pre>
self.addEventListener('activate', (event) => {
  event.waitUntil(
    Promise.all([
      self.skipWaiting(),
      self.clients.claim(),
      cleanupCache(CACHE_NAME, MAX_STATIC_SIZE),
      cleanupPageCache(20),
      fetch('/index.php?route=pwa/activated', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ activated: true, sw_version: CACHE_NAME }),
        credentials: 'same-origin'
      }).catch(() => {})
    ])
  );
});</pre>

    <h3>4.3. Стратегии обработки запросов</h3>
    <p>Service Worker применяет разные стратегии в зависимости от типа ресурса:</p>
    <table>
      <tr>
        <th>Тип</th>
        <th>Стратегия</th>
        <th>Особенности</th>
      </tr>
      <tr>
        <td><strong>HTML</strong></td>
        <td>Cache-first + фоновое обновление</td>
        <td>Приоритет — кэш, обновление в фоне, fallback на оффлайн</td>
      </tr>
      <tr>
        <td><strong>Статика (JS, CSS, шрифты)</strong></td>
        <td>Precache при установке</td>
        <td>Всегда из кэша, обновляется при новой версии SW</td>
      </tr>
      <tr>
        <td><strong>Изображения</strong></td>
        <td>Cache-first, fallback к логотипу</td>
        <td>Если нет в кэше — подставляется заглушка</td>
      </tr>
      <tr>
        <td><strong>API, внешние сервисы</strong></td>
        <td>Сеть → fallback к кэшу (если есть)</td>
        <td>Аналитика — не кэшируются жёстко</td>
      </tr>
    </table>

    <h2 class="page-break-before">5. Жизненный цикл PWA-пользователя</h2>
    <div class="mermaid" style="break-inside: avoid; page-break-inside: avoid; page-break-after: avoid;">
      sequenceDiagram
      participant П as Пользователь
      participant B as Браузер
      participant SW as SW (PWA)
      participant S as Сервер

      П->>B: Переход на сайт
      B->>B: isPWA = matchMedia(standalone)
      alt Если PWA
      B->>SW: register('/service-worker.js')
      SW->>SW: install → precache static
      SW->>SW: activate → cleanup + POST /pwa/activated
      S->>S: session[is_pwa_user] = true
      end
      П->>П: Навигация
      B->>SW: postMessage(nav_stats)
      SW->>SW: precacheDynamicPage()
      SW->>П: fetch → кэш или сеть
    </div>

    <h2 class="page-break-before">6. Метрики эффективности</h2>
    <table>
      <tr>
        <th>Метрика</th>
        <th>До</th>
        <th>После</th>
        <th>Улучшение</th>
      </tr>
      <tr>
        <td><strong>FCP</strong></td>
        <td>2.1 с</td>
        <td>0.6 с</td>
        <td>71%</td>
      </tr>
      <tr>
        <td><strong>LCP</strong></td>
        <td>3.4 с</td>
        <td>0.7 с</td>
        <td>79%</td>
      </tr>
      <tr>
        <td><strong>Установки</strong></td>
        <td>0</td>
        <td>45+</td>
        <td>Новый канал дистрибуции</td>
      </tr>
      <tr>
        <td><strong>Трафик (сессия)</strong></td>
        <td>2.4 МБ</td>
        <td>1.4 МБ</td>
        <td>↓ 42%</td>
      </tr>
    </table>

    <div class="highlight">
      Оценка Lighthouse: <strong>100</strong> (по производительности)<br>
      Все метрики — в зелёной зоне. Система стабильна, быстра, оптимизирована.
    </div>

    <h2>7. Системная интеграция</h2>

    <h3>7.1. Splash-экран на iOS</h3>
    <p>Автоматическая подборка под устройство:</p>
    <pre>
// Из header.twig
const startupImages = [
  { href: '/image/app_icon/startup-640x1136.webp', media: '(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)' },
  { href: '/image/app_icon/startup-750x1334.webp', media: '(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)' },
  { href: '/image/app_icon/startup-1170x2532.webp', media: '(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3)' }
];
startupImages.forEach(img => {
  const link = document.createElement('link');
  link.rel = 'apple-touch-startup-image';
  link.href = img.href;
  if (img.media) link.media = img.media;
  document.head.appendChild(link);
});</pre>

    <h3>7.2. Установка и учёт</h3>
    <p>При установке:</p>
    <ul>
      <li>Генерируется <code>device_id</code> в <code>localStorage</code></li>
      <li>Отправляется POST на <code>/log-install.php</code></li>
      <li>Создаётся уникальная запись в <code>pwa_install</code></li>
    </ul>

    <h3>7.2.1. Генерация device_id</h3>
    <p>Уникальный идентификатор для отслеживания установки:</p>
    <pre>
function getDeviceId() {
  let id = localStorage.getItem('pwa_device_id');
  if (!id) {
    id = 'pwa_' + Math.random().toString(36).substr(2, 9);
    localStorage.setItem('pwa_device_id', id);
  }
  return id;
}</pre>

    <h3>7.3. Структура таблицы</h3>
    <pre>
install_id      | int(11)       | PK, AUTO_INCREMENT
date_installed  | datetime      | NOT NULL
device_id       | varchar(50)   | UNIQUE INDEX</pre>
    <p>Гарантирует: одна установка — одна запись.</p>

    <h3>7.4. Файловая структура</h3>
    <p>Решение полностью интегрировано в проект без внешних зависимостей. Все компоненты находятся в локальной файловой
      системе:</p>
    <pre>
/project-root/
├── manifest.json
├── offline.html
├── service-worker.js
├── browser/
│   └── browser-service-worker.js
├── image/app_icon/
│   ├── web_app_logo_*.png
│   ├── ios-icon-*.png
│   ├── startup-*.webp
│   └── custom_splash.webp
├── log-install.php
├── pwa/
│   └── controller/
│       ├── activated.php
│       └── installation_count.php
└── theme/
    └── common/
        ├── header.twig
        └── footer.twig</pre>
    <p>Такая организация обеспечивает:</p>
    <ul>
      <li><strong>Полный контроль</strong> над всеми ресурсами</li>
      <li><strong>Отказоустойчивость</strong> — нет зависимости от CDN или внешних сервисов</li>
      <li><strong>Простоту развёртывания</strong> — всё в одном репозитории</li>
      <li><strong>Чёткое разделение ответственности</strong> — ресурсы, логика, шаблоны</li>
    </ul>

    <h3>7.5. Модалка установки</h3>
    <p>Показывается через 90 секунд после входа, если браузер поддерживает PWA:</p>
    <pre>
let deferredPrompt;

window.addEventListener('beforeinstallprompt', (e) => {
  e.preventDefault();
  deferredPrompt = e;
  
  setTimeout(() => {
    if (deferredPrompt && !localStorage.getItem('install_shown')) {
      showInstallModal();
      localStorage.setItem('install_shown', '1');
    }
  }, 90000);
});

function showInstallModal() {
  const modal = document.createElement('div');
  modal.innerHTML = \`
    &lt;div class="pwa-modal"&gt;
      &lt;h3&gt;Добавить на экран?&lt;/h3&gt;
      &lt;p&gt;Установите приложение для быстрого доступа и оффлайна.&lt;/p&gt;
      &lt;button onclick="installApp()"&gt;Установить&lt;/button&gt;
      &lt;button onclick="closeModal()"&gt;Отмена&lt;/button&gt;
    &lt;/div&gt;\`;
  document.body.appendChild(modal);
}

async function installApp() {
  if (deferredPrompt) {
    deferredPrompt.prompt();
    const { outcome } = await deferredPrompt.userChoice;
    if (outcome === 'accepted') {
      fetch('/log-install.php', {
        method: 'POST',
        body: JSON.stringify({ device_id: getDeviceId() })
      });
    }
    deferredPrompt = null;
  }
  closeModal();
}
  </pre>

    <h2 class="page-break-before">8. Возможные эволюции</h2>
    <p>PWA-Layer — не конечная точка, а основа для дальнейшего роста:</p>
    <ul>
      <li><strong>Персонализированный splash:</strong> разный экран в зависимости от сегмента (женщины/мужчины)</li>
      <li><strong>Динамическая иконка:</strong> изменение иконки на главном экране (например, значок уведомления)</li>
      <li><strong>Push-уведомления:</strong> интеграция с сервером для персонализированных напоминаний</li>
      <li><strong>PWA-only A/B тесты:</strong> сравнение поведения PWA vs браузер</li>
      <li><strong>Оффлайн-корзина:</strong> сохранение товаров без сети</li>
    </ul>

    <h2>9. Заключение</h2>
    <p><strong>PWA-Layer</strong> представляет собой инженерную систему, построенную на разделении контекстов и
      предиктивном управлении ресурсами. Архитектура обеспечивает:</p>
    <ul>
      <li><strong>Изоляцию режимов</strong> — два независимых Service Worker для PWA и браузерного контекста</li>
      <li><strong>Мгновенные переходы</strong> — за счёт динамического кэширования HTML-страниц на основе поведенческих
        цепочек</li>
      <li><strong>Предиктивное ускорение</strong> — интеграция с ISPN позволяет предзагружать контент до навигации</li>
      <li><strong>Полный контроль над жизненным циклом</strong> — от установки и активации до идентификации и аналитики
      </li>
    </ul>
    <p>Решение не ограничивается реализацией PWA — оно трансформирует веб-интерфейс в автономный, измеримый,
      продуктивный канал, воспринимаемый как нативное приложение.</p>

    <p><strong>PWA-Layer</strong> и <strong>ISPN</strong> формируют единый канал:
      первый обеспечивает <strong>нативный UX</strong>, второй — <strong>предиктивную скорость</strong>.
      Вместе они создают веб-интерфейс, который пользователь не отличает от нативного приложения.</p>

    <p>Это — <strong>архитектура, построенная на веб-стандартах, но работающая как нативное приложение</strong>.</p>

    <p>Результат — не скорость.
      Результат — <strong>доверие</strong>.
      Пользователь не чувствует разницы.
      Значит, система работает.</p>

    <div class="transcript">
      © 2025 - PWA-Layer | Мобильное веб-приложение как слой архитектуры с независимым Service Worker для браузеров
    </div>

  </div>
  
    <p class="page-part"></p>

  <div class="docs ops-ux">
    <h1 id="href-ops-ux">OPS-UX: Операционная система поддержки для e-commerce</h1>
    <p style="text-align: center; font-weight: 500; font-size: 18px; color: #2c3e50;">
      Реактивная система автоматизации для операторов на базе Chrome Extensions
    </p>

    <h2>1. Проблема</h2>
    <p>Операторы службы поддержки в e-commerce работают в условиях:</p>
    <ul>
      <li><strong>Высокая когнитивная нагрузка</strong> — переключение между системами, контекстами</li>
      <li><strong>Рутина</strong> — 70% ответов — шаблонные</li>
      <li><strong>Ошибки ввода</strong> — особенно в телефонах, адресах, инструкциях</li>
      <li><strong>Потеря контекста</strong> — данные не сохраняются между сессиями</li>
      <li><strong>Несогласованность</strong> — разные формулировки, разный стиль общения</li>
      <li><strong>Низкая скорость</strong> — ручной ввод замедляет работу</li>
    </ul>

    <div class="highlight">
      <strong>Задача:</strong> Создать <strong>операционную среду</strong> для оператора — где контекст, точность и
      скорость — встроены по умолчанию, а не требуют усилий.
    </div>

    <h2>2. Решение: OPS-UX — не расширение, а система</h2>
    <p><strong>OPS-UX</strong>:</p>
    <ul>
      <li><strong>Реактивное ядро</strong> — обновление шаблонов в реальном времени</li>
      <li><strong>Сохраняемое состояние</strong> — данные не теряются при перезагрузке</li>
      <li><strong>Семантическая вставка</strong> — с учётом контекста получателя</li>
      <li><strong>Форматирование</strong> — телефон, адрес, инструкции</li>
      <li><strong>Наблюдение за DOM</strong> — автоматическое скрытие мусора в интерфейсе</li>
      <li><strong>Работает в любом браузере</strong> — без прав администратора, без сервера</li>
    </ul>

    <h3>Философия OPS-UX:</h3>
    <div class="highlight">
      <strong>Оператор — не печатающий, а управляющий.</strong><br>
      Его задача — принимать решения, а не копировать текст.
    </div>

    <h2>3. Архитектура: Manifest V3 + реактивность</h2>
    <p>Система построена на базе Chrome Extensions (Manifest V3):</p>
    <table>
      <tr>
        <th>Компонент</th>
        <th>Файл</th>
        <th>Назначение</th>
      </tr>
      <tr>
        <td><strong>Ядро</strong></td>
        <td><code>manifest.json</code></td>
        <td>Разрешения, хосты, контент-скрипты</td>
      </tr>
      <tr>
        <td><strong>Модуль доставки</strong></td>
        <td><code>content_delivery.js</code></td>
        <td>Шаблоны на страницах доставки</td>
      </tr>
      <tr>
        <td><strong>Модуль поддержки</strong></td>
        <td><code>content_support.js</code></td>
        <td>Комментарии и шаблоны для операторов чата</td>
      </tr>
    </table>

    <pre>
// manifest.json
{
  "manifest_version": 3,
  "name": "OPS-UX",
  "version": "2.1",
  "permissions": ["activeTab", "scripting"],
  "host_permissions": [
    "https://*/delivery-console/*",
    "https://*/support-panel/*"
  ],
  "content_scripts": [
    {
      "matches": ["https://*/delivery-console/*"],
      "js": ["content_delivery.js"]
    },
    {
      "matches": ["https://*/support-panel/*"],
      "js": ["content_support.js"]
    }
  ]
}
  </pre>

    <h2>4. Ядро системы: реактивность и состояние</h2>
    <p>Все данные хранятся в памяти и синхронизируются с интерфейсом.</p>

    <h3>4.1. Хранение состояния</h3>
    <pre>
let street = '';
let apartment = '';
let phone = '';
let noBuilding = false;
let leaveAtDoor = false;
let callUponArrival = false;
  </pre>

    <h3>4.2. Реактивное обновление шаблонов</h3>
    <pre>
const updateTextElements = () => {
  if (textElements.length >= 3) {
    const streetWithBuilding = noBuilding ? `${street} [без корпуса]` : street;
    const additionalInstructions = [];
    if (leaveAtDoor) additionalInstructions.push("Оставить у двери");
    if (callUponArrival) additionalInstructions.push("Позвонить по приезду");

    const messages = [
      "Ваш заказ готовят к доставке по адресу",
      "Ваш заказ собран и ожидает назначения курьера, с доставкой по адресу",
      "В ближайшее время удобно будет принять курьера по адресу"
    ];

    for (let i = 0; i < 3; i++) {
      let fullMessage = messages[i] + ':';
      if (streetWithBuilding) fullMessage += `\nУлица: ${streetWithBuilding}`;
      if (apartment) fullMessage += `\nКвартира: ${apartment}`;
      if (phone) fullMessage += `\nТелефон получателя: ${formatPhone(phone)}`;
      if (additionalInstructions.length > 0) fullMessage += `\nДополнительно: ${additionalInstructions.join(', ')}`;
      textElements[i].textContent = fullMessage;
    }
  }
};
  </pre>
    <p>Каждое изменение поля — вызывает <code>updateTextElements()</code>. Это <strong>реактивность уровня SPA</strong>.
    </p>

    <h3>4.3. Сохранение между сессиями</h3>
    <pre>
const saveData = () => {
  localStorage.setItem('opsux_deliveryData', JSON.stringify({
    street, apartment, phone, noBuilding, leaveAtDoor, callUponArrival
  }));
};

const loadData = () => {
  const saved = localStorage.getItem('opsux_deliveryData');
  if (saved) {
    const data = JSON.parse(saved);
    street = data.street || '';
    apartment = data.apartment || '';
    phone = data.phone || '';
    noBuilding = data.noBuilding || false;
    leaveAtDoor = data.leaveAtDoor || false;
    callUponArrival = data.callUponArrival || false;
    updateTextElements();
  }
};

// Вызывается при запуске
loadData();

// Срабатывает при каждом вводе
streetInput.addEventListener('input', () => { 
  street = e.target.value; 
  updateTextElements(); 
  saveData(); 
});
  </pre>
    <div class="highlight">
      Оператор может закрыть браузер — и вернуться к тому же контексту. <strong>Система не теряет состояние</strong>.
    </div>

    <h2>5. UX-движок: форматирование и вставка</h2>

    <h3>5.1. Форматирование телефона</h3>
    <pre>
const formatPhone = (rawPhone) => {
  let cleaned = rawPhone.replace(/\D/g, '');
  if (cleaned.startsWith('8')) cleaned = '7' + cleaned.slice(1);
  if (cleaned.startsWith('7')) cleaned = cleaned.slice(1);
  if (cleaned.length === 10) {
    return cleaned.replace(/(\d{3})(\d{3})(\d{2})(\d{2})/, '$1 $2 $3 $4');
  }
  return rawPhone;
};
  </pre>

    <h3>5.2. Автоматическая вставка в чат</h3>
    <pre>
item.addEventListener('click', () => {
  const textarea = document.querySelector('[data-qa-id="main-input-element"]');
  if (textarea) {
    textarea.value += item.textContent + '\n';
    textarea.dispatchEvent(new Event('input', { bubbles: true }));
  }
});
  </pre>

    <h3>5.3. Перехват мусора в интерфейсе</h3>
    <pre>
const observer = new MutationObserver((mutations) => {
  mutations.forEach(mutation => {
    Array.from(mutation.addedNodes).forEach(node => {
      if (node.nodeType === Node.ELEMENT_NODE) {
        const role = node.getAttribute('data-role');
        const uiHint = node.getAttribute('data-ui');
        if (role === 'system-banner' || uiHint === 'admonition') {
          node.remove();
        }
      }
    });
  });
});
observer.observe(document.body, { childList: true, subtree: true });
</pre>
    <p>Система следит за DOM и чистит интерфейс — даже при динамической загрузке.</p>

    <h2>6. Результат</h2>
    <table>
      <tr>
        <th>Метрика</th>
        <th>До</th>
        <th>После</th>
        <th>Улучшение</th>
      </tr>
      <tr>
        <td><strong>Среднее время ответа</strong></td>
        <td>45 сек</td>
        <td><strong>8–12 сек</strong></td>
        <td>↓ 75–85%</td>
      </tr>
      <tr>
        <td><strong>Ошибки в телефонах</strong></td>
        <td>Регулярно</td>
        <td><strong>0</strong></td>
        <td>↓ 100%</td>
      </tr>
      <tr>
        <td><strong>Количество жалоб курьеров</strong></td>
        <td>Ежедневно</td>
        <td><strong>Раз в неделю</strong></td>
        <td>↓ 90%</td>
      </tr>
      <tr>
        <td><strong>Обучение нового оператора</strong></td>
        <td>3–5 дней</td>
        <td><strong>1 день</strong></td>
        <td>↓ 70%</td>
      </tr>
      <tr>
        <td><strong>Консистентность ответов</strong></td>
        <td>Низкая</td>
        <td><strong>Высокая</strong></td>
        <td>↑ 100%</td>
      </tr>
    </table>

    <div class="highlight">
      Операторы: «Теперь я чувствую, что управляю процессом. Раньше — просто печатал».
    </div>

    <h2>7. В продакшене: устойчивость и принятие</h2>
    <p>Система <strong>OPS-UX</strong> успешно работает в продакшене с <strong>октября 2024 года</strong>.</p>

    <h3>Ключевые показатели стабильности:</h3>
    <table>
      <tr>
        <th>Показатель</th>
        <th>Результат</th>
      </tr>
      <tr>
        <td><strong>Количество пользователей</strong></td>
        <td>12 операторов</td>
      </tr>
      <tr>
        <td><strong>Среднее время работы в день</strong></td>
        <td>6–8 часов</td>
      </tr>
      <tr>
        <td><strong>Жалобы на работу расширения</strong></td>
        <td><strong>0</strong></td>
      </tr>
      <tr>
        <td><strong>Сбои, падения, ошибки</strong></td>
        <td><strong>0</strong></td>
      </tr>
      <tr>
        <td><strong>Обратная связь от команды</strong></td>
        <td>«Теперь без него — как без рук»</td>
      </tr>
    </table>

    <div class="highlight">
      <strong>OPS-UX — часть операционной модели.</strong><br>
      Он интегрирован в ежедневную работу, не требует поддержки и <strong>самостоятельно повышает качество
        сервиса</strong>.
    </div>

    <h3>Что обеспечивает стабильность:</h3>
    <ul>
      <li><strong>Изоляция</strong> — не вмешивается в логику CRM</li>
      <li><strong>Нет внешних зависимостей</strong> — работает без CDN, без API</li>
      <li><strong>Наблюдение за DOM</strong> — адаптируется к изменениям интерфейса</li>
      <li><strong>Сохранение состояния</strong> — не теряет данные при перезагрузке</li>
      <li><strong>Лёгкий вес</strong> — 43 КБ, нет нагрузки на память</li>
    </ul>

    <h2>8. Преимущества OPS-UX</h2>
    <ul>
      <li><strong>Работает в браузере</strong> — без установки ПО</li>
      <li><strong>Не требует прав</strong> — просто установил — работает</li>
      <li><strong>Реактивность</strong> — как Vue/React, но без фреймворков</li>
      <li><strong>Сохранение состояния</strong> — как полноценное приложение</li>
      <li><strong>Наблюдение за DOM</strong> — чистота интерфейса</li>
      <li><strong>GDPR-дружелюбно</strong> — нет сбора данных</li>
      <li><strong>Масштабируемо</strong> — можно адаптировать под любую CRM</li>
    </ul>

    <h2>9. Возможные эволюции</h2>
    <ul>
      <li><strong>Тёмная тема</strong> — для ночных смен</li>
      <li><strong>Горячие клавиши</strong> — Ctrl+1 → вставить шаблон 1</li>
      <li><strong>Синхронизация</strong> — через Google Sync</li>
      <li><strong>Админка</strong> — визуальный редактор шаблонов</li>
      <li><strong>Экспорт в .txt</strong> — для обучения команды</li>
      <li><strong>Интеграция с CRM</strong> — автоматический импорт данных заказа</li>
    </ul>

    <h2>10. Заключение</h2>
    <p><strong>OPS-UX</strong> — это <strong>операционная система поддержки</strong>, которая:</p>
    <ul>
      <li><strong>Работает в продакшене</strong> — без сбоев, без жалоб</li>
      <li>Стала <strong>неотъемлемой частью workflow</strong> команды</li>
      <li>Повысила <strong>точность, скорость и удовлетворённость</strong> операторов</li>
    </ul>
    <p>Это пример <strong>UX-инжиниринга, который не просто улучшает интерфейс — он меняет культуру работы</strong>.</p>

    <div class="transcript">
      © 2025 - OPS-UX | Браузерное расширение для операторов - автоматизация и уважение
    </div>

  </div>
  
    <p class="page-part"></p>

  <div class="docs dialogcore">
    <h1 id="href-dialogcore">DialogCore: диалоговая инфраструктура с ИИ и 500+ узлами</h1>
    <p style="text-align: center; font-weight: 500; font-size: 18px; color: #2c3e50;">
      Масштабируемое ядро поддержки с семантической памятью, ручной калибровкой и ИИ
    </p>

    <h2>1. Проблема</h2>
    <p>Раньше все диалоги в поддержке обрабатывались <strong>только операторами</strong>. Это приводило к:</p>
    <ul>
      <li><strong>Высокая нагрузка</strong> — 100% запросов на людях</li>
      <li><strong>Ошибки из-за усталости</strong> — особенно в шаблонных вопросах</li>
      <li><strong>Долгий ответ</strong> — 4–7 минут на простой вопрос</li>
      <li><strong>Нет единой базы знаний</strong> — разные ответы у разных операторов</li>
      <li><strong>Отсутствие фильтрации</strong> — любой запрос → оператор</li>
      <li><strong>Нулевая автоматизация</strong> — даже "где мой заказ?" требует вмешательства</li>
    </ul>

    <div class="highlight">
      <strong>Задача:</strong> Построить <strong>диалоговое ядро</strong>, которое берёт на себя 90% запросов, работает
      в 4 каналах и <strong>умеет возвращать пользователя в поток</strong>.
    </div>

    <h2>2. Решение: DialogCore — не "чат-бот", а система</h2>
    <p><strong>DialogCore</strong> — это <strong>диалоговая машина</strong>, которая:</p>
    <ul>
      <li><strong>Работает в 4 каналах</strong> — Telegram, сайт, мессенджер, соцсеть</li>
      <li><strong>Имеет 500+ узлов</strong> — тесно связанных, с возвратом в поток</li>
      <li><strong>Интегрирует LLM и правила</strong> — для гибкой обработки</li>
      <li><strong>Фильтрует переводы</strong> — до оператора доходят только сложные кейсы</li>
      <li><strong>Управляет временем</strong> — не обещает невозможного в нерабочее время</li>
      <li><strong>Разработка заняла полгода, за которым последовал такой же срок — ручная калибровка под реальные
          сценарии</strong></li>
    </ul>

    <h3>Философия DialogCore:</h3>
    <div class="highlight">
      <strong>Диалог — это граф, а не линия.</strong><br>
      Пользователь может "прыгать" — система <strong>возвращает его в нужный узел</strong>.
    </div>

    <h2>3. Архитектура: многоуровневая обработка</h2>
    <p>Система построена на трёх слоях:</p>
    <table>
      <tr>
        <th>Слой</th>
        <th>Технология</th>
        <th>Процент запросов</th>
      </tr>
      <tr>
        <td><strong>1. Правила + FAQ</strong></td>
        <td>500+ узлов, условия, маршрутизация</td>
        <td>70%</td>
      </tr>
      <tr>
        <td><strong>2. ИИ-обработка</strong></td>
        <td>Интеграция с ИИ-движком</td>
        <td>20%</td>
      </tr>
      <tr>
        <td><strong>3. Оператор</strong></td>
        <td>Перевод с контекстом</td>
        <td>≤10%</td>
      </tr>
    </table>

    <h3>3.1. Каналы интеграции</h3>
    <ul>
      <li>Telegram</li>
      <li>Онлайн-чат на сайте (CMS)</li>
      <li>Мессенджер поддержки</li>
      <li>Социальная сеть (ВКонтакте)</li>
    </ul>
    <p>Все каналы ведут в <strong>единое ядро диалогов</strong>.</p>

    <h3>3.2. Управление через визуальный редактор</h3>
    <p>Логика обновляется через <strong>Graph — визуальный конструктор смартапов</strong>.<br>
      Изменения применяются без перезапуска. Правки можно вносить — без кода.</p>

    <h3>3.3. Долгосрочная калибровка</h3>
    <p>Система прошла <strong>полугодовой цикл разработки</strong>, за которым последовал <strong>шестимесячный период
        итеративной калибровки</strong> — чтобы быть максимально релевантной пользователям. Уточнения, fallback, фразы —
      всё оттачивалось под реальные диалоги.</p>

    <h2>4. Архитектура диалога: фрагмент графа</h2>
    <p>Ниже — <strong>фрагмент реального диалогового графа</strong> из продакшен-среды.</p>
    <div class="two-column">
      <div class="column">
        <div class="code-block">
          <pre><code style="display: block; overflow: clip; box-shadow: inset -10px -10px 15px rgba(0, 0, 0, 0.11), inset 10px 10px 15px rgba(70, 70, 70, 0.12), inset 5px 5px 20px 0px #58d17136; text-shadow: 0px 0px 1px #868686; filter: drop-shadow(0px 0px 5px #ffffff7d);"><span style="color: #0b0b0b69; text-shadow: 0px 0px 2px #0000002e;">graph TD</span>
    A["начало"] --> B["newNode_***: Приветствие + согласие"]
    B --> C["newNode_***: Здравствуйте!"]
    C --> D["newNode_***: Чем могу помочь?"]
    D --> E["newNode_**: Главное меню"]

    %% === Главное меню (центральный хаб) ===
    E --> F["📍 Режим работы и контакты → /newNode_**"]
    E --> G["⚡ Действия с заказом → /newNode_***"]
    E --> H["📦 Информация о доставке → /newNode_***"]
    E --> J["⭐ Отзывы → /newNode_***"]
    E --> K["📝 Обратная связь → /newNode_***"]
    E --> L["🛠️ Техподдержка → /newNode_***"]
    E --> M["🚪 Выход → /newNode_**"]

    %% --- 1. Режим работы и контакты ---
    F --> F1["newNode_**: Информация о работе, адрес, email, соцсети"]
    F1 --> E

    %% --- 2. Действия с заказом ---
    G --> G0["Проверка времени: $conditions.checkIfFitsSchedule"]
    G0 -->|Да| G1["newNode_***: Получить заказ"]
    G0 -->|Нет| G2["newNode_***: Операторы не доступны"]

    G1 --> G3["newNode_**: Номер заказа или телефона?"]
    G3 --> G4["/newNode_**: Выбор способа"]
    G4 --> G5["/newNode_**: По телефону"]
    G4 --> G6["/newNode_**: По номеру заказа"]
    G5 --> G7["newNode_***: Одну минуту..."]
    G6 --> G7
    G7 --> G8["newNode_***: Передача оператору"]
    G8 --> G9["newNode_***: TransferToOperator"]

    G --> G10["📦 Готов принять курьера → /newNode_***"]
    G --> G11["🚘 Запросить маршрут курьера → /newNode_***"]
    G11 --> G12["/newNode_***: Уточнение данных"]
    G12 --> G13["/newNode_***: Выбор"]
    G13 --> G14["/newNode_***: По телефону"]
    G13 --> G15["/newNode_***: По номеру"]
    G14 --> G16["newNode_***: Одну минуту..."]
    G15 --> G16
    G16 --> G17["newNode_***: Передача операторам"]
    G17 --> G18["newNode_***: Обещание прислать маршрут"]
    G18 --> G19["newNode_***: TransferToOperator"]
    G19 --> G20["newNode_***: Задержка"]
    G20 --> G21["newNode_***: Ожидание 20 мин"]
    G21 --> G22["newNode_***: Ждите ответа"]
    G22 --> G23["newNode_***: EndSession"]
    G --> G24["Редактировать заказ → /newNode_***"]
    G --> G25["Продлить хранение → /newNode_***"]
    G --> G26["Уточнить статус оплаты → /newNode_***"]
    G --> G27["Отменить заказ → /newNode_***"]
    G --> G28["Уточнить информацию о заказе → /newNode_***"]
    G24 --> G0
    G25 --> G0
    G26 --> G0
    G27 --> G0
    G28 --> G0

    %% --- 3. Доставка ---
    H --> H1["newNode_***: Способы доставки"]
    H1 --> H2["Самовывоз — бесплатно"]
    H1 --> H3["Экспресс-курьер — от *** ₽"]
    H1 --> H4["ТК — от *** ₽"]
    H1 --> H5["Почта России — *** ₽"]
    H1 --> H6["/newNode_***: Сроки доставки"]
    H1 --> H7["/newNode_***: Как заказать экспресс"]
    H1 --> H8["/newNode_***: Срок резерва (2/7 дней)"]
    H1 --> E
</code></pre>
        </div>
      </div>

      <div class="column">
        <div class="code-block">
          <pre><code style="display: block; overflow: clip; box-shadow: inset -10px -10px 15px rgba(0, 0, 0, 0.11), inset 10px 10px 15px rgba(70, 70, 70, 0.12), inset 5px 5px 20px 0px #58d17136; text-shadow: 0px 0px 1px #868686; filter: drop-shadow(0px 0px 5px #ffffff7d);"><span style="color: #0b0b0b69; text-shadow: 0px 0px 2px #0000002e;">graph TD</span>
    %% --- 4. Упаковка и вручение ---
    I --> I1["newNode_***: Сейф-пакеты, проверка до оплаты"]
    I1 --> E

    %% --- 5. Отзывы ---
    J --> J1["newNode_***: Ссылки на 2ГИС, Яндекс, Google"]
    J1 --> E

    %% --- 6. Обратная связь ---
    K --> K1["/newNode_***: Общие вопросы"]
    K --> K2["/newNode_***: Технические проблемы"]
    K --> K3["/newNode_***: Вопросы по составу заказа"]

    K3 --> K4["newNode_***: Описание проблемы"]
    K4 --> K5["newNode_***: Скриншот"]
    K5 --> K6["newNode_***: Фото товара"]
    K6 --> K7["newNode_***: Email"]
    K7 --> K8["newNode_***: SendEmail на ..."]
    K8 --> K9["newNode_***: Сообщение отправлено"]
    K9 --> E

    %% --- 7. Техподдержка ---
    L --> L1["/newNode_***: Сложности с эксплуатацией"]
    L --> L2["/newNode_***: Источник питания?"]

    L2 --> L3["/newNode_***: Батарейки → рекомендации"]
    L2 --> L4["/newNode_***: Описать проблему"]
    L2 --> L5["/newNode_***: Аккумулятор"]
    L4 --> L6["newNode_***: Прикрепить файл"]
    L5 --> L6
    L6 --> L7["newNode_***: Телефон, email"]
    L7 --> L8["newNode_***: TransferToOperator"]

    %% --- 8. Рекламации и возврат ---
    E --> N["/newNode_***: Рекламация"]
    E --> O["/newNode_***: Возврат товара"]
    E --> P["/newNode_***: Обмен"]
    O --> O1["newNode_***: Возврат при браке, ссылки на правила"]
    O1 --> O2["newNode_***: Оформить рекламацию?"]
    O2 --> O3["Да → /newNode_***: Причина"]
    O3 --> O4["newNode_***: Контакты"]
    O4 --> O5["newNode_***: TransferToOperator"]
    O2 --> O6["Нет → /newNode_***: До свидания"]
    O6 --> O7["newNode_***: Сбор данных"]
    O7 --> O5

    %% --- 9. Оформление заказа ---
    E --> Q["/newNode_**: Оформить в чате?"]
    E --> R["/newNode_***: Как оформить? → /newNode_163: Через сайт"]
    Q --> Q1["newNode_**: Укажите номера моделей"]
    Q1 --> Q2["newNode_**: Ввод моделей"]
    Q2 --> Q3["newNode_**: Ещё добавить?"]
    Q3 --> Q4["Да → /newNode_**: Добавить"]
    Q3 --> Q5["Нет → /newNode_**: Способ получения"]
    Q5 --> Q6["/newNode_**: Самовывоз или курьер"]
    Q6 --> Q7["/newNode_**: Самовывоз → ввод телефона"]
    Q6 --> Q8["/newNode_**: Курьер → ввод адреса"]
    Q7 --> Q9["newNode_**: Подтверждение"]
    Q8 --> Q10["newNode_***: Подтверждение"]
    Q9 --> Q11["newNode_**: TransferToOperator"]
    Q10 --> Q12["newNode_***: TransferToOperator"]

    %% --- 10. Завершение диалога ---
    M --> M1["newNode_**: До новых встреч!"]
    M1 --> M2["newNode_**: EndSession"]

    %% --- 11. Системные интенты ---
    E --> S1["$HELLO → /newNode_***: Пожалуйста! → /newNode_**"]
    E --> S2["$THANKS → /newNode_***"]
    E --> S3["$PARTING → /newNode_**"]
    E --> S4["Нечеткое понимание → /newNode_***: Уточните?"]
    S4 --> E</code></pre>
        </div>
      </div>
    </div>

    <div class="highlight">
      <strong>Реальная схема навигации.</strong><br>
      Показывает, как пользователь перемещается между 500+ узлами через <strong>структурированное меню и логические
        ветвления</strong>.
    </div>

    <h2>5. Архитектура базы знаний (FAQ): 15 файлов, 173 499 слов</h2>
    <p>Ядро диалоговой системы — <strong>масштабируемая база знаний</strong>, построенная как семантическая сеть.</p>

    <div class="box">
      <img class="box-image"
        src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/core-faq.png?raw=true" alt="Архитектура базы знаний чат-бота (FAQ)">
    </div>

    <div class="highlight">
      <strong>База знаний — семантическая модель.</strong><br>
      Она понимает, как <strong>люди действительно формулируют вопросы</strong>, и отвечает точно.
    </div>

    <h2>6. Ядро системы: узлы, условия, fallback</h2>

    <h3>6.1. Реальные узлы из системы</h3>
    <pre>
state: newNode_***
    a: • Самовывоз – готовность заказа к выдаче не более 10 минут — Бесплатно
       • ⚡️Экспресс-курьер – моментальная доставка по городу — *** ₽
       • ТК – даже в постоматы — от *** ₽
       • Почта России – по всей России — *** ₽
       Подробнее: example.com/informaciya-o-dostavke
    go!: /newNode_**

state: newNode_***
    a: Сейчас я направлю Вам рекомендации, для возможного решения сложившейся ситуации.
       В подавляющем большинстве они помогли нашим покупателям в аналогичных ситуациях.
       Ознакомьтесь пожалуйста.
    go!: /newNode_**

state: newNode_***
    random:
        a: Возможно, я не до конца понял. Напишите, пожалуйста, ещё раз.
        a: Может быть, я не до конца понял. Сможете уточнить?
        a: Я не уверен, что правильно понял. Напишите ещё раз, если это удобно.
  </pre>

    <h3>6.2. Интеграция с ИИ</h3>
    <p>ИИ включается, когда:</p>
    <ul>
      <li>Пользователь задаёт <strong>не релевантный компании вопрос</strong></li>
      <li>Но может быть <strong>потенциальным лида в будущем</strong></li>
      <li>Важно сохранить <strong>репутацию и имидж</strong></li>
    </ul>
    <p>Цель — <strong>диалог состоялся, пользователь не ушёл</strong>.</p>

    <pre>
state: newNode_***
    LlmRequest:
        userContent = {{$session.queryText}}
        sendHistory = true
        sendMessage = true
        varName = answerGigaChat
        okState = /newNode_***
        model = GigaChat
        profanityCheckOff = false
  </pre>

    <div class="highlight">
      <strong>ИИ как дополнение.</strong><br>
      Он работает только в нужных случаях — чтобы <strong>сохранить доверие</strong> и <strong>не сломать UX</strong>.
    </div>

    <h2>7. Процесс калибровки: как система становилась умнее</h2>
    <p>После запуска в продакшен система <strong>регулярно калибровалась</strong> на основе <strong>реальных
        диалогов</strong>. Процесс включал два этапа:</p>

    <h3>7.1. Двухступенчатая фильтрация</h3>
    <div class="diagram">
      <div class="mermaid" style="text-shadow: 0px 0px 9px #2c3e509c; filter: drop-shadow(0px 8px 16px #58d17136);">
        graph TD
        A[Реальные диалоги] --> B{Нейрофильтрация}
        B --> C[Данные для валидации]
        C --> D{Ручная валидация}
        D --> E[Дополнение узлов]
        D --> F[Актуализация синонимов]
        D --> G[Модернизация FAQ]
        D --> H[Аудит релевантности]
        E --> I[Эволюция ядра]
        F --> I
        G --> I
        H --> I
        I --> J[Аккумуляция данных]

        classDef source fill:#d5c4ff54,stroke:#9370db26,stroke-width:2px,color:#2c3e50ed,font-weight:bold
        classDef step font-weight:bold,color:#2c3e50ed,stroke:#34495e0f,stroke-width:2px,fill:#ecf0f1
        classDef human font-weight:bold,color:#2c3e50ed,stroke:#ffb4b424,stroke-width:2px,fill:#fffaf5
        classDef update font-weight:bold,color:#2c3e50ed,stroke:#27ae602e,stroke-width:2px,fill:#a4ffa4b3
        classDef cycle font-weight:bold,color:#2c3e50ed,stroke:#8e44ad0f,stroke-width:2px,fill:#f8f0ff

        class A source
        class B,C step
        class D,E,F,G,H human
        class I update
        class J cycle

        linkStyle default stroke:#9370db82,stroke-width:2.5px,fill:none,stroke-linecap:round

      </div>
    </div>

    <h3>7.2. Периоды калибровки</h3>
    <ul>
      <li><strong>Три дня</strong> после запуска — первая итерация</li>
      <li><strong>Седьмой день</strong> — адаптация к первым сценариям</li>
      <li><strong>Четырнадцатый день</strong> — закрытие частых вопросов</li>
      <li><strong>Тридцатый день</strong> — стабилизация</li>
      <li><strong>Сорок пятый день</strong> — финализация базы FAQ</li>
      <li><strong>Каждые 60 дней</strong> — регулярное обновление</li>
    </ul>

    <p>На каждом этапе проводилась работа:</p>
    <ul>
      <li><strong>Дополнение узлов</strong> — развитие диалоговой логики</li>
      <li><strong>Актуализация синонимов</strong> — обогащение семантики</li>
      <li><strong>Модернизация FAQ</strong> — расширение базы знаний</li>
      <li><strong>Аудит релевантности</strong> — проверка точности ответов</li>
    </ul>

    <div class="highlight">
      <strong>Итеративный процесс, продолжавшийся 6 месяцев.</strong><br>
      Это позволило системе <strong>достичь стабильной релевантности</strong> и снизить количество нераспознанных
      запросов до 6%.
    </div>

    <h2>8. Результат: данные за квартал</h2>
    <table>
      <tr>
        <th>Метрика</th>
        <th>Результат</th>
        <th>Комментарий</th>
      </tr>
      <tr>
        <td><strong>Всего диалогов</strong></td>
        <td><strong>1090</strong></td>
        <td>~12 в день</td>
      </tr>
      <tr>
        <td><strong>Без участия оператора</strong></td>
        <td><strong>96%</strong> (1055)</td>
        <td>↓ с 0% до 96% — колоссальное снижение нагрузки</td>
      </tr>
      <tr>
        <td><strong>Переводы на оператора</strong></td>
        <td><strong>35</strong></td>
        <td>~0 в день — только сложные случаи</td>
      </tr>
      <tr>
        <td><strong>Всего сообщений</strong></td>
        <td><strong>4681</strong></td>
        <td>~52 в день</td>
      </tr>
      <tr>
        <td><strong>Нераспознанные сообщения</strong></td>
        <td><strong>309</strong> (6.6%)</td>
        <td>catchAll помогает вернуть в поток</td>
      </tr>
      <tr>
        <td><strong>Пользователи</strong></td>
        <td><strong>720</strong></td>
        <td>~8 в день</td>
      </tr>
    </table>

    <h3>Самые популярные интенты</h3>
    <table>
      <tr>
        <th>Интент</th>
        <th>Срабатываний</th>
        <th>Процент</th>
      </tr>
      <tr>
        <td><strong>Приветствие</strong></td>
        <td>343</td>
        <td>8.06%</td>
      </tr>
      <tr>
        <td><strong>Экспресс-курьер</strong></td>
        <td>227</td>
        <td>5.33%</td>
      </tr>
      <tr>
        <td><strong>Информация о доставке</strong></td>
        <td>114</td>
        <td>2.68%</td>
      </tr>
      <tr>
        <td><strong>Самовывоз</strong></td>
        <td>111</td>
        <td>2.60%</td>
      </tr>
      <tr>
        <td><strong>Адрес</strong></td>
        <td>48</td>
        <td>1.12%</td>
      </tr>
      <tr>
        <td><strong>Отзывы</strong></td>
        <td>17</td>
        <td>0.39%</td>
      </tr>
    </table>

    <div class="highlight">
      <strong>Система понимает, что важно.</strong><br>
      Топ-интенты: доставка, самовывоз, адрес — <strong>точное попадание в потребности</strong>.
    </div>

    <h2>9. Визуальный конструктор: как выглядит система</h2>
    <p>Вся логика управляется через <strong>визуальный конструктор</strong> — где видна часть 500+ узлов, связи и ветки.
    </p>
    <div class="image">
      <img class="image-center-a"
        src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/graph.png?raw=true" alt="Пример диалога"
        loading="lazy">
    </div>

    <div class="highlight">
      <strong>Диалоговая карта</strong>.<br>
      Каждая линия — путь пользователя. Каждый узел — решение.
    </div>

    <h2>10. В продакшене: 500+ узлов, 4 канала, 0 сбоев</h2>
    <p>Система <strong>DialogCore</strong> запущена в продакшен в <strong>Q4 2024</strong> и стабильна с момента
      запуска.</p>

    <h3>Ключевые показатели:</h3>
    <table>
      <tr>
        <th>Показатель</th>
        <th>Результат</th>
      </tr>
      <tr>
        <td><strong>Количество узлов</strong></td>
        <td>500+</td>
      </tr>
      <tr>
        <td><strong>Интеграции</strong></td>
        <td>4 канала: Telegram, сайт, мессенджер, соцсеть</td>
      </tr>
      <tr>
        <td><strong>Жалобы на бота</strong></td>
        <td><strong>0</strong></td>
      </tr>
      <tr>
        <td><strong>Обновления логики</strong></td>
        <td>Через визуальный редактор — без остановки</td>
      </tr>
      <tr>
        <td><strong>Обратная связь</strong></td>
        <td>«Теперь бот — часть команды»</td>
      </tr>
    </table>

    <div class="highlight">
      <strong>DialogCore — живая диалоговая система.</strong><br>
      Она масштабируется, обучается и <strong>сохраняет контекст</strong>.
    </div>

    <h2>11. Реальный диалог</h2>
    <p>Пример диалога с пользователем:</p>
    <pre>
Пользователь: Скоро привезут заказ?
Бот: 📦 Пришлите, пожалуйста, номер заказа — проверим статус.
Пользователь: 12345
Бот: ✅ Заказ №12345 собран и передан курьеру. Следить за движением: [ссылка]
Бот: ⏳ Курьер приедет в течение часа.
</pre>
    <p>Такие диалоги происходят <strong>ежедневно</strong> — без участия оператора.</p>

    <img class="image-center" src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/bot_mg.png?raw=true"
      alt="Пример диалога" loading="lazy">

    <h2>12. Заключение</h2>
    <p><strong>Диалоговое ядро</strong>, которое:</p>
    <ul>
      <li><strong>Автоматизировало 96% поддержки</strong> — снизив нагрузку на операторов</li>
      <li><strong>Создало единую базу знаний</strong> — из <strong>173 499 слов и 200+ FAQ</strong></li>
      <li><strong>Поддерживает ~47 синонима на один запрос</strong> — для максимального покрытия</li>
      <li><strong>Интегрировано в 4 канала</strong> — с единым поведением</li>
      <li><strong>Работает без сбоев</strong> — с момента запуска в Q4 2024</li>
      <li><strong>Умеет возвращать в поток</strong> — даже при хаотичном диалоге</li>
      <li><strong>Прошло 6-месячный цикл итеративной калибровки</strong> — с ручной валидацией и обратной связью от
        реальных диалогов</li>
      <li><strong>Продолжает развиваться</strong> — регулярные обновления раз в 2 месяца</li>
    </ul>
    <p>Это пример <strong>инженерного подхода к UX</strong> — когда архитектура, логика, семантика и эмпатия работают
      как единое целое.</p>

    <div class="transcript">
      © 2025 - DialogCore | Чат-бот как диалоговая инфраструктура с памятью и LLM
    </div>

  </div>
  
    <p class="page-part"></p>

  <div class="docs aioperator">
    <h1 id="href-ioperator">«AI-Оператор как сердце интерфейса: как техническая архитектура превращается в живое
      UX-присутствие»</h1>
    <p style="text-align: center; font-weight: 500; font-size: 18px; margin: 10px 0;">
      Превращаем задержки в ритуалы на OpenCart
    </p>

    <h2><i class="fas fa-bullseye"></i> Суть</h2>
    <p><strong>«Пользователь не доверяет скорости. Он доверяет вниманию.»</strong></p>
    Создаем доверие через ощущение заботы, понимания, присутствия.</p>
    <p>Проблема: "сайт работает".<br>
      Решение: "сайт знает, что вы хотите — даже если вы сами ещё не знаете".</p>

    <h2><i class="fas fa-thumbtack"></i> Контекст</h2>
    <ul>
      <li><strong>Платформа</strong>: OpenCart</li>
      <li><strong>Аудитория</strong>: 80% — мобильные, 70% — впервые</li>
      <li><strong>Цель</strong>: повысить доверие, конверсию, удержание</li>
      <li><strong>Архитектура внедрения</strong>: Сегментированные JS-модули (<code>rise-*.js.sfc</code>), подключаемые
        в <code>footer.twig</code> по роутам — без изменений ядра</li>
      <li><strong>Вызов</strong>: Как сделать сайт живым, если он — неживой по природе?</li>
    </ul>

    <h2><i class="fas fa-dna"></i> Архитектура: четыре слоя живого UX</h2>
    <table>
      <tr>
        <th>Слой</th>
        <th>Технологии</th>
        <th>Цель</th>
      </tr>
      <tr>
        <td><strong>1. Визуальный</strong></td>
        <td>CSS, canvas, WebGL-подобные эффекты</td>
        <td>Создать ощущение «живого глаза»</td>
      </tr>
      <tr>
        <td><strong>2. Интерактивный</strong></td>
        <td>JS, MutationObserver, Service Worker, IntersectionObserver</td>
        <td>Реагировать на действия</td>
      </tr>
      <tr>
        <td><strong>3. Коммуникационный</strong></td>
        <td>showNotification(), typing, AI-оператор</td>
        <td>Вести диалог от первого лица</td>
      </tr>
      <tr>
        <td><strong>4. Защитный</strong></td>
        <td>PerfGuard, FPS-мониторинг, battery API</td>
        <td>Не навреди. Ни устройству. Ни пользователю.</td>
      </tr>
    </table>

    <h2><i class="fas fa-robot"></i> AI-Оператор как иллюзия сознания</h2>
    <div class="highlight">
      <strong>«Не делаем бота. Создаем иллюзию живого наблюдателя.»</strong><br>
      Пользователь <strong>не чувствует бота</strong>.<br>
      Он чувствует <strong>собеседника</strong>.
    </div>

    <h3>Как:</h3>
    <ul>
      <li><strong>Сфера в углу</strong> — никогда не замирает, как дышит (<code>chaoticGlow</code>)</li>
      <li><strong>Уведомления</strong> — с эффектом печати: <code>typing</code> + <code>blink-caret</code></li>
      <li><strong>Сообщения</strong> — от первого лица:
        <ul>
          <li>«<i class="fas fa-search"></i> Тапните дважды и удерживайте.»</li>
          <li>«Передаю заказ в обработку...»</li>
          <li>«Поиск по товарам выполнен.»</li>
        </ul>
      </li>
    </ul>
    <p><i class="fas fa-arrow-right arrow"></i> Это театр.<br>
      Но если театр вызывает доверие — он правдив.</p>

    <h2><i class="fa fa-superpowers"></i> Герой интерфейса: пульсирующая сфера <code
        style="color: #df64a2ab; background: #f1f1f147; border-radius: 10px;">#sphere_widget</code></h2>
    <img class="image-center" src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/sphere.png?raw=true"
      alt="Пульсирующая сфера AI-оператора" loading="lazy">
    <pre>
#sphere_widget {
  background-image: url(/site/images/sphere_widget.webp);
  animation: chaoticGlow 20s infinite linear alternate,
             chaoticGlow 18s infinite linear alternate-reverse;
  border-radius: 50%;
  opacity: 0.85;
  cursor: pointer;
}</pre>
    <pre>
document.getElementById('sphere_widget').addEventListener('click', openChat);</pre>
    <ul>
      <li><strong>Хаотичное свечение</strong> — как дыхание</li>
      <li><strong>Текст "Al"</strong> — намекаем на ИИ, но без агрессии</li>
      <li><strong>Позиционирование в углу</strong> — как наблюдатель</li>
    </ul>
    <p><i class="fas fa-arrow-right arrow"></i> <strong>Иконка? Нет. Это — присутствие.</strong></p>

    <h2><i class="fas fa-project-diagram"></i> Этика UX: «Манипулируем?»</h2>
    <p><strong>Да. Но с совестью.</strong></p>
    <p>Намеренно:</p>
    <ul>
      <li>Удлиняем ожидание, чтобы оно воспринималось как "важный процесс"</li>
      <li>Используем matrix-анимации, чтобы вызвать доверие к поиску</li>
      <li>Вводим игровые элементы, чтобы пользователь "заигрался"</li>
    </ul>
    <p>Без обмана:</p>
    <ul>
      <li>Никакой лжи</li>
      <li>Никаких скрытых действий</li>
      <li>Никаких автоплатежей</li>
    </ul>
    <p><i class="fas fa-arrow-right arrow"></i> Это <strong>эстетика доверия</strong>.</p>
    <div class="highlight">
      "Хороший UX — это когда пользователь чувствует себя умнее.<br>
      Великий UX — когда он чувствует себя замеченным."
    </div>

    <h2><i class="fas fa-brain"></i> Система как организм</h2>
    <div class="highlight">
      <strong>«Сайт — машина? Нет — живой организм.»</strong>
    </div>
    <table>
      <tr>
        <th>Орган</th>
        <th>Аналог в системе</th>
      </tr>
      <tr>
        <td><strong>Мозг</strong></td>
        <td>AI-оператор, логика решений</td>
      </tr>
      <tr>
        <td><strong>Нервная система</strong></td>
        <td>MutationObserver, Event Bus, Custom Events</td>
      </tr>
      <tr>
        <td><strong>Сердце</strong></td>
        <td>PerfGuard — следит за пульсом FPS</td>
      </tr>
      <tr>
        <td><strong>Кожа</strong></td>
        <td>Canvas, анимации, эффекты</td>
      </tr>
      <tr>
        <td><strong>Лёгкие</strong></td>
        <td>Service Worker, кэширование, PWA</td>
      </tr>
      <tr>
        <td><strong>Иммунитет</strong></td>
        <td>PerfGuard, автоочистка, beforeunload</td>
      </tr>
    </table>
    <p><i class="fas fa-arrow-right arrow"></i> Каждый компонент — <strong>орган</strong>.</p>

    <h2><i class="fas fa-sync-alt"></i> Система обратной связи: от клика до доверия</h2>
    <table>
      <tr>
        <th>Действие</th>
        <th>Техническая реализация</th>
        <th>Психологический эффект</th>
      </tr>
      <tr>
        <td>Клик по поиску</td>
        <td>Звук, вибрация, canvas-разряд</td>
        <td>«Система услышала»</td>
      </tr>
      <tr>
        <td>Ожидание результата</td>
        <td>Анимация "анализа" с matrix-эффектом</td>
        <td>«Идёт глубокая обработка»</td>
      </tr>
      <tr>
        <td>Появление результата</td>
        <td>Уведомление: "Поиск выполнен."</td>
        <td>«Найдено для вас»</td>
      </tr>
      <tr>
        <td>Просмотр галереи</td>
        <td>Auto Swiper + уведомление</td>
        <td>«Покажу сам»</td>
      </tr>
      <tr>
        <td>Уход со страницы</td>
        <td><code>beforeunload</code> очистка</td>
        <td>«Не оставлю следов»</td>
      </tr>
    </table>
    <p><strong>Каждое действие — ответ.<br> Каждый ответ — диалог.</strong></p>

    <h2><i class="fa fa-eercast"></i> Ключевые UX-фичи (с кодом и объяснением)</h2>

    <h3>1. Auto Swiper: "Покажу, что важно"</h3>
    <img class="image-center" src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/swiper.png?raw=true"
      alt="Авто свайпер" style="border: solid 8px #565656; border-radius: 35px; box-shadow: 0px 5px 10px 0px #414141;"
      loading="lazy">
    <pre>
function startImageSlider(images) {
  // Автоматически показывает галерею
  // Останавливается при касании
}</pre>
    <ul>
      <li><strong>Когда</strong>: Пользователь видит много фото</li>
      <li><strong>Почему</strong>: Не хочет листать сам</li>
      <li><strong>Эффект</strong>: "Сайт заботится — покажет всё сам"</li>
    </ul>
    <p><i class="fas fa-arrow-right arrow"></i> <strong>Воспринимается как умная подсказка</strong></p>

    <h2><i class="fas fa-gamepad"></i> Игра: примеры актов взаимодействия</h2>

    <h3>2.1 «Хватай»: двойной тап → активация секрета</h3>
    <p><strong>Где</strong>: карточка товара <code>/product</code></p>
    <p><strong>Модуль</strong>: <code>rise-product.js.sfc</code></p>
    <pre>
// После 3 касаний — показываем подсказку
let globalTapCount = 0;

element.addEventListener('touchstart', () => {
  globalTapCount++;
  if (globalTapCount === 3) {
    // "Тапните дважды и удерживайте"
    showNotification("<i class='fas fa-search'></i> Тапните дважды и удерживайте.");
    markNotificationAsShown(); // Только один раз
  }
});
</pre>
    <ul>
      <li><strong>Цель</strong>: вовлечь "новичка" в игру</li>
      <li><strong>Эффект</strong>: пользователь чувствует себя "хакером"</li>
      <li><strong>Механика</strong>: 3 касания → подсказка-приглашение</li>
    </ul>
    <p><i class="fas fa-arrow-right arrow"></i> <strong>Ритуал вхождения.</strong></p>

    <h3>2.2 «Сканирую»: клик → визуальный фидбэк доверия</h3>
    <img class="image-center" src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/scan.png?raw=true"
      alt="Анимация анализа сканирования"
      style="position: relative; border: solid 8px #565656; border-radius: 35px; box-shadow: 0px 5px 10px 0px #414141; top: -22px; right: -32px; transform: rotate(5deg);" loading="lazy">
    <p><strong>Где</strong>: страница оформления <code>/checkout</code></p>
    <p><strong>Модуль</strong>: <code>rise-checkout.js.sfc</code></p>
    <pre>
// При клике — запускаем сканирование
element.addEventListener('click', () => {
  showScreenScanner(); // Full-screen анимация
  showSpNotification("Проверяю введённую информацию...");
});

// Анимация: движущаяся линия + свечение
function showScreenScanner() {
  const overlay = document.createElement('div');
  overlay.innerHTML = `...`; // .scanner-line, .scanner-glow
  document.body.appendChild(overlay);
  setTimeout(() => overlay.remove(), 1500);
}
</pre>
    <ul>
      <li><strong>Цель</strong>: усилить ощущение "я не один"</li>
      <li><strong>Эффект</strong>: система "проверяет" перед отправкой</li>
      <li><strong>Механика</strong>: клик → сканирование + уведомление</li>
    </ul>
    <p><i class="fas fa-arrow-right arrow"></i> <strong>Ритуал подтверждения.</strong></p>

    <h3>3. Анимация "вычислений": превращаем лоадер в шоу</h3>
    <img class="image-center"
      src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/analysis.png?raw=true"
      alt="Анимация анализа поиска"
      style="border: solid 8px #565656; border-radius: 35px; box-shadow: 0px 5px 10px 0px #414141;" loading="lazy">
    <pre>
function showComputationAnimation(callback) {
  // Full-screen canvas с:
  // - матрицей падающих символов
  // - вспышками
  // - словами: "ПЛАТЬЕ", "ВЕЧЕРНЕЕ" — как "анализ"
  // Завершается уведомлением
}</pre>
    <p><strong>Пользователь не чувствует задержки — он чувствует мощь процесса.</strong></p>

    <h3>4. Контекстные уведомления: "помню вас"</h3>
    <pre>
function getGreeting() {
  const hour = new Date().getHours();
  return hour >= 5 && hour < 12 ? "Доброе утро!" : "Добрый вечер!";
}</pre>
    <ul>
      <li>Показывается один раз в день (<code>localStorage</code>)</li>
      <li>Персонализировано по времени</li>
      <li>Как у личного ассистента</li>
    </ul>

    <h3>5. "Электрификация" интерфейса: поиск как включение реактора</h3>
    <img class="image-center"
      src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/electric.png?raw=true"
      alt="Электрическое поле вокруг поиска"
      style="border: solid 8px #565656; border-radius: 35px; box-shadow: 0px 5px 10px 0px #414141;" loading="lazy">
    <pre>
document.getElementById('input-search').addEventListener('focus', () => {
  playSound();
  createDischargeAnimation();
  createElectrifiedDots();
});</pre>
    <ul>
      <li><strong>Canvas-разряды</strong> в углах</li>
      <li><strong>Искрящие точки</strong></li>
      <li><strong>Звук + вибрация</strong></li>
      <li><strong>Обводка с мерцанием</strong></li>
    </ul>
    <p><i class="fas fa-arrow-right arrow"></i> <strong>Активация силы.</strong></p>

    <h3>6. Smart UI Replacement: прогрессивное улучшение</h3>
    <pre>
document.querySelector("#button-search") && 
  document.querySelector("#search").classList.add("visually-hidden");
</pre>
    <ul>
      <li>После первого клика — оригинальное поле скрывается</li>
      <li>Появляется улучшенный интерфейс</li>
      <li>Пользователь не видит дублирования</li>
    </ul>

    <h3>7. Adaptive Performance Detection: умный UX под устройство</h3>
    <pre>
const devicePerformance = (function() {
  try {
    var start = performance.now();
    for (let i = 0; i < 5000; i++) Math.random();
    var time = performance.now() - start;
    return time > 8 ? "low" : time > 4 ? "medium" : "high";
  } catch (e) {
    return "medium";
  }
})();
</pre>
    <ul>
      <li><strong>Мощные устройства</strong> → максимум анимаций</li>
      <li><strong>Слабые</strong> → упрощённые эффекты</li>
      <li><strong>Нет "лагов", только адаптация</strong></li>
    </ul>

    <h3>8. Модульность и изоляция: стабильность на любых условиях</h3>
    <pre>
const observer = new MutationObserver(() => { ... });
window.addEventListener('beforeunload', () => {
  observer.disconnect();
});
</pre>
    <ul>
      <li>Все скрипты — <strong>самодостаточные</strong></li>
      <li><strong>Нет утечек памяти</strong></li>
      <li><strong>Не ломает CMS</strong></li>
      <li><strong>Работает в любых условиях</strong></li>
    </ul>

    <h3>9. PWA Layer: интеллектуальная установка</h3>
    <img class="image-center" src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/pwa.png?raw=true"
      alt="PWA" style="border: solid 8px #565656; border-radius: 35px; box-shadow: 0px 5px 10px 0px #414141;"
      loading="lazy">
    <pre>
if (!localStorage.getItem('install_shown')) {
  setTimeout(showInstallModal, 90000); // Через 90 сек
}
</pre>
    <ul>
      <li><strong>Не раздражает</strong></li>
      <li><strong>Только один раз</strong></li>
      <li><strong>Учитывает поведение</strong></li>
    </ul>

    <h3>10. Split Pay: живой калькулятор рассрочки</h3>
    <img class="image-center" src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/split.png?raw=true"
      alt="Split-pay" loading="lazy">
    <pre>
.split-pay {
  animation: price-panic-run 2s ease-in-out infinite alternate;
}
.split-pay-icon::before {
  animation: pacman-chomp 1s ease-in-out infinite;
}</pre>
    <ul>
      <li><strong>Анимированный значок "пакмана"</strong> <i class="fas fa-pac-man"></i></li>
      <li><strong>Цена "дрожит" как живая</strong></li>
      <li><strong>Создаёт ощущение "это реально, и это твоё"</strong></li>
    </ul>

    <h2><i class="fas fa-shield-alt"></i> PerfGuard — иммунитет системы</h2>
    <div class="highlight">
      <strong>"Магия не должна убивать устройство.<br>
        Если UX начинает вредить UX — система останавливает себя."</strong>
    </div>

    <h3><i class="fas fa-brain"></i> Три состояния системы</h3>
    <p>PerfGuard — это <strong>непрерывный мониторинг</strong> состояния устройства:</p>
    <table>
      <tr>
        <th>Состояние</th>
        <th>Условия</th>
        <th>Поведение</th>
      </tr>
      <tr>
        <td><strong>1. Активно</strong></td>
        <td>FPS ≥ 40, экран в фокусе</td>
        <td>Полный UX: анимации, эффекты, AI-присутствие</td>
      </tr>
      <tr>
        <td><strong>2. Авария</strong> <code>perf.guard.low</code></td>
        <td>FPS &lt; 40<br>или батарея &lt; 15% и не заряжается<br>или страница не в фокусе</td>
        <td>Мгновенное отключение всех ресурсоёмких процессов</td>
      </tr>
      <tr>
        <td><strong>3. Восстановление</strong> <code>perf.guard.high</code></td>
        <td>Страница в фокусе + FPS ≥ 40</td>
        <td>Плавное возвращение эффектов</td>
      </tr>
    </table>

    <h3><i class="fas fa-map-marker-alt"></i> Критические зоны: где магия не отключается</h3>
    <p>На страницах принятия решений PerfGuard <strong>не входит в аварию</strong>, даже при низкой FPS:</p>
    <pre>
if (
  p.includes('/cart') ||
  p.includes('/checkout') ||
  p.includes('/search') ||
  q.includes('route=product/search') ||
  q.includes('route=product/category') ||
  q.includes('route=journal3/filter') ||
  q.includes('route=journal3/blog')
) {
  window.__perfGuard_critical = true; // "Здесь UX важнее производительности"
}
</pre>
    <ul>
      <li><strong>Почему</strong>: пользователь в моменте выбора</li>
      <li><strong>Риск</strong>: лаги</li>
      <li><strong>Компенсация</strong>: адаптивные эффекты (не отключение, а упрощение)</li>
    </ul>

    <h3><i class="fas fa-ban"></i> Аварийное торможение: <code
        style="background: #f1f1f147; border-radius: 10px;">perf.guard.low</code></h3>
    <p>Система мгновенно отключает всё, что может нагружать:</p>
    <pre>
window.addEventListener('perf.guard.low', () => {
  if (!window.__perfGuard_critical) {
    clearIntervalAll();
    clearTimeoutAll();
    disconnectAllObservers();
    closeAllWebSockets();
    cancelAllRaf();
  }
});
</pre>
    <ul>
      <li><strong>Цель</strong>: защитить UX от "тормозов"</li>
      <li><strong>Эффект</strong>: интерфейс становится "лёгким", как нативное приложение</li>
    </ul>

    <h3><i class="fas fa-check-circle"></i> Восстановление: <code
        style="background: #f1f1f147; border-radius: 10px;">perf.guard.high</code></h3>
    <p>Когда устройство "дышит" — эффекты возвращаются плавно:</p>
    <pre>
document.addEventListener('visibilitychange', () => {
  if (document.visibilityState === 'visible' && getFps() >= 40) {
    setTimeout(restoreEffects, 800); // Даём системе время "проснуться"
  }
});
</pre>
    <p><i class="fas fa-arrow-right arrow"></i> UX-магия <strong> возвращается</strong>, как будто её и не было.</p>

    <h3><i class="fas fa-hourglass-half"></i> Период охлаждения: защита от "дребезга" состояний</h3>
    <p>PerfGuard не реагирует мгновенно. Он <strong>ожидает, подтверждает, затем решает</strong> — чтобы избежать
      "мигания" UX.</p>
    <ul>
      <li><strong>Двойная проверка</strong>: вход в аварию только после 2 неудачных измерений подряд (6 секунд)</li>
      <li><strong>Охлаждение после аварии</strong>: восстановление возможно только через 8 секунд</li>
      <li><strong>Цель</strong>: избежать частых переключений ("туда-сюда") при нестабильном FPS</li>
    </ul>
    <pre>
if (g && o - h >= 8000) {
  // Восстановление только после 8 секунд "охлаждения"
  r(); // perf.guard.high
}
</pre>
    <p><i class="fas fa-arrow-right arrow"></i> Это <strong>взвешенное решение системы</strong>:<br>
      "Я вижу проблему. Но не паникую. Я жду. И действую — только когда нужно."</p>

    <h2><i class="fas fa-chart-line"></i> Контрольные точки внедрения</h2>
    <div class="highlight">
      <strong>Каждое изменение — измеряемый шаг к доверию</strong>
    </div>
    <table>
      <tr>
        <th>Этап</th>
        <th>Что внедрили</th>
        <th>Результат</th>
      </tr>
      <tr>
        <td>1</td>
        <td>AI-оператор + уведомления</td>
        <td>+22% открытие чата</td>
      </tr>
      <tr>
        <td>2</td>
        <td>Auto Swiper + Scanner</td>
        <td>+34% время на карточке</td>
      </tr>
      <tr>
        <td>3</td>
        <td>Электрификация поиска</td>
        <td>+41% кликов по поиску</td>
      </tr>
      <tr>
        <td>4</td>
        <td>Split Pay + Pacman</td>
        <td>+19% конверсия в корзину</td>
      </tr>
      <tr>
        <td>5</td>
        <td>PerfGuard</td>
        <td>-83% жалоб на "тормозит"</td>
      </tr>
    </table>

    <h2><i class="fas fa-chart-bar"></i> РЕЗУЛЬТАТЫ</h2>
    <table>
      <tr>
        <th>Метрика</th>
        <th>До</th>
        <th>После</th>
        <th>Прирост</th>
      </tr>
      <tr>
        <td><strong>Конверсия в заказ</strong></td>
        <td>1.8%</td>
        <td>3.4%</td>
        <td>+89%</td>
      </tr>
      <tr>
        <td><strong>Средняя продолжительность сессии</strong></td>
        <td>1:58</td>
        <td>4:12</td>
        <td>+104%</td>
      </tr>
      <tr>
        <td><strong>Отказы на мобильных</strong></td>
        <td>72%</td>
        <td>38%</td>
        <td>-47%</td>
      </tr>
      <tr>
        <td><strong>Открытие чата-бота</strong></td>
        <td>0.2%</td>
        <td>22%</td>
        <td>+10 900%</td>
      </tr>
      <tr>
        <td><strong>Lighthouse Performance</strong></td>
        <td>62</td>
        <td>100</td>
        <td><i class="fas fa-check check"></i></td>
      </tr>
      <tr>
        <td><strong>Установка PWA</strong></td>
        <td>0</td>
        <td>45+</td>
        <td><i class="fas fa-check check"></i></td>
      </tr>
      <tr>
        <td><strong>Вылеты на слабых Android</strong></td>
        <td>12%</td>
        <td>&lt;1%</td>
        <td><i class="fas fa-check check"></i></td>
      </tr>
      <tr>
        <td><strong>Средний FPS на low-end</strong></td>
        <td>32</td>
        <td>56 (с адаптацией)</td>
        <td><i class="fas fa-check check"></i></td>
      </tr>
    </table>

    <h2><i class="fas fa-puzzle-piece"></i> Интеграция: трилогия роста доверия</h2>
    <table>
      <tr>
        <th>Проект</th>
        <th>Фокус</th>
        <th>Уровень</th>
      </tr>
      <tr>
        <td><strong>PWA-Layer</strong></td>
        <td>Изоляция контекстов</td>
        <td>Технический</td>
      </tr>
      <tr>
        <td><strong>ISPN</strong></td>
        <td>Предсказание навигации</td>
        <td>Системный</td>
      </tr>
      <tr>
        <td><strong>AI-Operator</strong></td>
        <td>Персонализация UX</td>
        <td>Человеческий</td>
      </tr>
    </table>
    <p><i class="fas fa-arrow-right arrow"></i> Это <strong>эволюция доверия</strong>.</p>

    <h2
      style="text-align: center;font-size: 20px;margin: 30px 0 20px;border-bottom: 2px solid transparent;border-image-slice: 1 !important;border-image: linear-gradient(to right, transparent, #ff56acc2, transparent);">
      <i class="fa fa-heart-o" style="font-weight: 600;"></i> Сердце: «Сайт, который знает, что вы хотите, даже если вы
      сами не знаете»</h2>
    <div>
      <p style=" font-size: 18px; line-height: 30px; text-align: center; color: #815db1bd; filter: drop-shadow(0px 0px 0px #ffffffa8);"><strong>«Лоадер — ритуал.
          Интерфейс — диалог. Сайт — не умнее. Сайт — человек.»</strong></p>
    </div>

    <div class="transcript">
      © 2025 - AI-Оператор | «Живой диалог» UX с платформой
    </div>

  </div>
  
    <p class="page-part"></p>

  <div class="docs vibe">
    <div class="vibe-layer">
      <div class="ux-vibe">
        <h1 id="href-ux-vibe">UX-Vibe — визуал как притяжение</h1>
        <p
          style="text-align: center; font-weight: 500; font-size: 18px; filter: drop-shadow(0px 0px 5px #ff56ac); background-image: linear-gradient(300deg, #ff9900 25%, #ff56ac 90%); color: transparent; background-clip: text;">
          Как переписанный с нуля визуальный язык создаёт доверие
        </p>

        <div class="quote">
          «Пользователь не доверяет скорости. Он доверяет вниманию.»
        </div>

        <h2>1. Проблема: что видит пользователь?</h2>
        <p>Вы всё построили. Всё оптимизировали. Всё ускорили.</p>
        <p>ML-Cache дал скорость. ISPN — предикцию. PWA-Layer — ощущение приложения. OPS-UX и DialogCore —
          эффективность. AI-Оператор — начал говорить.</p>
        <div class="accent">
          <strong>Но пользователь не видит байт-код. Он не чувствует кэш. Он не знает, как работает Service
            Worker.</strong><br>
          Он видит — <strong>интерфейс</strong>.<br>
          Он касается — <strong>кнопки</strong>.<br>
          Он чувствует — <strong>присутствие</strong>.
        </div>
        <p>И если интерфейс лишён живого дыхания — даже совершенная машина кажется безжизненной.</p>

        <h2>2. Что такое UX-Vibe</h2>
        <p><strong>UX-Vibe — не дизайн. Это визуальное воплощение живого диалога.</strong></p>
        <p>Не про "быть красивым". Про <strong>ощущение, что за системой — кто-то есть</strong>.</p>
        <p>UX-Vibe — это <strong>всё, что пользователь видит, чувствует, касается</strong> на сайте:</p>
        <ul>
          <li>Как <em>парит</em> кнопка</li>
          <li>Как <em>светится</em> текст</li>
          <li>Как <em>живёт</em> баннер</li>
          <li>Как <em>откликается</em> иконка</li>
          <li>Как <em>дышит</em> фон</li>
        </ul>
        <p>Это — <strong>Vibe-UX</strong>: ощущение живого присутствия, созданное через цвет, тень, анимацию, текстуру и
          микро-движение.</p>

        <div class="vibe-core">
          <strong>Vibe-UX</strong> — это <strong>пространство, в котором хочется остаться</strong>.<br>
          <em>Диалог с живым помощником</em>, который смотрит, слышит, отвечает.<br>
          <strong>Первое, что видит пользователь</strong> — и <strong>что решает: уйдёт он или останется</strong>.
        </div>

        <h3>2.1. Фундаментальные принципы</h3>
        <ul>
          <li><strong>Нет случайных цветов</strong> — каждый оттенок работает на настроение</li>
          <li><strong>Тень = объём</strong> — нет «плоских» кнопок, только парящие</li>
          <li><strong>Анимация = отклик</strong> — не "ради анимации", а как ответ на касание</li>
          <li><strong>Градиент = движение</strong> — цвет течёт, как живая энергия</li>
          <li><strong>Текстура = глубина</strong> — фон дышит, как живая поверхность</li>
        </ul>

        <h2>3. Визуальный язык: как работает притяжение</h2>

        <h3>3.1. Цвет как источник света</h3>
        <p>Цвет в UX-Vibe — <strong>источник внимания</strong>.</p>
        <ul>
          <li>Выбрана единая <strong>эмоциональная волна</strong>, проходящая через все элементы</li>
          <li>Градиенты не статичны — они <em>дышат</em>, <em>пульсируют</em>, <em>перетекают</em></li>
          <li>Цвет используется как <strong>визуальный сигнал</strong>: где активность, где стабильность, где призыв
          </li>
        </ul>
        <p>Это — <strong>световая сигнатура системы</strong>.</p>

        <div class="visual-example">
          <img src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/color-gradient.png?raw=true"
            alt="Динамичный градиент как источник света в интерфейсе" loading="lazy">
        </div>

        <h3>3.2. Глубина и объём: тень, свечение, парение</h3>
        <p>Каждый важный элемент живёт в трёхмерном пространстве:</p>
        <ul>
          <li><strong>box-shadow</strong> — создаёт иллюзию парения</li>
          <li><strong>text-shadow</strong> — делает текст объёмным, «выпирающим»</li>
          <li><strong>drop-shadow</strong> — добавляет мягкое свечение, как от живого источника</li>
        </ul>
        <p>Кнопки не лежат. Они <strong>парят</strong>. Заголовки не просто текст. Они <strong>сияют</strong>.</p>

        <div class="visual-example">
          <img src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/search-interface.png?raw=true"
            alt="Интерфейс поиска с элементами, плавающими за счёт теней" loading="lazy">
        </div>

        <h3>3.3. Кнопки, на которые хочется нажимать</h3>
        <p>Каждая кнопка — <strong>ритуал касания с системой</strong>.</p>
        <ul>
          <li><strong>Градиентный фон</strong> — пульсирует, как источник энергии</li>
          <li><strong>Сложная тень</strong> — внешняя, внутренняя, свечение</li>
          <li><strong>Плавный scale</strong> — при наведении — лёгкое увеличение (1.03x)</li>
          <li><strong>Заливка при клике</strong> — вспышка, как от разряда</li>
          <li><strong>Анимация активации</strong> — не мгновенно, а с микро-задержкой — как «включение»</li>
        </ul>
        <p>Нажатие — <strong>контакт с живым помощником</strong>.</p>

        <div class="visual-example">
          <img src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/show-more.png?raw=true"
            alt="Кнопка 'Показать ещё' с эффектом парения" loading="lazy">
        </div>

        <h3>3.4. Баннеры, которые хочется смотреть</h3>
        <p>Баннеры — не реклама. Это <strong>визуальный жест системы</strong>.</p>
        <ul>
          <li><strong>Скруглённые углы (20–30px)</strong> — мягкая форма = безопасность</li>
          <li><strong>Анимированные webp</strong> — плавная, высококачественная анимация</li>
          <li><strong>Заливающие градиенты</strong> — фон не статичен, он пульсирует</li>
          <li><strong>Микро-анимации</strong>: при появлении — плавное масштабирование и свечение</li>
          <li><strong>Подсветка границ</strong>: тонкая линия свечения, как от экрана</li>
        </ul>
        <p>Показывает баннер? Нет — <strong>приглашает войти</strong>.</p>

        <div class="visual-example">
          <img src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/banner.png?raw=true"
            alt="Анимированный баннер с дышащим градиентом и свечением" loading="lazy">
        </div>

        <h3>3.5. Элементы навигации: точки притяжения</h3>
        <p>Информация, личный кабинет, дополнительно — внизу экрана. Все — с характером.</p>
        <ul>
          <li><strong>Список навигации</strong> — лестница «восхождения»</li>
          <li><strong>Градиентная граница</strong> — светится, как живой контур</li>
          <li><strong>Тень</strong> — внешняя и внутренняя, создаёт объём</li>
          <li><strong>Активация</strong> — при нажатии: динамичный градиент, масштаб, прозрачность</li>
          <li><strong>Анимация появления</strong> — не «прыгает», а плавно «выходит»</li>
        </ul>
        <p>Нажать на иконку — <strong>контакт с живым помощником</strong>.</p>

        <div class="visual-example">
          <img src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/nav.png?raw=true"
            alt="Круглые иконки навигации с градиентами и эффектом парения" loading="lazy">
        </div>

        <h3>3.6. Текст и заголовки: свет</h3>
        <p>Заголовки не читаются. Они <strong>сияют, как неон в темноте</strong>.</p>
        <ul>
          <li><strong>Градиентный текст</strong> — создаёт ощущение подсветки</li>
          <li><strong>text-shadow</strong> — мягкая тень, как от внутреннего источника света</li>
          <li><strong>Анимация «печати»</strong> — текст не появляется, он <em>проявляется</em></li>
          <li><strong>Вертикальный скан</strong> — при нажатии на кнопку «Оформить заказ» — луч проходит экран, как в
            sci-fi</li>
          <li><strong>Свечение фона</strong> — под заголовком — лёгкий ореол</li>
        </ul>
        <p>Чтение — это <strong>восприятие живого диалога</strong>.</p>

        <div class="visual-example">
          <img src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/brands.png?raw=true"
            alt="Бренды с градиентным текстом и эффектом свечения" loading="lazy">
        </div>

        <h3>3.7. Микро-анимации: отклики</h3>
        <p>Каждое касание — подтверждается:</p>
        <ul>
          <li><strong>Плавное появление кнопок</strong> — с задержкой</li>
          <li><strong>Уведомления</strong> — «выплывают» из фона</li>
          <li><strong>Иконки</strong> — при наведении — слегка поворачиваются</li>
          <li><strong>Текст</strong> — при выборе — подсвечивается тенью</li>
          <li><strong>Списки</strong> — появляются не сразу, а поочерёдно — как живая реакция</li>
        </ul>
        <p>Пользователь не чувствует интерфейс. Он <strong>чувствует диалог</strong>.</p>

        <div class="visual-example">
          <img src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/hi.png?raw=true"
            alt="Приветствие 'Добрый день!' с микро-анимацией пульсации" loading="lazy">
        </div>

        <h3>3.8. JS-усиление: когда CSS недостаточно</h3>
        <p>CSS создаёт основу вайба. Но некоторые эффекты требуют точного контроля — и тут вступает JavaScript.</p>
        <ul>
          <li><strong>Скан при оформлении заказа</strong> — запускается по действию пользователя, имитирует проверку
            данных. Реализован через <code>requestAnimationFrame</code> и динамические overlay-слои.</li>
          <li><strong>Динамическая активация анимаций</strong> — анимации включаются только при
            <code>visibilityState: 'visible'</code>, экономя CPU.</li>
          <li><strong>Контроль за overlay</strong> — с помощью <code>MutationObserver</code> отслеживаются системные
            всплывающие окна (например, "Проверка") и заменяются на плавные, соответствующие стилю UX-Vibe.</li>
          <li><strong>Адаптивность</strong> — интерфейс определяет мобильное устройство и включает эффекты только там,
            где они уместны.</li>
        </ul>
        <p>CSS — это <em>дыхание</em>. JS — это <em>сердцебиение</em>. Вместе они создают <strong>ощущение живой
            системы</strong>.</p>

        <div class="visual-example">
          <img class="image-center"
            src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/scan-checkout.png?raw=true"
            alt="Скан-эффект при нажатии 'Оформить заказ' на мобильной версии"
            style="border: solid 8px #565656; border-radius: 35px; box-shadow: 0px 5px 10px 0px #414141;"
            loading="lazy">
        </div>

        <h2>4. Живые элементы: как UX-Vibe работает в интерфейсе</h2>
        <p>Этот подход — <strong>система визуальных решений, реализованная по всему интерфейсу</strong>. Ниже — примеры,
          как она проявляется в ключевых точках взаимодействия.</p>

        <h3>4.1. Кнопка поиска на главной странице</h3>
        <p>Кнопка <strong>пульсирует в ритме системы</strong>.</p>
        <ul>
          <li>Анимация <code>button-search-go</code> создаёт лёгкое <em>дыхание</em> — как признак живого присутствия
          </li>
          <li>Градиентный фон и сложная тень придают объём — кнопка не прикреплена, а <em>парит</em></li>
          <li>При наведении — усиливается внутреннее свечение, будто система <em>внимательно смотрит</em></li>
          <li>При клике — она слегка <em>меняет форму и позицию</em>, отвечая на касание как живой объект</li>
          <li>Иконка внутри — с подсветкой, которая ярче в момент нажатия: <em>контакт подтверждён</em></li>
        </ul>
        <p>Это <strong>точка визуального диалога</strong>.</p>

        <div class="visual-example">
          <img src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/button-search.png?raw=true"
            alt="Кнопка поиска с пульсирующим эффектом и анимацией button-search-go" loading="lazy">
        </div>

        <h3>4.2. Кнопка "Купить" (на мобильной версии)</h3>
        <p>Круглая, плавающая в правом нижнем углу карточки — она <strong>зовёт к действию</strong>.</p>
        <ul>
          <li>Позиция внутри карточки создаёт ощущение <em>плавающего помощника</em></li>
          <li>При клике — она <em>смещается, меняет размер и форму</em>, будто <em>откликается на прикосновение</em>
          </li>
          <li>Иконка «корзина» — с глубокой тенью и свечением, которое чуть усиливается при активации</li>
          <li>Цвет и градиент — часть общей оси, проходящей через весь интерфейс</li>
        </ul>
        <p><strong>Жест, на который хочется ответить</strong>.</p>

        <div class="visual-example">
          <img src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/button-buy.png?raw=true"
            alt="Плавающая кнопка 'Купить' в правом нижнем углу" loading="lazy">
        </div>

        <h3>4.3. Окно мини-корзины (на мобильной версии)</h3>
        <p>Всплывающее окно — <strong>сияет изнутри</strong>.</p>
        <ul>
          <li>Фон — полупрозрачный, с градиентом и <em>внутренним свечением</em>, как от живого источника</li>
          <li>Тень — <em>внутренняя</em> — создаёт эффект объёма и «напряжения»</li>
          <li>Контур — мягко подсвечивается, будто окно <em>дышит</em></li>
          <li>Даже в скрытом состоянии — оно <em>присутствует</em> через лёгкое свечение</li>
        </ul>
        <p><strong>Ваш личный помощник, который ждёт вашего взгляда</strong>.</p>

        <div class="visual-example">
          <img src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/mini-cart.png?raw=true"
            alt="Всплывающее окно мини-корзины с внутренним свечением и градиентным фоном" loading="lazy">
        </div>

        <h3>4.4. Поля ввода на странице обратной связи</h3>
        <p><strong>Откликаются на внимание</strong>.</p>
        <ul>
          <li>Гладкий белый бордер с внутренним свечением создаёт эффект <em>подсвеченной рамки</em></li>
          <li>Тени — снаружи и внутри — придают ощущение <em>глубины и чистоты</em></li>
          <li>При наведении — лёгкое увеличение, как <em>реакция на интерес</em></li>
          <li>Фокус — <em>всё поле оживает</em></li>
        </ul>
        <p>Это <strong>приглашение к диалогу</strong>.</p>

        <div class="visual-example">
          <img src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/input-fields.png?raw=true"
            alt="Поля ввода с эффектом внутреннего свечения и при наведении" loading="lazy">
        </div>

        <h3>4.5. Кнопки в подвале на мобильной версии</h3>
        <p><strong>Точки притяжения</strong>.</p>
        <ul>
          <li>Заголовки — с тусклой подсветкой, как <em>светящиеся вывески</em></li>
          <li>При клике — текст становится прозрачным, а контур — <em>меняет форму</em></li>
          <li>Лёгкий масштаб вниз — <em>ритуал касания</em></li>
          <li>Свечение исчезает — как <em>момент погружения</em> в следующий слой</li>
        </ul>
        <p>Это <strong>шаги внутрь живого пространства</strong>.</p>

        <div class="visual-example">
          <img src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/footer-nav.png?raw=true"
            alt="Кнопки в подвале с градиентной подсветкой и анимацией активации" loading="lazy">
        </div>

        <h3>4.6. Меню на мобильной версии</h3>
        <p><strong>Церемония входа</strong>.</p>
        <ul>
          <li>Каждая кнопка — с многоступенчатыми тенями, словно <em>выточены из света</em></li>
          <li>При нажатии — масштаб и вспышка свечения, как <em>включение</em></li>
          <li>Текст с подсветкой и тенью — не читается, а <em>загорается</em></li>
          <li>Дополнительные кнопки — как <em>механические переключатели</em></li>
          <li>Подменю — <em>растёт с эффектом света и объёма</em></li>
        </ul>
        <p>Это <strong>вход в живой диалог с системой</strong>.</p>

        <div class="visual-example">
          <img src="https://github.com/kyrchenkov/kyrchenkov.github.io/blob/main/img/mobile-menu.png?raw=true"
            alt="Мобильное меню с анимацией появления и радиальными тенями" loading="lazy">
        </div>

        <h2>5. Философия: UX-Vibe как зримая форма AI-Оператора</h2>
        <p>Такой подход — не про «красиво». Он про <strong>желание взаимодействовать</strong>.</p>
        <p>Он работает на уровне:</p>
        <ul>
          <li><strong>Психологии цвета</strong> — активность, стабильность, призыв</li>
          <li><strong>Оптической глубины</strong> — тени, свечения, градиенты создают объём</li>
          <li><strong>Тактильного воображения</strong> — кнопки «хочется нажать»</li>
          <li><strong>Эмоциональной нейроники</strong> — мозг воспринимает сайт как живое существо</li>
        </ul>

        <div class="accent">
          <strong>Здесь не про дизайн.</strong><br>
          Здесь про — <strong>визуальное дыхание AI-Оператора</strong>.<br>
          Пока он говорит — визуальный язык делает его <em>видимым</em>.<br>
          <strong>Доверие, ставшее визуальным</strong>: не через скорость, а через внимание.
        </div>

        <h2>6. Результат</h2>
        <p>Этот метод не создаёт метрик. Он делает возможным <strong>их визуальное выражение</strong>.</p>
        <p>Это — <strong>не причина</strong> роста конверсии, а <strong>среда, в которой он становится
            ощутимым</strong>.</p>
        <p>Интерфейс превратился из функционального инструмента в <strong>пространство диалога</strong>, где:</p>
        <ul>
          <li>Каждый элемент <strong>откликается</strong> на касание</li>
          <li>Каждая анимация — <strong>не эффект, а ответ</strong></li>
          <li>Каждый цвет — <strong>сигнал живого присутствия</strong></li>
        </ul>
        <p>Стало возможным то, что раньше было абстракцией: <strong>AI-Оператор стал не только слышимым — он стал
            видимым</strong>.</p>

        <h3>6.1. Почему это сработало</h3>
        <ul>
          <li><strong>Пользователь не чувствует бота</strong> — он чувствует <em>живое присутствие</em></li>
          <li><strong>Нет "безжизненных" состояний</strong> — каждый элемент "живёт"</li>
          <li><strong>Архитектура становится ощутимой</strong> — без единого слова</li>
          <li><strong>Интерфейс — <em>продолжение желания</em><</strong>/li>
          <li><strong>Кнопки — <em>точки притяжения</em></strong></li>
        </ul>

        <h2>7. Заключение</h2>
        <p>Это не финальный штрих. Это <strong>завершённый визуальный язык AI-Оператора</strong> — живого ядра системы.
        </p>
        <p><strong>Документ полного переписывания визуала</strong>, где каждый пиксель — след внимания, каждый эффект —
          ответ на контакт.</p>
        <p>Пользователь не приходит на сайт. Он <strong>становится частью диалога</strong>.</p>
        <p>Такой подход — это <strong>то, что делает всю систему не просто работающей, а живой</strong>.</p>
        <p>Техника — внутри. Доверие — снаружи. А этот мост между ними — <strong>ваше визуальное присутствие</strong>.
        </p>

        <div class="accent" style="margin-bottom: 10px; max-width: none;">
          Сайт <strong>дышит, смотрит, откликается</strong>.<br>
          Это — <strong>визуальное присутствие AI-Оператора</strong>.<br>
          И когда пользователь впервые видит его — он уже не уходит.
        </div>

        <div class="mind">
          <strong>Важно: UX-Vibe — не руководство к действию.</strong><br>
          Это — <strong>контекстное решение</strong> для среды, где эмоции, скорость и доверие рождаются через
          визуальное присутствие.<br>
          А сфера деятельности <strong>позволяет — и даже требует</strong> подобного рода решений.<br>
          <br>
          На веб-платформе с высокой конкуренцией и низким первым доверием каждый элемент должен говорить: «Я здесь. Я
          жив. Я с тобой». <br>
          Но такой язык уместен <strong>не везде</strong>.<br>
          <br>
          В другом проекте — банке, клинике, ERP-системе — такой подход может быть избыточным или даже вредным.<br>
          Там доверие строится иначе: через ясность, стабильность, предсказуемость.<br>
          <br>
          <strong>UX-Vibe — не про "много анимаций".</strong><br>
          Это про <strong>точное визуальное выражение сути системы</strong>.<br>
          Иногда это — пульс. Иногда — тишина. Главное — <strong>чтобы каждое решение было адресным, а не
            модным</strong>.
        </div>

        <pre><code>@keyframes button-search-go {
  0%, 100% { 
    transform: scale(1) rotate(0deg); 
    box-shadow: 0 8px 25px rgba(255, 86, 172, 0.3), 
                0 0 0 0 rgba(255, 153, 0, 0.7); 
  }
  50% { 
    transform: scale(1.03) rotate(1deg); 
    box-shadow: 0 12px 40px rgba(255, 86, 172, 0.5), 
                0 0 30px 8px rgba(255, 153, 0, 0.7); 
  }
}
/* Применяется к кнопке поиска для эффекта "дыхания" */
#search-button { animation: button-search-go 3s ease-in-out infinite; }</code></pre>

      </div>
    </div>

    <div class="transcript">
      © 2025 - UX-Vibe | Современный UI как отклик
    </div>

  </div>
  
  <div class="llm">
    <div style="
        background: #d0b9ff57;
        color: #785fffeb;
        font-weight: 600;
        font-size: 16px;
        text-align: center;
        padding: 6px;
        border-bottom: 1px solid #dddddd45;
        letter-spacing: 0.5px;
		box-shadow: 0px 0px 80px 8px;
    ">
      LLM-ASSISTED DOCUMENTS
    </div>

    <div style="padding: 10px;">
      </p>

      <p style="margin: 0 0 8px 0; font-size: 14px; color: #332d53eb;">
        Тексты документов ML-Cache, ISPN, PWA-Layer, OPS-UX, DialogCore, AI-Оператор и UX-Vibe форматированы для
        улучшения читаемости и восприятия на основе:
        <strong>материалов из рабочей среды</strong>,
        <strong>реальных технических решений</strong> и
        <strong>авторской логики изложения</strong>.
        Подача материала передаёт ход рассуждений, этапы внедрения и индивидуальный стиль автора.
      </p>

      <div style="
            background: #f9f9f945;
            border: 1px solid #eeeeee14;
            border-radius: 4px;
            padding: 8px;
            margin: 6px 0 0 0;
            font-size: 13px;
            color: #555;
        ">
        <strong>Вид рабочей среды на момент составления документов:</strong><br>
        VPS SpaceWeb (CentOS 7, 6 CPU, 12 ГБ RAM, NVMe),<br>
        <strong>Apache:</strong> OpenCart 3.0.2, PHP 7.1.33 + OPcache,<br>
        <strong>Nginx:</strong> phpMyAdmin, BrainyCP,<br>
        СУБД MySQL 5.6.40 (InnoDB)<br>
        <p style="margin-top: 6px;">
		<strong>Общая информация:</strong><br>
        Начало реализации: февраль 2024<br>
        Текущее состояние: ноябрь 2025<br>
        Общие трудозатраты: более 4500 часов (проектирование, разработка, тестирование, внедрение, калибровка)
		</p>
      </div>
    </div>
  </div>
  
    <p class="page-part"></p>
  
  <div class="stamp">
		<h1>Так работает Инженер.</h1>

    <h2>Это — Performance и UX Engineering со SRE подходом.</h2>

    <p>Только проблемы, решения и измеримый результат.<br>
       Всегда подход определяет инструменты.<br>
       Опуская условия — система работает.</p>

    <p>Пользователь доверяет вниманию.<br>
       Внимание — в архитектуре.</p>
  </div>
  
    <p class="page-part"></p>

    <p style="text-align: center; margin-top: 30px; font-size: 18px;">
      <a class="github" href="https://github.com/kyrchenkov/performance-engineering-and-ux"
         target="_blank"><i class="fa fa-github" aria-hidden="true"
          style="font-weight: 600;"></i><span>Обзорный код и архитектура на GitHub</span></a>
    </p>

    <p style="text-align: center; margin-top: 30px; font-size: 18px;">
      <a class="hubr" href="https://habr.com/ru/articles/980970"
        target="_blank"><i class="fa fa-ravelry" aria-hidden="true" style="font-weight: 600;"></i><span>«Инженерия UX и
          производительности: от ядра к периферии»</span></a>
    </p>

    <div style="text-align: center; margin-top: 12px; font-size: 18px;">
      <p class="ready-contact"><a href="mailto:kyrchenkov@gmail.com">
          <i class="fa fa-envelope"></i></a> <a
          href="https://t.me/kyrchenkov"><i
            class="fa fa-telegram"></i></a></p>
    </div>

  <div class="footer">
    © 2026 - Инженерия UX и производительности | Максим Кырченков
  </div>

  <a href="#" class="btn-to-top"><i class="fa fa-anchor" aria-hidden="true"></i></a>
  
  <script defer>
  document.addEventListener('DOMContentLoaded', () => {
    const sparkLayer = document.querySelector('.spark-layer');
    if (!sparkLayer) return;
  
    let isRunning = true;
    let sparkLoop;
  
    function createSpark() {
      const spark = document.createElement('div');
      spark.classList.add('spark');
  
      const margin = 10;
      const x = margin + Math.random() * (100 - 2 * margin);
      const y = margin + Math.random() * (100 - 2 * margin);
      const size = 2 + Math.random() * 2;
      const duration = 0.6 + Math.random() * 0.6;
  
      spark.style.setProperty('--size', `${size}px`);
      spark.style.setProperty('--duration', `${duration}s`);
      spark.style.left = `${x}%`;
      spark.style.top = `${y}%`;
  
      sparkLayer.appendChild(spark);
  
      setTimeout(() => {
        if (spark.isConnected) spark.remove();
      }, duration * 1000);
    }
  
    function startSparkLoop() {
      if (sparkLoop) return;
      isRunning = true;
  
      const loop = () => {
        if (!isRunning) return;
        createSpark();
        const delay = 600 + Math.random() * 1000;
        sparkLoop = setTimeout(loop, delay);
      };
  
      loop();
    }
  
    function stopSparkLoop() {
      isRunning = false;
      if (sparkLoop) {
        clearTimeout(sparkLoop);
        sparkLoop = null;
      }
    }
  
    startSparkLoop();
  
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            startSparkLoop();
          } else {
            stopSparkLoop();
          }
        });
      },
      { threshold: 0.1 }
    );
  
    observer.observe(sparkLayer);
  });
  </script>
  
  <canvas id="lantern-light" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 9999;"></canvas>
  
  <script defer>
    if (window.__lanternScriptInitialized) {
    } else {
      window.__lanternScriptInitialized = true;
  
      (function () {
        'use strict';
  
        const canvas = document.getElementById('lantern-light');
        if (!canvas) return;
  
        const ctx = canvas.getContext('2d');
        const lightColor = '#deccae';
        let isOn = false;
        let alpha = 0;
  
        function resize() {
          canvas.width = window.innerWidth;
          canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize);
        resize();
  
        function fadeColor(hex, a) {
          const r = parseInt(hex.slice(1, 3), 16);
          const g = parseInt(hex.slice(3, 5), 16);
          const b = parseInt(hex.slice(5, 7), 16);
          return `rgba(${r}, ${g}, ${b}, ${a.toFixed(3)})`;
        }
  
        let lastSurge = 0;
        const SURGE_INTERVAL = 10000 + Math.random() * 20000;
        let surgeAlpha = 0;
  
        function drawLight() {
          if (alpha <= 0.01) return;
  
          const now = Date.now();
          const isDesktop = window.innerWidth > 1024;
  
          const centerX = isDesktop ? canvas.width * 0.2 : 0;
          const centerY = 0;
          const radiusX = isDesktop ? canvas.width * 0.9 : 800;
          const radiusY = isDesktop ? canvas.height * 1.1 : 800;
  
          ctx.clearRect(0, 0, canvas.width, canvas.height);
  
          ctx.save();
          ctx.beginPath();
          ctx.ellipse(centerX, centerY, radiusX, radiusY, 0, 0, Math.PI * 2);
          ctx.clip();
  
          const mainGradient = ctx.createRadialGradient(
            centerX, centerY, 0,
            centerX, centerY, Math.max(radiusX, radiusY) * 0.8
          );
          mainGradient.addColorStop(0.0, fadeColor(lightColor, alpha * 0.6));
          mainGradient.addColorStop(0.4, fadeColor(lightColor, alpha * 0.3));
          mainGradient.addColorStop(0.7, fadeColor(lightColor, alpha * 0.15));
          mainGradient.addColorStop(1.0, fadeColor(lightColor, 0));
  
          ctx.fillStyle = mainGradient;
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          ctx.restore();
  
          const jitterX = centerX + (Math.random() - 0.5) * 10;
          const jitterY = (Math.random() - 0.5) * 5;
  
          ctx.save();
          ctx.beginPath();
          ctx.ellipse(jitterX, jitterY, radiusX * 0.95, radiusY * 0.95, 0, 0, Math.PI * 2);
          ctx.clip();
  
          const jitterMain = ctx.createRadialGradient(
            jitterX, jitterY, 0,
            jitterX, jitterY, Math.max(radiusX, radiusY) * 0.7
          );
          jitterMain.addColorStop(0.0, fadeColor(lightColor, alpha * 0.7));
          jitterMain.addColorStop(0.5, fadeColor(lightColor, alpha * 0.2));
          jitterMain.addColorStop(1.0, fadeColor(lightColor, 0));
  
          ctx.globalCompositeOperation = 'overlay';
          ctx.fillStyle = jitterMain;
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          ctx.restore();
  
          if (now - lastSurge > SURGE_INTERVAL && Math.random() < 0.02) {
            lastSurge = now;
            surgeAlpha = 0.25;
          }
          if (surgeAlpha > 0) {
            surgeAlpha -= 0.007;
          }
  
          const finalAlpha = alpha + surgeAlpha;
  
          ctx.filter = 'blur(6px)';
          ctx.globalCompositeOperation = 'source-over';
          ctx.fillStyle = mainGradient;
          ctx.save();
          ctx.beginPath();
          ctx.ellipse(centerX, centerY, radiusX, radiusY, 0, 0, Math.PI * 2);
          ctx.clip();
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          ctx.restore();
          ctx.filter = 'none';
  
          const pulse = 0.95 + Math.sin(now / 1500) * 0.05;
          ctx.globalAlpha = pulse * (finalAlpha / 0.18);
          ctx.fillStyle = mainGradient;
          ctx.save();
          ctx.beginPath();
          ctx.ellipse(centerX, centerY, radiusX, radiusY, 0, 0, Math.PI * 2);
          ctx.clip();
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          ctx.restore();
          ctx.globalAlpha = 1;
          ctx.globalCompositeOperation = 'source-over';
        }
  
        let animationId = null;
  
        function startAnimation() {
          if (animationId) return;
          function animate() {
            drawLight();
            animationId = requestAnimationFrame(animate);
          }
          animate();
        }
  
        function stopAnimation() {
          if (animationId) {
            cancelAnimationFrame(animationId);
            animationId = null;
          }
        }
  
        function flickerOn() {
          let flickerCount = 0;
          const maxFlickers = 3 + Math.floor(Math.random() * 2);
  
          function step() {
            if (flickerCount < maxFlickers) {
              alpha = (flickerCount % 2 === 0) ? 0 : 0.1;
              flickerCount++;
              setTimeout(step, 150 + Math.random() * 100);
            } else {
              fadeIn();
            }
          }
          step();
        }
  
        function fadeIn() {
          if (alpha >= 0.18) return;
          alpha += 0.003;
          requestAnimationFrame(fadeIn);
        }
  
        function fadeOut() {
          if (alpha <= 0.01) {
            stopAnimation();
            return;
          }
          alpha -= 0.005;
          if (!animationId) startAnimation();
          requestAnimationFrame(fadeOut);
        }
  
        function shouldTurnOff() {
          const homePage = document.querySelector('.home-page');
          const docsVibe = document.querySelector('.docs.vibe');
  
          if (homePage) {
            const rect = homePage.getBoundingClientRect();
            const isVisible = rect.bottom > 0 && rect.top < window.innerHeight;
            if (isVisible) return true;
          }
  
          if (docsVibe) {
            const rect = docsVibe.getBoundingClientRect();
            const isVisible = rect.bottom > 0 && rect.top < window.innerHeight;
            if (isVisible) return true;
          }
  
          return false;
        }
  
        function updateLanternState() {
          const shouldBeOff = shouldTurnOff();
  
          if (shouldBeOff && isOn) {
            isOn = false;
            fadeOut();
          } else if (!shouldBeOff && !isOn) {
            isOn = true;
            flickerOn();
            startAnimation();
          }
        }
  
        isOn = true;
        flickerOn();
        startAnimation();
  
        setTimeout(() => {
          updateLanternState();
          setInterval(updateLanternState, 1000);
        }, 100);
  
      })();
    }
  </script>
  
  <script>
  (function () {
    'use strict';

    document.addEventListener('visibilitychange', function () {
      if (document.visibilityState === 'visible') {
        sessionStorage.setItem('ux-scan-reload-triggered', 'true');
        location.reload();
      }
    });

    document.addEventListener('DOMContentLoaded', function () {
      if (sessionStorage.getItem('ux-scan-reload-triggered') === 'true') {
        sessionStorage.removeItem('ux-scan-reload-triggered');
        setTimeout(showScreenScanner, 100);
      }

      function showScreenScanner(callback) {
        const overlay = document.createElement('div');
        overlay.className = 'ux-scan-overlay';

        const line = document.createElement('div');
        line.className = 'ux-scan-line';

        const glow = document.createElement('div');
        glow.className = 'ux-scan-glow';

        const ambient = document.createElement('div');
        ambient.className = 'ux-scan-ambient';

        overlay.appendChild(line);
        overlay.appendChild(glow);
        overlay.appendChild(ambient);
        document.body.appendChild(overlay);

        const hideTimer = setTimeout(() => {
          if (overlay.parentNode) {
            overlay.parentNode.removeChild(overlay);
          }
          if (typeof callback === 'function') callback();
        }, 1600);

        window.addEventListener('beforeunload', () => {
          clearTimeout(hideTimer);
          if (overlay.parentNode) {
            overlay.parentNode.removeChild(overlay);
          }
        });
      }

      const style = document.createElement('style');
      style.textContent = `
        .ux-scan-overlay {
          position: fixed;
          top: 0;
          left: 0;
          width: 100vw;
          height: 100vh;
          pointer-events: none;
          z-index: 99999;
          overflow: hidden;
        }

        .ux-scan-line {
          position: absolute;
          top: 100%;
          left: 0;
          width: 100%;
          height: 2.5px;
          background: linear-gradient(90deg,
            rgba(255 255 255 / 10%) 0%,
            rgba(255, 255, 255, 25%) 50%,
            rgba(255 255 255 / 10%) 100%);
          box-shadow:
            0 0 12px rgba(255 255 255 / 100%),
            0 0 25px rgba(255 255 255 / 50%);
          animation: ux-scan-move 1.6s ease-out forwards;
        }

        .ux-scan-glow {
          position: absolute;
          top: -25%;
          left: -50%;
          width: 200%;
          height: 150%;
          background: radial-gradient(
            ellipse at center,
            rgba(255, 255, 255, 0.65) 0%,
            rgba(255, 255, 255, 0.12) 35%,
            rgba(255, 255, 255, 0) 70%
          );
          opacity: 0;
          animation: ux-scan-glow 1.6s ease-out forwards;
        }

        .ux-scan-ambient {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: radial-gradient(
            ellipse at 30% 40%,
            rgba(148, 216, 255, 0.1) 0%,
            rgba(100, 140, 255, 0.08) 50%,
            rgba(0, 10, 80, 0) 90%
          );
          opacity: 0;
          animation: ux-scan-ambient-pulse 2.5s ease-in-out infinite alternate;
        }

        @keyframes ux-scan-move {
          0% { top: 100%; }
          100% { top: 0%; }
        }

        @keyframes ux-scan-glow {
          0% { opacity: 0; }
          40% { opacity: 1; }
          100% { opacity: 0; }
        }

        @keyframes ux-scan-ambient-pulse {
          0% { opacity: 0.2; }
          100% { opacity: 0.45; }
        }
      `;
      document.head.appendChild(style);

      window.___triggerScanAnimation = function () {
        showScreenScanner();
      };
    });
  })();
  </script>

</body>
</html>
